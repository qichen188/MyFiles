<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="163">
  <HTTPTask id="223" hostname="static.runoob.com" path="/assets/simditor/2.3.6/scripts/simditor.min.js" url="https://static.runoob.com/assets/simditor/2.3.6/scripts/simditor.min.js" origin="Primary" frame="1" startTime="1651254" endTime="1651270">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly93d3cucnVub29iLmNvbS9odG1sL2h0bWwtdHV0b3JpYWwuaHRtbA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtQ04=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXaW42NDsgeDY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="UA-CPU" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QU1ENjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c3RhdGljLnJ1bm9vYi5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="DNT" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>X19nYWRzPUlEPWRkZDdmYTAwMmJlY2M1MjA6VD0xNTk1NzQyNzM5OlM9QUxOSV9NYjJhc0RWZFNBaEthY2g2UHpqTU1RRkxET0ZRQTsgSG1fbHZ0XzNlZWMwYjdkYTY1NDhjZjA3ZGIzYmM0NzdlYTkwNWVlPTE1OTcyNDA4MzQsMTU5NzI0MTUxNCwxNTk3NDU5NTQ4LDE1OTc0NTk5Njg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hc3NldHMvc2ltZGl0b3IvMi4zLjYvc2NyaXB0cy9zaW1kaXRvci5taW4uanMgSFRUUC8xLjENCkFjY2VwdDogYXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44DQpSZWZlcmVyOiBodHRwczovL3d3dy5ydW5vb2IuY29tL2h0bWwvaHRtbC10dXRvcmlhbC5odG1sDQpBY2NlcHQtTGFuZ3VhZ2U6IHpoLUNODQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdpbjY0OyB4NjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvDQpVQS1DUFU6IEFNRDY0DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkhvc3Q6IHN0YXRpYy5ydW5vb2IuY29tDQpETlQ6IDENCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogX19nYWRzPUlEPWRkZDdmYTAwMmJlY2M1MjA6VD0xNTk1NzQyNzM5OlM9QUxOSV9NYjJhc0RWZFNBaEthY2g2UHpqTU1RRkxET0ZRQTsgSG1fbHZ0XzNlZWMwYjdkYTY1NDhjZjA3ZGIzYmM0NzdlYTkwNWVlPTE1OTcyNDA4MzQsMTU5NzI0MTUxNCwxNTk3NDU5NTQ4LDE1OTc0NTk5NjgNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="__gads" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SUQ9ZGRkN2ZhMDAyYmVjYzUyMDpUPTE1OTU3NDI3Mzk6Uz1BTE5JX01iMmFzRFZkU0FoS2FjaDZQempNTVFGTERPRlFB</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Hm_lvt_3eec0b7da6548cf07db3bc477ea905ee" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTU5NzI0MDgzNCwxNTk3MjQxNTE0LDE1OTc0NTk1NDgsMTU5NzQ1OTk2OA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SlNQMy8yLjAuMTQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U2F0LCAxNSBBdWcgMjAyMCAwMzowMDoyNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iNEYyQ0QxQjVBQjc4RjgwMTlCMDBCQzc4QThGN0NFOTci</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxNCBBcHIgMjAxNyAwODowNzo0NyBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Age" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ODY3ODY3</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Md5" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHl6UnRhdDQrQUdiQUx4NHFQZk9sdz09</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-M-Log" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>UU5NOmpqaDE5MDk7UU5NMzox</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-M-Reqid" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>N0lZQUFEM25uVERWcnVVVg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Oss-Hash-Crc64ecma" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NTk3OTUzODQ4OTE3MDMxMTA5OA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Oss-Object-Type" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Tm9ybWFs</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Oss-Request-Id" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NURGMUY5NjQyQTUzNUQzMTMyNDkyQ0RF</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Oss-Server-Time" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Oss-Storage-Class" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U3RhbmRhcmQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Qnm-Cache" index="17">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SGl0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Ohc-Cache-HIT" index="18">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHljdDE0NiBbNF0sIHhpYW5neWN0Y2FjaGUxNDYgWzRdLCBxZGl4MjM4IFszXQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Ohc-File-Size" index="19">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LTE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IEpTUDMvMi4wLjE0DQpEYXRlOiBTYXQsIDE1IEF1ZyAyMDIwIDAzOjAwOjI0IEdNVA0KQ29udGVudC1UeXBlOiB0ZXh0L2phdmFzY3JpcHQNClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpFVGFnOiBXLyI0RjJDRDFCNUFCNzhGODAxOUIwMEJDNzhBOEY3Q0U5NyINCkxhc3QtTW9kaWZpZWQ6IEZyaSwgMTQgQXByIDIwMTcgMDg6MDc6NDcgR01UDQpBZ2U6IDg2Nzg2Nw0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNvbnRlbnQtTWQ1OiBUeXpSdGF0NCtBR2JBTHg0cVBmT2x3PT0NClgtTS1Mb2c6IFFOTTpqamgxOTA5O1FOTTM6MQ0KWC1NLVJlcWlkOiA3SVlBQUQzbm5URFZydVVWDQpYLU9zcy1IYXNoLUNyYzY0ZWNtYTogNTk3OTUzODQ4OTE3MDMxMTA5OA0KWC1Pc3MtT2JqZWN0LVR5cGU6IE5vcm1hbA0KWC1Pc3MtUmVxdWVzdC1JZDogNURGMUY5NjQyQTUzNUQzMTMyNDkyQ0RFDQpYLU9zcy1TZXJ2ZXItVGltZTogMjENClgtT3NzLVN0b3JhZ2UtQ2xhc3M6IFN0YW5kYXJkDQpYLVFubS1DYWNoZTogSGl0DQpPaGMtQ2FjaGUtSElUOiBoeWN0MTQ2IFs0XSwgeGlhbmd5Y3RjYWNoZTE0NiBbNF0sIHFkaXgyMzggWzNdDQpPaGMtRmlsZS1TaXplOiAtMQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyohCiogU2ltZGl0b3IgdjIuMy42CiogaHR0cDovL3NpbWRpdG9yLnRvd2VyLmltLwoqIDIwMTUtMTItMjEKKi8KIWZ1bmN0aW9uKGEsYil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD8KLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXQKZGVmaW5lKCJzaW1kaXRvciIsWyJqcXVlcnkiLCJzaW1wbGUtbW9kdWxlIiwic2ltcGxlLWhvdGtleXMiLCJzaW1wbGUtdXBsb2FkZXIiXSxmdW5jdGlvbihjLGQsZSxmKXtyZXR1cm4gYS5TaW1kaXRvcj1iKGMsZCxlLGYpfSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIocmVxdWlyZSgianF1ZXJ5IikscmVxdWlyZSgic2ltcGxlLW1vZHVsZSIpLHJlcXVpcmUoInNpbXBsZS1ob3RrZXlzIikscmVxdWlyZSgic2ltcGxlLXVwbG9hZGVyIikpOmEuU2ltZGl0b3I9YihqUXVlcnksU2ltcGxlTW9kdWxlLHNpbXBsZS5ob3RrZXlzLHNpbXBsZS51cGxvYWRlcil9KHRoaXMsZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWF9Zm9yKHZhciBkIGluIGIpTi5jYWxsKGIsZCkmJihhW2RdPWJbZF0pO3JldHVybiBjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLnByb3RvdHlwZT1uZXcgYyxhLl9fc3VwZXJfXz1iLnByb3RvdHlwZSxhfSxOPXt9Lmhhc093blByb3BlcnR5LE89W10uaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtjPmI7YisrKWlmKGIgaW4gdGhpcyYmdGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9LFA9W10uc2xpY2U7cmV0dXJuIEM9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYyxiKSxjLnBsdWdpbk5hbWU9IlNlbGVjdGlvbiIsYy5wcm90b3R5cGUuX3JhbmdlPW51bGwsYy5wcm90b3R5cGUuX3N0YXJ0Tm9kZXM9bnVsbCxjLnByb3RvdHlwZS5fZW5kTm9kZXM9bnVsbCxjLnByb3RvdHlwZS5fY29udGFpbmVyTm9kZT1udWxsLGMucHJvdG90eXBlLl9ub2Rlcz1udWxsLGMucHJvdG90eXBlLl9ibG9ja05vZGVzPW51bGwsYy5wcm90b3R5cGUuX3Jvb3ROb2Rlcz1udWxsLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yPXRoaXMuX21vZHVsZSx0aGlzLl9zZWxlY3Rpb249ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCksdGhpcy5lZGl0b3Iub24oInNlbGVjdGlvbmNoYW5nZWQiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5yZXNldCgpLGEuX3JhbmdlPWEuX3NlbGVjdGlvbi5nZXRSYW5nZUF0KDApfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJibHVyIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEucmVzZXQoKX19KHRoaXMpKX0sYy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2U9bnVsbCx0aGlzLl9zdGFydE5vZGVzPW51bGwsdGhpcy5fZW5kTm9kZXM9bnVsbCx0aGlzLl9jb250YWluZXJOb2RlPW51bGwsdGhpcy5fbm9kZXM9bnVsbCx0aGlzLl9ibG9ja05vZGVzPW51bGwsdGhpcy5fcm9vdE5vZGVzPW51bGx9LGMucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGE7dHJ5e3RoaXMuX3NlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKX1jYXRjaChiKXthPWJ9cmV0dXJuIHRoaXMucmVzZXQoKX0sYy5wcm90b3R5cGUucmFuZ2U9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGE/KHRoaXMuY2xlYXIoKSx0aGlzLl9zZWxlY3Rpb24uYWRkUmFuZ2UoYSksdGhpcy5fcmFuZ2U9YSxiPXRoaXMuZWRpdG9yLnV0aWwuYnJvd3Nlci5maXJlZm94fHx0aGlzLmVkaXRvci51dGlsLmJyb3dzZXIubXNpZSwhdGhpcy5lZGl0b3IuaW5wdXRNYW5hZ2VyLmZvY3VzZWQmJmImJnRoaXMuZWRpdG9yLmJvZHkuZm9jdXMoKSk6IXRoaXMuX3JhbmdlJiZ0aGlzLmVkaXRvci5pbnB1dE1hbmFnZXIuZm9jdXNlZCYmdGhpcy5fc2VsZWN0aW9uLnJhbmdlQ291bnQmJih0aGlzLl9yYW5nZT10aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKSksdGhpcy5fcmFuZ2V9LGMucHJvdG90eXBlLnN0YXJ0Tm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2UmJih0aGlzLl9zdGFydE5vZGVzfHwodGhpcy5fc3RhcnROb2Rlcz1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYztyZXR1cm4gYz1hKGIuX3JhbmdlLnN0YXJ0Q29udGFpbmVyKS5wYXJlbnRzVW50aWwoYi5lZGl0b3IuYm9keSkuZ2V0KCksYy51bnNoaWZ0KGIuX3JhbmdlLnN0YXJ0Q29udGFpbmVyKSxhKGMpfX0odGhpcykoKSkpLHRoaXMuX3N0YXJ0Tm9kZXN9LGMucHJvdG90eXBlLmVuZE5vZGVzPWZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIHRoaXMuX3JhbmdlJiYodGhpcy5fZW5kTm9kZXN8fCh0aGlzLl9lbmROb2Rlcz10aGlzLl9yYW5nZS5jb2xsYXBzZWQ/dGhpcy5zdGFydE5vZGVzKCk6KGI9YSh0aGlzLl9yYW5nZS5lbmRDb250YWluZXIpLnBhcmVudHNVbnRpbCh0aGlzLmVkaXRvci5ib2R5KS5nZXQoKSxiLnVuc2hpZnQodGhpcy5fcmFuZ2UuZW5kQ29udGFpbmVyKSxhKGIpKSkpLHRoaXMuX2VuZE5vZGVzfSxjLnByb3RvdHlwZS5jb250YWluZXJOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlJiYodGhpcy5fY29udGFpbmVyTm9kZXx8KHRoaXMuX2NvbnRhaW5lck5vZGU9YSh0aGlzLl9yYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcikpKSx0aGlzLl9jb250YWluZXJOb2RlfSxjLnByb3RvdHlwZS5ub2Rlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZSYmKHRoaXMuX25vZGVzfHwodGhpcy5fbm9kZXM9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM7cmV0dXJuIGM9W10sYi5zdGFydE5vZGVzKCkuZmlyc3QoKS5pcyhiLmVuZE5vZGVzKCkuZmlyc3QoKSk/Yz1iLnN0YXJ0Tm9kZXMoKS5nZXQoKTooYi5zdGFydE5vZGVzKCkuZWFjaChmdW5jdGlvbihkLGUpe3ZhciBmLGcsaCxpLGosayxsO3JldHVybiBnPWEoZSksYi5lbmROb2RlcygpLmluZGV4KGcpPi0xP2MucHVzaChlKTpnLnBhcmVudCgpLmlzKGIuZWRpdG9yLmJvZHkpfHwoaz1iLmVuZE5vZGVzKCkuaW5kZXgoZy5wYXJlbnQoKSkpPi0xPyhmPWsmJms+LTE/Yi5lbmROb2RlcygpLmVxKGstMSk6Yi5lbmROb2RlcygpLmxhc3QoKSxoPWcucGFyZW50KCkuY29udGVudHMoKSxsPWguaW5kZXgoZyksaT1oLmluZGV4KGYpLGEubWVyZ2UoYyxoLnNsaWNlKGwsaSkuZ2V0KCkpKTooaD1nLnBhcmVudCgpLmNvbnRlbnRzKCksaj1oLmluZGV4KGcpLGEubWVyZ2UoYyxoLnNsaWNlKGopLmdldCgpKSl9KSxiLmVuZE5vZGVzKCkuZWFjaChmdW5jdGlvbihkLGUpe3ZhciBmLGcsaDtyZXR1cm4gZj1hKGUpLGYucGFyZW50KCkuaXMoYi5lZGl0b3IuYm9keSl8fGIuc3RhcnROb2RlcygpLmluZGV4KGYucGFyZW50KCkpPi0xPyhjLnB1c2goZSksITEpOihnPWYucGFyZW50KCkuY29udGVudHMoKSxoPWcuaW5kZXgoZiksYS5tZXJnZShjLGcuc2xpY2UoMCxoKzEpKSl9KSksYShhLnVuaXF1ZShjKSl9fSh0aGlzKSgpKSksdGhpcy5fbm9kZXN9LGMucHJvdG90eXBlLmJsb2NrTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2U/KHRoaXMuX2Jsb2NrTm9kZXN8fCh0aGlzLl9ibG9ja05vZGVzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLm5vZGVzKCkuZmlsdGVyKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZWRpdG9yLnV0aWwuaXNCbG9ja05vZGUoYyl9KX19KHRoaXMpKCkpLHRoaXMuX2Jsb2NrTm9kZXMpOnZvaWQgMH0sYy5wcm90b3R5cGUucm9vdE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlPyh0aGlzLl9yb290Tm9kZXN8fCh0aGlzLl9yb290Tm9kZXM9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIubm9kZXMoKS5maWx0ZXIoZnVuY3Rpb24oYyxkKXt2YXIgZTtyZXR1cm4gZT1hKGQpLnBhcmVudCgpLGUuaXMoYi5lZGl0b3IuYm9keSl8fGUuaXMoImJsb2NrcXVvdGUiKX0pfX0odGhpcykoKSksdGhpcy5fcm9vdE5vZGVzKTp2b2lkIDB9LGMucHJvdG90eXBlLnJhbmdlQXRFbmRPZj1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGgsaTtyZXR1cm4gbnVsbD09YyYmKGM9dGhpcy5yYW5nZSgpKSxjJiZjLmNvbGxhcHNlZD8oYj1hKGIpWzBdLGY9Yy5lbmRDb250YWluZXIsZz10aGlzLmVkaXRvci51dGlsLmdldE5vZGVMZW5ndGgoZiksZT1jLmVuZE9mZnNldD09PWctMSxoPWEoZikuY29udGVudHMoKS5sYXN0KCkuaXMoImJyIiksZD1jLmVuZE9mZnNldD09PWcsZSYmaHx8ZD9iPT09Zj8hMDphLmNvbnRhaW5zKGIsZik/KGk9ITAsYShmKS5wYXJlbnRzVW50aWwoYikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZztyZXR1cm4gZz1hKGMpLnBhcmVudCgpLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzIT09YyYmMz09PXRoaXMubm9kZVR5cGUmJiF0aGlzLm5vZGVWYWx1ZSl9KSxkPWcubGFzdCgpLGY9ZC5nZXQoMCk9PT1jLGU9ZC5pcygiYnIiKSYmZC5wcmV2KCkuZ2V0KDApPT09YyxmfHxlP3ZvaWQgMDooaT0hMSwhMSl9KSxpKTohMTohMSk6dm9pZCAwfSxjLnByb3RvdHlwZS5yYW5nZUF0U3RhcnRPZj1mdW5jdGlvbihiLGMpe3ZhciBkLGU7cmV0dXJuIG51bGw9PWMmJihjPXRoaXMucmFuZ2UoKSksYyYmYy5jb2xsYXBzZWQ/KGI9YShiKVswXSxlPWMuc3RhcnRDb250YWluZXIsMCE9PWMuc3RhcnRPZmZzZXQ/ITE6Yj09PWU/ITA6YS5jb250YWlucyhiLGUpPyhkPSEwLGEoZSkucGFyZW50c1VudGlsKGIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGU7cmV0dXJuIGU9YShjKS5wYXJlbnQoKS5jb250ZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiEodGhpcyE9PWMmJjM9PT10aGlzLm5vZGVUeXBlJiYhdGhpcy5ub2RlVmFsdWUpfSksZS5maXJzdCgpLmdldCgwKSE9PWM/ZD0hMTp2b2lkIDB9KSxkKTohMSk6dm9pZCAwfSxjLnByb3RvdHlwZS5pbnNlcnROb2RlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGw9PWMmJihjPXRoaXMucmFuZ2UoKSksYz8oYj1hKGIpWzBdLGMuaW5zZXJ0Tm9kZShiKSx0aGlzLnNldFJhbmdlQWZ0ZXIoYixjKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5zZXRSYW5nZUFmdGVyPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGw9PWMmJihjPXRoaXMucmFuZ2UoKSksbnVsbCE9Yz8oYj1hKGIpWzBdLGMuc2V0RW5kQWZ0ZXIoYiksYy5jb2xsYXBzZSghMSksdGhpcy5yYW5nZShjKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5zZXRSYW5nZUJlZm9yZT1mdW5jdGlvbihiLGMpe3JldHVybiBudWxsPT1jJiYoYz10aGlzLnJhbmdlKCkpLG51bGwhPWM/KGI9YShiKVswXSxjLnNldEVuZEJlZm9yZShiKSxjLmNvbGxhcHNlKCExKSx0aGlzLnJhbmdlKGMpKTp2b2lkIDB9LGMucHJvdG90eXBlLnNldFJhbmdlQXRTdGFydE9mPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGw9PWMmJihjPXRoaXMucmFuZ2UoKSksYj1hKGIpLmdldCgwKSxjLnNldEVuZChiLDApLGMuY29sbGFwc2UoITEpLHRoaXMucmFuZ2UoYyl9LGMucHJvdG90eXBlLnNldFJhbmdlQXRFbmRPZj1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGgsaSxqO3JldHVybiBudWxsPT1jJiYoYz10aGlzLnJhbmdlKCkpLGU9YShiKSxiPWVbMF0sZS5pcygicHJlIik/KGY9ZS5jb250ZW50cygpLGYubGVuZ3RoPjA/KGc9Zi5sYXN0KCksaT1nLnRleHQoKSxoPXRoaXMuZWRpdG9yLnV0aWwuZ2V0Tm9kZUxlbmd0aChnWzBdKSwiXG4iPT09aS5jaGFyQXQoaS5sZW5ndGgtMSk/Yy5zZXRFbmQoZ1swXSxoLTEpOmMuc2V0RW5kKGdbMF0saCkpOmMuc2V0RW5kKGIsMCkpOihqPXRoaXMuZWRpdG9yLnV0aWwuZ2V0Tm9kZUxlbmd0aChiKSwzIT09Yi5ub2RlVHlwZSYmaj4wJiYoZD1hKGIpLmNvbnRlbnRzKCkubGFzdCgpLGQuaXMoImJyIik/ai09MTozIT09ZFswXS5ub2RlVHlwZSYmdGhpcy5lZGl0b3IudXRpbC5pc0VtcHR5Tm9kZShkKSYmKGQuYXBwZW5kKHRoaXMuZWRpdG9yLnV0aWwucGhCciksYj1kWzBdLGo9MCkpLGMuc2V0RW5kKGIsaikpLGMuY29sbGFwc2UoITEpLHRoaXMucmFuZ2UoYyl9LGMucHJvdG90eXBlLmRlbGV0ZVJhbmdlQ29udGVudHM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMucmFuZ2UoKSksZT1hLmNsb25lUmFuZ2UoKSxkPWEuY2xvbmVSYW5nZSgpLGUuY29sbGFwc2UoITApLGQuY29sbGFwc2UoITEpLGM9dGhpcy5yYW5nZUF0U3RhcnRPZih0aGlzLmVkaXRvci5ib2R5LGUpLGI9dGhpcy5yYW5nZUF0RW5kT2YodGhpcy5lZGl0b3IuYm9keSxkKSwhYS5jb2xsYXBzZWQmJmMmJmI/KHRoaXMuZWRpdG9yLmJvZHkuZW1wdHkoKSxhLnNldFN0YXJ0KHRoaXMuZWRpdG9yLmJvZHlbMF0sMCksYS5jb2xsYXBzZSghMCksdGhpcy5yYW5nZShhKSk6YS5kZWxldGVDb250ZW50cygpLGF9LGMucHJvdG90eXBlLmJyZWFrQmxvY2tFbD1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBudWxsPT1jJiYoYz10aGlzLnJhbmdlKCkpLGQ9YShiKSxjLmNvbGxhcHNlZD8oYy5zZXRTdGFydEJlZm9yZShkLmdldCgwKSksYy5jb2xsYXBzZWQ/ZDpkLmJlZm9yZShjLmV4dHJhY3RDb250ZW50cygpKSk6ZH0sYy5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihiKXt2YXIgYyxkLGU7cmV0dXJuIG51bGw9PWImJihiPXRoaXMucmFuZ2UoKSksdGhpcy5fc2VsZWN0aW9uU2F2ZWQ/dm9pZCAwOihkPWIuY2xvbmVSYW5nZSgpLGQuY29sbGFwc2UoITEpLGU9YSgiPHNwYW4vPiIpLmFkZENsYXNzKCJzaW1kaXRvci1jYXJldC1zdGFydCIpLGM9YSgiPHNwYW4vPiIpLmFkZENsYXNzKCJzaW1kaXRvci1jYXJldC1lbmQiKSxkLmluc2VydE5vZGUoY1swXSksYi5pbnNlcnROb2RlKGVbMF0pLHRoaXMuY2xlYXIoKSx0aGlzLl9zZWxlY3Rpb25TYXZlZD0hMCl9LGMucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZztyZXR1cm4gdGhpcy5fc2VsZWN0aW9uU2F2ZWQ/KGU9dGhpcy5lZGl0b3IuYm9keS5maW5kKCIuc2ltZGl0b3ItY2FyZXQtc3RhcnQiKSxhPXRoaXMuZWRpdG9yLmJvZHkuZmluZCgiLnNpbWRpdG9yLWNhcmV0LWVuZCIpLGUubGVuZ3RoJiZhLmxlbmd0aD8oZj1lLnBhcmVudCgpLGc9Zi5jb250ZW50cygpLmluZGV4KGUpLGI9YS5wYXJlbnQoKSxjPWIuY29udGVudHMoKS5pbmRleChhKSxmWzBdPT09YlswXSYmKGMtPTEpLGQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxkLnNldFN0YXJ0KGYuZ2V0KDApLGcpLGQuc2V0RW5kKGIuZ2V0KDApLGMpLGUucmVtb3ZlKCksYS5yZW1vdmUoKSx0aGlzLnJhbmdlKGQpKTooZS5yZW1vdmUoKSxhLnJlbW92ZSgpKSx0aGlzLl9zZWxlY3Rpb25TYXZlZD0hMSxkKTohMX0sY30oYiksbj1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucGx1Z2luTmFtZT0iRm9ybWF0dGVyIixjLnByb3RvdHlwZS5vcHRzPXthbGxvd2VkVGFnczpbXSxhbGxvd2VkQXR0cmlidXRlczp7fSxhbGxvd2VkU3R5bGVzOnt9fSxjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvcj10aGlzLl9tb2R1bGUsdGhpcy5fYWxsb3dlZFRhZ3M9YS5tZXJnZShbImJyIiwic3BhbiIsImEiLCJpbWciLCJiIiwic3Ryb25nIiwiaSIsInN0cmlrZSIsInUiLCJmb250IiwicCIsInVsIiwib2wiLCJsaSIsImJsb2NrcXVvdGUiLCJwcmUiLCJjb2RlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJociJdLHRoaXMub3B0cy5hbGxvd2VkVGFncyksdGhpcy5fYWxsb3dlZEF0dHJpYnV0ZXM9YS5leHRlbmQoe2ltZzpbInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiZGF0YS1ub24taW1hZ2UiXSxhOlsiaHJlZiIsInRhcmdldCJdLGZvbnQ6WyJjb2xvciJdLGNvZGU6WyJjbGFzcyJdfSx0aGlzLm9wdHMuYWxsb3dlZEF0dHJpYnV0ZXMpLHRoaXMuX2FsbG93ZWRTdHlsZXM9YS5leHRlbmQoe3NwYW46WyJjb2xvciIsImZvbnQtc2l6ZSJdLGI6WyJjb2xvciJdLGk6WyJjb2xvciJdLHN0cm9uZzpbImNvbG9yIl0sc3RyaWtlOlsiY29sb3IiXSx1OlsiY29sb3IiXSxwOlsibWFyZ2luLWxlZnQiLCJ0ZXh0LWFsaWduIl0saDE6WyJtYXJnaW4tbGVmdCIsInRleHQtYWxpZ24iXSxoMjpbIm1hcmdpbi1sZWZ0IiwidGV4dC1hbGlnbiJdLGgzOlsibWFyZ2luLWxlZnQiLCJ0ZXh0LWFsaWduIl0saDQ6WyJtYXJnaW4tbGVmdCIsInRleHQtYWxpZ24iXX0sdGhpcy5vcHRzLmFsbG93ZWRTdHlsZXMpLHRoaXMuZWRpdG9yLmJvZHkub24oImNsaWNrIiwiYSIsZnVuY3Rpb24oYSl7cmV0dXJuITF9KX0sYy5wcm90b3R5cGUuZGVjb3JhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMuZWRpdG9yLmJvZHkpLHRoaXMuZWRpdG9yLnRyaWdnZXIoImRlY29yYXRlIixbYV0pLGF9LGMucHJvdG90eXBlLnVuZGVjb3JhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMuZWRpdG9yLmJvZHkuY2xvbmUoKSksdGhpcy5lZGl0b3IudHJpZ2dlcigidW5kZWNvcmF0ZSIsW2FdKSxhfSxjLnByb3RvdHlwZS5hdXRvbGluaz1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbztmb3IobnVsbD09YiYmKGI9dGhpcy5lZGl0b3IuYm9keSksaT1bXSxlPWZ1bmN0aW9uKGMpe3JldHVybiBjLmNvbnRlbnRzKCkuZWFjaChmdW5jdGlvbihjLGQpe3ZhciBmLGc7cmV0dXJuIGY9YShkKSxmLmlzKCJhIil8fGYuY2xvc2VzdCgiYSwgcHJlIixiKS5sZW5ndGg/dm9pZCAwOiFmLmlzKCJpZnJhbWUiKSYmZi5jb250ZW50cygpLmxlbmd0aD9lKGYpOihnPWYudGV4dCgpKSYmL2h0dHBzPzpcL1wvfHd3d1wuL2dpLnRlc3QoZyk/aS5wdXNoKGYpOnZvaWQgMH0pfSxlKGIpLGs9LyhodHRwcz86XC9cL3x3d3dcLilbXHdcLVwuXD8mPVwvIyU6LEBcIVwrXSsvZ2ksZj0wLGg9aS5sZW5ndGg7aD5mO2YrKyl7Zm9yKGQ9aVtmXSxuPWQudGV4dCgpLGw9W10saj1udWxsLGc9MDtudWxsIT09KGo9ay5leGVjKG4pKTspbT1uLnN1YnN0cmluZyhnLGouaW5kZXgpLGwucHVzaChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtKSksZz1rLmxhc3RJbmRleCxvPS9eKGh0dHAocyk/OlwvXC98XC8pLy50ZXN0KGpbMF0pP2pbMF06Imh0dHA6Ly8iK2pbMF0sYz1hKCc8YSBocmVmPSInK28rJyIgcmVsPSJub2ZvbGxvdyI+PC9hPicpLnRleHQoalswXSksbC5wdXNoKGNbMF0pO2wucHVzaChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuLnN1YnN0cmluZyhnKSkpLGQucmVwbGFjZVdpdGgoYShsKSl9cmV0dXJuIGJ9LGMucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbDtpZihudWxsPT1iJiYoYj10aGlzLmVkaXRvci5ib2R5KSxiLmlzKCI6ZW1wdHkiKSlyZXR1cm4gYi5hcHBlbmQoIjxwPiIrdGhpcy5lZGl0b3IudXRpbC5waEJyKyI8L3A+IiksYjtmb3Ioaz1iLmNvbnRlbnRzKCksZT0wLGc9ay5sZW5ndGg7Zz5lO2UrKylpPWtbZV0sdGhpcy5jbGVhbk5vZGUoaSwhMCk7Zm9yKGw9Yi5jb250ZW50cygpLGY9MCxoPWwubGVuZ3RoO2g+ZjtmKyspaj1sW2ZdLGM9YShqKSxjLmlzKCJiciIpPygidW5kZWZpbmVkIiE9dHlwZW9mIGQmJm51bGwhPT1kJiYoZD1udWxsKSxjLnJlbW92ZSgpKTp0aGlzLmVkaXRvci51dGlsLmlzQmxvY2tOb2RlKGopP2MuaXMoImxpIik/ZCYmZC5pcygidWwsIG9sIik/ZC5hcHBlbmQoaik6KGQ9YSgiPHVsLz4iKS5pbnNlcnRCZWZvcmUoaiksZC5hcHBlbmQoaikpOmQ9bnVsbDooKCFkfHxkLmlzKCJ1bCwgb2wiKSkmJihkPWEoIjxwLz4iKS5pbnNlcnRCZWZvcmUoaikpLGQuYXBwZW5kKGopLHRoaXMuZWRpdG9yLnV0aWwuaXNFbXB0eU5vZGUoZCkmJmQuYXBwZW5kKHRoaXMuZWRpdG9yLnV0aWwucGhCcikpO3JldHVybiBifSxjLnByb3RvdHlwZS5jbGVhbk5vZGU9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU7aWYoZj1hKGIpLGYubGVuZ3RoPjApe2lmKDM9PT1mWzBdLm5vZGVUeXBlKXJldHVybiB0PWYudGV4dCgpLnJlcGxhY2UoLyhcclxufFxufFxyKS9nbSwiIiksdm9pZCh0Pyh1PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLGYucmVwbGFjZVdpdGgodSkpOmYucmVtb3ZlKCkpO2lmKGs9Zi5pcygiaWZyYW1lIik/bnVsbDpmLmNvbnRlbnRzKCksbD10aGlzLmVkaXRvci51dGlsLmlzRGVjb3JhdGVkTm9kZShmKSxmLmlzKHRoaXMuX2FsbG93ZWRUYWdzLmpvaW4oIiwiKSl8fGwpe2lmKGYuaXMoImEiKSYmKGU9Zi5maW5kKCJpbWciKSkubGVuZ3RoPjAmJihmLnJlcGxhY2VXaXRoKGUpLGY9ZSxrPW51bGwpLGYuaXMoInRkIikmJihkPWYuZmluZCh0aGlzLmVkaXRvci51dGlsLmJsb2NrTm9kZXMuam9pbigiLCIpKSkubGVuZ3RoPjAmJihkLmVhY2goZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYykuY29udGVudHMoKS51bndyYXAoKX19KHRoaXMpKSxrPWYuY29udGVudHMoKSksZi5pcygiaW1nIikmJmYuaGFzQ2xhc3MoInVwbG9hZGluZyIpJiZmLnJlbW92ZSgpLCFsKXtmb3IoaT10aGlzLl9hbGxvd2VkQXR0cmlidXRlc1tmWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0scj1hLm1ha2VBcnJheShmWzBdLmF0dHJpYnV0ZXMpLG09MCxvPXIubGVuZ3RoO28+bTttKyspaj1yW21dLCJzdHlsZSIhPT1qLm5hbWUmJihudWxsIT1pJiYocz1qLm5hbWUsTy5jYWxsKGkscyk+PTApfHxmLnJlbW92ZUF0dHIoai5uYW1lKSk7dGhpcy5fY2xlYW5Ob2RlU3R5bGVzKGYpLGYuaXMoInNwYW4iKSYmMD09PWZbMF0uYXR0cmlidXRlcy5sZW5ndGgmJmYuY29udGVudHMoKS5maXJzdCgpLnVud3JhcCgpfX1lbHNlIDEhPT1mWzBdLm5vZGVUeXBlfHxmLmlzKCI6ZW1wdHkiKT8oZi5yZW1vdmUoKSxrPW51bGwpOmYuaXMoImRpdiwgYXJ0aWNsZSwgZGwsIGhlYWRlciwgZm9vdGVyLCB0ciIpPyhmLmFwcGVuZCgiPGJyLz4iKSxrLmZpcnN0KCkudW53cmFwKCkpOmYuaXMoInRhYmxlIik/KGc9YSgiPHAvPiIpLGYuZmluZCgidHIiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGcuYXBwZW5kKGEoYykudGV4dCgpKyI8YnIvPiIpfSksZi5yZXBsYWNlV2l0aChnKSxrPW51bGwpOmYuaXMoInRoZWFkLCB0Zm9vdCIpPyhmLnJlbW92ZSgpLGs9bnVsbCk6Zi5pcygidGgiKT8oaD1hKCI8dGQvPiIpLmFwcGVuZChmLmNvbnRlbnRzKCkpLGYucmVwbGFjZVdpdGgoaCkpOmsuZmlyc3QoKS51bndyYXAoKTtpZihjJiZudWxsIT1rJiYhZi5pcygicHJlIikpZm9yKG49MCxwPWsubGVuZ3RoO3A+bjtuKyspcT1rW25dLHRoaXMuY2xlYW5Ob2RlKHEsITApO3JldHVybiBudWxsfX0sYy5wcm90b3R5cGUuX2NsZWFuTm9kZVN0eWxlcz1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGs7aWYoaj1iLmF0dHIoInN0eWxlIikpe2lmKGIucmVtb3ZlQXR0cigic3R5bGUiKSxjPXRoaXMuX2FsbG93ZWRTdHlsZXNbYlswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCldLCEoYyYmYy5sZW5ndGg+MCkpcmV0dXJuIGI7Zm9yKGs9e30sZz1qLnNwbGl0KCI7IiksZD0wLGU9Zy5sZW5ndGg7ZT5kO2QrKylpPWdbZF0saT1hLnRyaW0oaSksZj1pLnNwbGl0KCI6IiksKGYubGVuZ3RoPTIpJiYoaD1mWzBdLE8uY2FsbChjLGgpPj0wJiYoa1thLnRyaW0oZlswXSldPWEudHJpbShmWzFdKSkpO3JldHVybiBPYmplY3Qua2V5cyhrKS5sZW5ndGg+MCYmYi5jc3MoayksYn19LGMucHJvdG90eXBlLmNsZWFySHRtbD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZjtyZXR1cm4gbnVsbD09YyYmKGM9ITApLGQ9YSgiPGRpdi8+IikuYXBwZW5kKGIpLGU9ZC5jb250ZW50cygpLGY9IiIsZS5lYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihkLGcpe3ZhciBoLGk7cmV0dXJuIDM9PT1nLm5vZGVUeXBlP2YrPWcubm9kZVZhbHVlOjE9PT1nLm5vZGVUeXBlJiYoaD1hKGcpLGk9aC5pcygiaWZyYW1lIik/bnVsbDpoLmNvbnRlbnRzKCksaSYmaS5sZW5ndGg+MCYmKGYrPWIuY2xlYXJIdG1sKGkpKSxjJiZkPGUubGVuZ3RoLTEmJmguaXMoImJyLCBwLCBkaXYsIGxpLHRyLCBwcmUsIGFkZHJlc3MsIGFydHRpY2xlLCBhc2lkZSwgZGwsIGZpZ2NhcHRpb24sIGZvb3RlciwgaDEsIGgyLGgzLCBoNCwgaGVhZGVyIikpP2YrPSJcbiI6dm9pZCAwfX0odGhpcykpLGZ9LGMucHJvdG90eXBlLmJlYXV0aWZ5PWZ1bmN0aW9uKGIpe3ZhciBjO3JldHVybiBjPWZ1bmN0aW9uKGEpe3JldHVybiEhKGEuaXMoInAiKSYmIWEudGV4dCgpJiZhLmNoaWxkcmVuKCI6bm90KGJyKSIpLmxlbmd0aDwxKX0sYi5lYWNoKGZ1bmN0aW9uKGIsZCl7dmFyIGUsZjtyZXR1cm4gZT1hKGQpLGY9ZS5pcygnOm5vdChpbWcsIGJyLCBjb2wsIHRkLCBociwgW2NsYXNzXj0ic2ltZGl0b3ItIl0pOmVtcHR5JyksKGZ8fGMoZSkpJiZlLnJlbW92ZSgpLGUuZmluZCgnOm5vdChpbWcsIGJyLCBjb2wsIHRkLCBociwgW2NsYXNzXj0ic2ltZGl0b3ItIl0pOmVtcHR5JykucmVtb3ZlKCl9KX0sY30oYiksdD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucGx1Z2luTmFtZT0iSW5wdXRNYW5hZ2VyIixjLnByb3RvdHlwZS5fbW9kaWZpZXJLZXlzPVsxNiwxNywxOCw5MSw5MywyMjRdLGMucHJvdG90eXBlLl9hcnJvd0tleXM9WzM3LDM4LDM5LDQwXSxjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3ZhciBiLGM7cmV0dXJuIHRoaXMuZWRpdG9yPXRoaXMuX21vZHVsZSx0aGlzLnRocm90dGxlZFZhbHVlQ2hhbmdlZD10aGlzLmVkaXRvci51dGlsLnRocm90dGxlKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBhLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiLGIpfSwxMCl9fSh0aGlzKSwzMDApLHRoaXMudGhyb3R0bGVkU2VsZWN0aW9uQ2hhbmdlZD10aGlzLmVkaXRvci51dGlsLnRocm90dGxlKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmVkaXRvci50cmlnZ2VyKCJzZWxlY3Rpb25jaGFuZ2VkIil9fSh0aGlzKSw1MCksYShkb2N1bWVudCkub24oInNlbGVjdGlvbmNoYW5nZS5zaW1kaXRvciIrdGhpcy5lZGl0b3IuaWQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjO2lmKGEuZm9jdXNlZCYmIWEuZWRpdG9yLmNsaXBib2FyZC5wYXN0aW5nKXJldHVybihjPWZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdGlvblRpbWVyJiYoY2xlYXJUaW1lb3V0KGEuX3NlbGVjdGlvblRpbWVyKSxhLl9zZWxlY3Rpb25UaW1lcj1udWxsKSxhLmVkaXRvci5zZWxlY3Rpb24uX3NlbGVjdGlvbi5yYW5nZUNvdW50PjA/YS50aHJvdHRsZWRTZWxlY3Rpb25DaGFuZ2VkKCk6YS5fc2VsZWN0aW9uVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBhLl9zZWxlY3Rpb25UaW1lcj1udWxsLGEuZm9jdXNlZD9jKCk6dm9pZCAwfSwxMCl9KSgpfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJ2YWx1ZWNoYW5nZWQiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjO3JldHVybiBiLmxhc3RDYXJldFBvc2l0aW9uPW51bGwsYz1iLmVkaXRvci5ib2R5LmNoaWxkcmVuKCkuZmlsdGVyKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIuZWRpdG9yLnV0aWwuaXNCbG9ja05vZGUoYyl9KSxiLmZvY3VzZWQmJjA9PT1jLmxlbmd0aCYmKGIuZWRpdG9yLnNlbGVjdGlvbi5zYXZlKCksYi5lZGl0b3IuZm9ybWF0dGVyLmZvcm1hdCgpLGIuZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlKCkpLGIuZWRpdG9yLmJvZHkuZmluZCgiaHIsIHByZSwgLnNpbWRpdG9yLXRhYmxlIikuZWFjaChmdW5jdGlvbihjLGQpe3ZhciBlLGY7cmV0dXJuIGU9YShkKSwoZS5wYXJlbnQoKS5pcygiYmxvY2txdW90ZSIpfHxlLnBhcmVudCgpWzBdPT09Yi5lZGl0b3IuYm9keVswXSkmJihmPSExLDA9PT1lLm5leHQoKS5sZW5ndGgmJihhKCI8cC8+IikuYXBwZW5kKGIuZWRpdG9yLnV0aWwucGhCcikuaW5zZXJ0QWZ0ZXIoZSksZj0hMCksMD09PWUucHJldigpLmxlbmd0aCYmKGEoIjxwLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKS5pbnNlcnRCZWZvcmUoZSksZj0hMCksZik/Yi50aHJvdHRsZWRWYWx1ZUNoYW5nZWQoKTp2b2lkIDB9KSxiLmVkaXRvci5ib2R5LmZpbmQoInByZTplbXB0eSIpLmFwcGVuZChiLmVkaXRvci51dGlsLnBoQnIpLCFiLmVkaXRvci51dGlsLnN1cHBvcnQub25zZWxlY3Rpb25jaGFuZ2UmJmIuZm9jdXNlZD9iLnRocm90dGxlZFNlbGVjdGlvbkNoYW5nZWQoKTp2b2lkIDB9fSh0aGlzKSksdGhpcy5lZGl0b3IuYm9keS5vbigia2V5ZG93biIsYS5wcm94eSh0aGlzLl9vbktleURvd24sdGhpcykpLm9uKCJrZXlwcmVzcyIsYS5wcm94eSh0aGlzLl9vbktleVByZXNzLHRoaXMpKS5vbigia2V5dXAiLGEucHJveHkodGhpcy5fb25LZXlVcCx0aGlzKSkub24oIm1vdXNldXAiLGEucHJveHkodGhpcy5fb25Nb3VzZVVwLHRoaXMpKS5vbigiZm9jdXMiLGEucHJveHkodGhpcy5fb25Gb2N1cyx0aGlzKSkub24oImJsdXIiLGEucHJveHkodGhpcy5fb25CbHVyLHRoaXMpKS5vbigiZHJvcCIsYS5wcm94eSh0aGlzLl9vbkRyb3AsdGhpcykpLm9uKCJpbnB1dCIsYS5wcm94eSh0aGlzLl9vbklucHV0LHRoaXMpKSx0aGlzLmVkaXRvci51dGlsLmJyb3dzZXIuZmlyZWZveCYmKHRoaXMuZWRpdG9yLmhvdGtleXMuYWRkKCJjbWQrbGVmdCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5lZGl0b3Iuc2VsZWN0aW9uLl9zZWxlY3Rpb24ubW9kaWZ5KCJtb3ZlIiwiYmFja3dhcmQiLCJsaW5lYm91bmRhcnkiKSwhMX19KHRoaXMpKSx0aGlzLmVkaXRvci5ob3RrZXlzLmFkZCgiY21kK3JpZ2h0IixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxhLmVkaXRvci5zZWxlY3Rpb24uX3NlbGVjdGlvbi5tb2RpZnkoIm1vdmUiLCJmb3J3YXJkIiwibGluZWJvdW5kYXJ5IiksITF9fSh0aGlzKSksYj10aGlzLmVkaXRvci51dGlsLm9zLm1hYz8iY21kK2EiOiJjdHJsK2EiLHRoaXMuZWRpdG9yLmhvdGtleXMuYWRkKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmO3JldHVybiBjPWEuZWRpdG9yLmJvZHkuY2hpbGRyZW4oKSxjLmxlbmd0aD4wPyhkPWMuZmlyc3QoKS5nZXQoMCksZT1jLmxhc3QoKS5nZXQoMCksZj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGYuc2V0U3RhcnQoZCwwKSxmLnNldEVuZChlLGEuZWRpdG9yLnV0aWwuZ2V0Tm9kZUxlbmd0aChlKSksYS5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlKGYpLCExKTp2b2lkIDB9fSh0aGlzKSkpLGM9dGhpcy5lZGl0b3IudXRpbC5vcy5tYWM/ImNtZCtlbnRlciI6ImN0cmwrZW50ZXIiLHRoaXMuZWRpdG9yLmhvdGtleXMuYWRkKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmVkaXRvci5lbC5jbG9zZXN0KCJmb3JtIikuZmluZCgiYnV0dG9uOnN1Ym1pdCIpLmNsaWNrKCksITF9fSh0aGlzKSl9LGMucHJvdG90eXBlLl9vbkZvY3VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVkaXRvci5jbGlwYm9hcmQucGFzdGluZz92b2lkIDA6KHRoaXMuZWRpdG9yLmVsLmFkZENsYXNzKCJmb2N1cyIpLnJlbW92ZUNsYXNzKCJlcnJvciIpLHRoaXMuZm9jdXNlZD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM7cmV0dXJuIGM9YS5lZGl0b3Iuc2VsZWN0aW9uLl9zZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKSxjLnN0YXJ0Q29udGFpbmVyPT09YS5lZGl0b3IuYm9keVswXSYmKGEubGFzdENhcmV0UG9zaXRpb24/YS5lZGl0b3IudW5kb01hbmFnZXIuY2FyZXRQb3NpdGlvbihhLmxhc3RDYXJldFBvc2l0aW9uKTooYj1hLmVkaXRvci5ib2R5LmNoaWxkcmVuKCkuZmlyc3QoKSxjPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksYS5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGIsYykpKSxhLmxhc3RDYXJldFBvc2l0aW9uPW51bGwsYS5lZGl0b3IudHJpZ2dlckhhbmRsZXIoImZvY3VzIiksYS5lZGl0b3IudXRpbC5zdXBwb3J0Lm9uc2VsZWN0aW9uY2hhbmdlP3ZvaWQgMDphLnRocm90dGxlZFNlbGVjdGlvbkNoYW5nZWQoKX19KHRoaXMpLDApKX0sYy5wcm90b3R5cGUuX29uQmx1cj1mdW5jdGlvbihhKXt2YXIgYjtpZighdGhpcy5lZGl0b3IuY2xpcGJvYXJkLnBhc3RpbmcpcmV0dXJuIHRoaXMuZWRpdG9yLmVsLnJlbW92ZUNsYXNzKCJmb2N1cyIpLHRoaXMuZWRpdG9yLnN5bmMoKSx0aGlzLmZvY3VzZWQ9ITEsdGhpcy5sYXN0Q2FyZXRQb3NpdGlvbj1udWxsIT0oYj10aGlzLmVkaXRvci51bmRvTWFuYWdlci5jdXJyZW50U3RhdGUoKSk/Yi5jYXJldDp2b2lkIDAsdGhpcy5lZGl0b3IudHJpZ2dlckhhbmRsZXIoImJsdXIiKX0sYy5wcm90b3R5cGUuX29uTW91c2VVcD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IudXRpbC5zdXBwb3J0Lm9uc2VsZWN0aW9uY2hhbmdlP3ZvaWQgMDp0aGlzLnRocm90dGxlZFNlbGVjdGlvbkNoYW5nZWQoKX0sYy5wcm90b3R5cGUuX29uS2V5RG93bj1mdW5jdGlvbihhKXt2YXIgYixjO2lmKHRoaXMuZWRpdG9yLnRyaWdnZXJIYW5kbGVyKGEpPT09ITEpcmV0dXJuITE7aWYoIXRoaXMuZWRpdG9yLmhvdGtleXMucmVzcG9uZFRvKGEpKXtpZih0aGlzLmVkaXRvci5rZXlzdHJva2UucmVzcG9uZFRvKGEpKXJldHVybiB0aGlzLnRocm90dGxlZFZhbHVlQ2hhbmdlZCgpLCExO2lmKGI9YS53aGljaCwhKE8uY2FsbCh0aGlzLl9tb2RpZmllcktleXMsYik+PTB8fChjPWEud2hpY2gsTy5jYWxsKHRoaXMuX2Fycm93S2V5cyxjKT49MCl8fHRoaXMuZWRpdG9yLnV0aWwubWV0YUtleShhKSYmODY9PT1hLndoaWNoKSlyZXR1cm4gdGhpcy5lZGl0b3IudXRpbC5zdXBwb3J0Lm9uaW5wdXR8fHRoaXMudGhyb3R0bGVkVmFsdWVDaGFuZ2VkKFsidHlwaW5nIl0pLG51bGx9fSxjLnByb3RvdHlwZS5fb25LZXlQcmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IudHJpZ2dlckhhbmRsZXIoYSk9PT0hMT8hMTp2b2lkIDB9LGMucHJvdG90eXBlLl9vbktleVVwPWZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIHRoaXMuZWRpdG9yLnRyaWdnZXJIYW5kbGVyKGIpPT09ITE/ITE6IXRoaXMuZWRpdG9yLnV0aWwuc3VwcG9ydC5vbnNlbGVjdGlvbmNoYW5nZSYmKGQ9Yi53aGljaCxPLmNhbGwodGhpcy5fYXJyb3dLZXlzLGQpPj0wKT92b2lkIHRoaXMudGhyb3R0bGVkVmFsdWVDaGFuZ2VkKCk6dm9pZCg4IT09Yi53aGljaCYmNDYhPT1iLndoaWNofHwhdGhpcy5lZGl0b3IudXRpbC5pc0VtcHR5Tm9kZSh0aGlzLmVkaXRvci5ib2R5KXx8KHRoaXMuZWRpdG9yLmJvZHkuZW1wdHkoKSxjPWEoIjxwLz4iKS5hcHBlbmQodGhpcy5lZGl0b3IudXRpbC5waEJyKS5hcHBlbmRUbyh0aGlzLmVkaXRvci5ib2R5KSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoYykpKX0sYy5wcm90b3R5cGUuX29uRHJvcD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IudHJpZ2dlckhhbmRsZXIoYSk9PT0hMT8hMTp0aGlzLnRocm90dGxlZFZhbHVlQ2hhbmdlZCgpfSxjLnByb3RvdHlwZS5fb25JbnB1dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aHJvdHRsZWRWYWx1ZUNoYW5nZWQoWyJvbmlucHV0Il0pfSxjfShiKSx2PWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wbHVnaW5OYW1lPSJLZXlzdHJva2UiLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yPXRoaXMuX21vZHVsZSx0aGlzLl9rZXlzdHJva2VIYW5kbGVycz17fSx0aGlzLl9pbml0S2V5c3Ryb2tlSGFuZGxlcnMoKX0sYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYT1hLnRvTG93ZXJDYXNlKCksYT10aGlzLmVkaXRvci5ob3RrZXlzLmNvbnN0cnVjdG9yLmFsaWFzZXNbYV18fGEsdGhpcy5fa2V5c3Ryb2tlSGFuZGxlcnNbYV18fCh0aGlzLl9rZXlzdHJva2VIYW5kbGVyc1thXT17fSksdGhpcy5fa2V5c3Ryb2tlSGFuZGxlcnNbYV1bYl09Y30sYy5wcm90b3R5cGUucmVzcG9uZFRvPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmO3JldHVybihkPW51bGwhPShlPXRoaXMuZWRpdG9yLmhvdGtleXMuY29uc3RydWN0b3Iua2V5TmFtZU1hcFtiLndoaWNoXSk/ZS50b0xvd2VyQ2FzZSgpOnZvaWQgMCkmJmQgaW4gdGhpcy5fa2V5c3Ryb2tlSGFuZGxlcnMmJihmPSJmdW5jdGlvbiI9PXR5cGVvZihjPXRoaXMuX2tleXN0cm9rZUhhbmRsZXJzW2RdKVsiKiJdP2NbIioiXShiKTp2b2lkIDAsZnx8dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnN0YXJ0Tm9kZXMoKS5lYWNoKGZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbihlLGcpe3ZhciBoLGk7aWYoZy5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiBoPW51bGwhPShpPWMuX2tleXN0cm9rZUhhbmRsZXJzW2RdKT9pW2cudGFnTmFtZS50b0xvd2VyQ2FzZSgpXTp2b2lkIDAsZj0iZnVuY3Rpb24iPT10eXBlb2YgaD9oKGIsYShnKSk6dm9pZCAwLGY9PT0hMHx8Zj09PSExPyExOnZvaWQgMH19KHRoaXMpKSxmKT8hMDp2b2lkIDB9LGMucHJvdG90eXBlLl9pbml0S2V5c3Ryb2tlSGFuZGxlcnM9ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpcy5lZGl0b3IudXRpbC5icm93c2VyLnNhZmFyaSYmdGhpcy5hZGQoImVudGVyIiwiKiIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGU7aWYoYy5zaGlmdEtleSYmKGQ9Yi5lZGl0b3Iuc2VsZWN0aW9uLmJsb2NrTm9kZXMoKS5sYXN0KCksIWQuaXMoInByZSIpKSlyZXR1cm4gZT1hKCI8YnIvPiIpLGIuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZUF0RW5kT2YoZCk/KGIuZWRpdG9yLnNlbGVjdGlvbi5pbnNlcnROb2RlKGUpLGIuZWRpdG9yLnNlbGVjdGlvbi5pbnNlcnROb2RlKGEoIjxici8+IikpLGIuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUJlZm9yZShlKSk6Yi5lZGl0b3Iuc2VsZWN0aW9uLmluc2VydE5vZGUoZSksITB9fSh0aGlzKSksKHRoaXMuZWRpdG9yLnV0aWwuYnJvd3Nlci53ZWJraXR8fHRoaXMuZWRpdG9yLnV0aWwuYnJvd3Nlci5tc2llKSYmKGI9ZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU7aWYoYi5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRFbmRPZihkKSlyZXR1cm4gZT1hKCI8cC8+IikuYXBwZW5kKGIuZWRpdG9yLnV0aWwucGhCcikuaW5zZXJ0QWZ0ZXIoZCksYi5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGUpLCEwfX0odGhpcyksdGhpcy5hZGQoImVudGVyIiwiaDEiLGIpLHRoaXMuYWRkKCJlbnRlciIsImgyIixiKSx0aGlzLmFkZCgiZW50ZXIiLCJoMyIsYiksdGhpcy5hZGQoImVudGVyIiwiaDQiLGIpLHRoaXMuYWRkKCJlbnRlciIsImg1IixiKSx0aGlzLmFkZCgiZW50ZXIiLCJoNiIsYikpLHRoaXMuYWRkKCJiYWNrc3BhY2UiLCIqIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGMsZCxlLGY7cmV0dXJuIGU9YS5lZGl0b3Iuc2VsZWN0aW9uLnJvb3ROb2RlcygpLmZpcnN0KCksZD1lLnByZXYoKSxkLmlzKCJociIpJiZhLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2VBdFN0YXJ0T2YoZSk/KGEuZWRpdG9yLnNlbGVjdGlvbi5zYXZlKCksZC5yZW1vdmUoKSxhLmVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZSgpLCEwKTooYz1hLmVkaXRvci5zZWxlY3Rpb24uYmxvY2tOb2RlcygpLmxhc3QoKSxmPWEuZWRpdG9yLnV0aWwuYnJvd3Nlci53ZWJraXQsZiYmYS5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRTdGFydE9mKGMpPyhhLmVkaXRvci5zZWxlY3Rpb24uc2F2ZSgpLGEuZWRpdG9yLmZvcm1hdHRlci5jbGVhbk5vZGUoYywhMCksYS5lZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmUoKSxudWxsKTp2b2lkIDApfX0odGhpcykpLHRoaXMuYWRkKCJlbnRlciIsImxpIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaDtpZihlPWQuY2xvbmUoKSxlLmZpbmQoInVsLCBvbCIpLnJlbW92ZSgpLGIuZWRpdG9yLnV0aWwuaXNFbXB0eU5vZGUoZSkmJmQuaXMoYi5lZGl0b3Iuc2VsZWN0aW9uLmJsb2NrTm9kZXMoKS5sYXN0KCkpKXtpZihmPWQucGFyZW50KCksZC5uZXh0KCJsaSIpLmxlbmd0aD4wKXtpZighYi5lZGl0b3IudXRpbC5pc0VtcHR5Tm9kZShkKSlyZXR1cm47Zi5wYXJlbnQoImxpIikubGVuZ3RoPjA/KGc9YSgiPGxpLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKS5pbnNlcnRBZnRlcihmLnBhcmVudCgibGkiKSksaD1hKCI8IitmWzBdLnRhZ05hbWUrIi8+IikuYXBwZW5kKGQubmV4dEFsbCgibGkiKSksZy5hcHBlbmQoaCkpOihnPWEoIjxwLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKS5pbnNlcnRBZnRlcihmKSxoPWEoIjwiK2ZbMF0udGFnTmFtZSsiLz4iKS5hcHBlbmQoZC5uZXh0QWxsKCJsaSIpKSxnLmFmdGVyKGgpKX1lbHNlIGYucGFyZW50KCJsaSIpLmxlbmd0aD4wPyhnPWEoIjxsaS8+IikuaW5zZXJ0QWZ0ZXIoZi5wYXJlbnQoImxpIikpLGQuY29udGVudHMoKS5sZW5ndGg+MD9nLmFwcGVuZChkLmNvbnRlbnRzKCkpOmcuYXBwZW5kKGIuZWRpdG9yLnV0aWwucGhCcikpOihnPWEoIjxwLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKS5pbnNlcnRBZnRlcihmKSxkLmNoaWxkcmVuKCJ1bCwgb2wiKS5sZW5ndGg+MCYmZy5hZnRlcihkLmNoaWxkcmVuKCJ1bCwgb2wiKSkpO3JldHVybiBkLnByZXYoImxpIikubGVuZ3RoP2QucmVtb3ZlKCk6Zi5yZW1vdmUoKSxiLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoZyksITB9fX0odGhpcykpLHRoaXMuYWRkKCJlbnRlciIsInByZSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnO3JldHVybiBjLnByZXZlbnREZWZhdWx0KCksYy5zaGlmdEtleT8oZT1hKCI8cC8+IikuYXBwZW5kKGIuZWRpdG9yLnV0aWwucGhCcikuaW5zZXJ0QWZ0ZXIoZCksYi5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGUpLCEwKTooZz1iLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSxmPW51bGwsZy5kZWxldGVDb250ZW50cygpLCFiLmVkaXRvci51dGlsLmJyb3dzZXIubXNpZSYmYi5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRFbmRPZihkKT8oZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXG5cbiIpLGcuaW5zZXJ0Tm9kZShmKSxnLnNldEVuZChmLDEpKTooZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXG4iKSxnLmluc2VydE5vZGUoZiksZy5zZXRTdGFydEFmdGVyKGYpKSxnLmNvbGxhcHNlKCExKSxiLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoZyksITApfX0odGhpcykpLHRoaXMuYWRkKCJlbnRlciIsImJsb2NrcXVvdGUiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkLGU7cmV0dXJuIGQ9YS5lZGl0b3Iuc2VsZWN0aW9uLmJsb2NrTm9kZXMoKS5sYXN0KCksZC5pcygicCIpJiYhZC5uZXh0KCkubGVuZ3RoJiZhLmVkaXRvci51dGlsLmlzRW1wdHlOb2RlKGQpPyhjLmFmdGVyKGQpLGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoZCxlKSwhMCk6dm9pZCAwfX0odGhpcykpLHRoaXMuYWRkKCJiYWNrc3BhY2UiLCJsaSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnLGgsaSxqLGssbCxtO3JldHVybiBmPWQuY2hpbGRyZW4oInVsLCBvbCIpLGk9ZC5wcmV2KCJsaSIpLGYubGVuZ3RoPjAmJmkubGVuZ3RoPjA/KG09IiIsaj1udWxsLGQuY29udGVudHMoKS5lYWNoKGZ1bmN0aW9uKGIsYyl7aWYoMT09PWMubm9kZVR5cGUmJi9VTHxPTC8udGVzdChjLm5vZGVOYW1lKSlyZXR1cm4hMTtpZigxIT09Yy5ub2RlVHlwZXx8IS9CUi8udGVzdChjLm5vZGVOYW1lKSlyZXR1cm4gMz09PWMubm9kZVR5cGUmJmMubm9kZVZhbHVlP20rPWMubm9kZVZhbHVlOjE9PT1jLm5vZGVUeXBlJiYobSs9YShjKS50ZXh0KCkpLGo9YShjKX0pLGs9Yi5lZGl0b3IudXRpbC5icm93c2VyLmZpcmVmb3gmJiFqLm5leHQoImJyIikubGVuZ3RoLGomJjE9PT1tLmxlbmd0aCYmaz8oZT1hKGIuZWRpdG9yLnV0aWwucGhCcikuaW5zZXJ0QWZ0ZXIoaiksai5yZW1vdmUoKSxiLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VCZWZvcmUoZSksITApOm0ubGVuZ3RoPjA/ITE6KGw9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxoPWkuY2hpbGRyZW4oInVsLCBvbCIpLGgubGVuZ3RoPjA/KGc9YSgiPGxpLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKS5hcHBlbmRUbyhoKSxoLmFwcGVuZChmLmNoaWxkcmVuKCJsaSIpKSxkLnJlbW92ZSgpLGIuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoZyxsKSk6KGIuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoaSxsKSxpLmFwcGVuZChmKSxkLnJlbW92ZSgpLGIuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZShsKSksITApKTohMX19KHRoaXMpKSx0aGlzLmFkZCgiYmFja3NwYWNlIiwicHJlIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc7aWYoYi5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRTdGFydE9mKGQpKXJldHVybiBmPWQuaHRtbCgpLnJlcGxhY2UoIlxuIiwiPGJyLz4iKXx8Yi5lZGl0b3IudXRpbC5waEJyLGU9YSgiPHAvPiIpLmFwcGVuZChmKS5pbnNlcnRBZnRlcihkKSxkLnJlbW92ZSgpLGc9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxiLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoZSxnKSwhMH19KHRoaXMpKSx0aGlzLmFkZCgiYmFja3NwYWNlIiwiYmxvY2txdW90ZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQsZTtpZihhLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2VBdFN0YXJ0T2YoYykpcmV0dXJuIGQ9Yy5jaGlsZHJlbigpLmZpcnN0KCkudW53cmFwKCksZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGEuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0U3RhcnRPZihkLGUpLCEwfX0odGhpcykpfSxjfShiKSxKPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wbHVnaW5OYW1lPSJVbmRvTWFuYWdlciIsYy5wcm90b3R5cGUuX2luZGV4PS0xLGMucHJvdG90eXBlLl9jYXBhY2l0eT0yMCxjLnByb3RvdHlwZS5fc3RhcnRQb3NpdGlvbj1udWxsLGMucHJvdG90eXBlLl9lbmRQb3NpdGlvbj1udWxsLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGEsYjtyZXR1cm4gdGhpcy5lZGl0b3I9dGhpcy5fbW9kdWxlLHRoaXMuX3N0YWNrPVtdLHRoaXMuZWRpdG9yLnV0aWwub3MubWFjPyhiPSJjbWQreiIsYT0ic2hpZnQrY21kK3oiKTp0aGlzLmVkaXRvci51dGlsLm9zLndpbj8oYj0iY3RybCt6IixhPSJjdHJsK3kiKTooYj0iY3RybCt6IixhPSJzaGlmdCtjdHJsK3oiKSx0aGlzLmVkaXRvci5ob3RrZXlzLmFkZChiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGEudW5kbygpLCExfX0odGhpcykpLHRoaXMuZWRpdG9yLmhvdGtleXMuYWRkKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksYS5yZWRvKCksITF9fSh0aGlzKSksdGhpcy50aHJvdHRsZWRQdXNoU3RhdGU9dGhpcy5lZGl0b3IudXRpbC50aHJvdHRsZShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5fcHVzaFVuZG9TdGF0ZSgpfX0odGhpcyksMmUzKSx0aGlzLmVkaXRvci5vbigidmFsdWVjaGFuZ2VkIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4idW5kbyIhPT1jJiYicmVkbyIhPT1jP2EudGhyb3R0bGVkUHVzaFN0YXRlKCk6dm9pZCAwfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJzZWxlY3Rpb25jaGFuZ2VkIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEucmVzZXRDYXJldFBvc2l0aW9uKCksYS51cGRhdGUoKX19KHRoaXMpKSx0aGlzLmVkaXRvci5vbigiZm9jdXMiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gMD09PWEuX3N0YWNrLmxlbmd0aD9hLl9wdXNoVW5kb1N0YXRlKCk6dm9pZCAwfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJibHVyIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEucmVzZXRDYXJldFBvc2l0aW9uKCl9fSh0aGlzKSl9LGMucHJvdG90eXBlLnJlc2V0Q2FyZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydFBvc2l0aW9uPW51bGwsdGhpcy5fZW5kUG9zaXRpb249bnVsbH0sYy5wcm90b3R5cGUuc3RhcnRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5zZWxlY3Rpb24uX3JhbmdlJiYodGhpcy5fc3RhcnRQb3NpdGlvbnx8KHRoaXMuX3N0YXJ0UG9zaXRpb249dGhpcy5fZ2V0UG9zaXRpb24oInN0YXJ0IikpKSx0aGlzLl9zdGFydFBvc2l0aW9ufSxjLnByb3RvdHlwZS5lbmRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5zZWxlY3Rpb24uX3JhbmdlJiYodGhpcy5fZW5kUG9zaXRpb258fCh0aGlzLl9lbmRQb3NpdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj1hLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSxiLmNvbGxhcHNlZD9hLl9zdGFydFBvc2l0aW9uOmEuX2dldFBvc2l0aW9uKCJlbmQiKX19KHRoaXMpKCkpKSx0aGlzLl9lbmRQb3NpdGlvbn0sYy5wcm90b3R5cGUuX3B1c2hVbmRvU3RhdGU9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmVkaXRvci50cmlnZ2VySGFuZGxlcigicHVzaHVuZG9zdGF0ZSIpIT09ITEmJihhPXRoaXMuY2FyZXRQb3NpdGlvbigpLGEuc3RhcnQpKXJldHVybiB0aGlzLl9pbmRleCs9MSx0aGlzLl9zdGFjay5sZW5ndGg9dGhpcy5faW5kZXgsdGhpcy5fc3RhY2sucHVzaCh7aHRtbDp0aGlzLmVkaXRvci5ib2R5Lmh0bWwoKSxjYXJldDp0aGlzLmNhcmV0UG9zaXRpb24oKX0pLHRoaXMuX3N0YWNrLmxlbmd0aD50aGlzLl9jYXBhY2l0eT8odGhpcy5fc3RhY2suc2hpZnQoKSx0aGlzLl9pbmRleC09MSk6dm9pZCAwfSxjLnByb3RvdHlwZS5jdXJyZW50U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RoJiZ0aGlzLl9pbmRleD4tMT90aGlzLl9zdGFja1t0aGlzLl9pbmRleF06bnVsbH0sYy5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3ZhciBhO2lmKCEodGhpcy5faW5kZXg8MXx8dGhpcy5fc3RhY2subGVuZ3RoPDIpKXJldHVybiB0aGlzLmVkaXRvci5oaWRlUG9wb3ZlcigpLHRoaXMuX2luZGV4LT0xLGE9dGhpcy5fc3RhY2tbdGhpcy5faW5kZXhdLHRoaXMuZWRpdG9yLmJvZHkuZ2V0KDApLmlubmVySFRNTD1hLmh0bWwsdGhpcy5jYXJldFBvc2l0aW9uKGEuY2FyZXQpLHRoaXMuZWRpdG9yLmJvZHkuZmluZCgiLnNlbGVjdGVkIikucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksdGhpcy5lZGl0b3Iuc3luYygpLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIsWyJ1bmRvIl0pfSxjLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7dmFyIGE7aWYoISh0aGlzLl9pbmRleDwwfHx0aGlzLl9zdGFjay5sZW5ndGg8dGhpcy5faW5kZXgrMikpcmV0dXJuIHRoaXMuZWRpdG9yLmhpZGVQb3BvdmVyKCksdGhpcy5faW5kZXgrPTEsYT10aGlzLl9zdGFja1t0aGlzLl9pbmRleF0sdGhpcy5lZGl0b3IuYm9keS5nZXQoMCkuaW5uZXJIVE1MPWEuaHRtbCx0aGlzLmNhcmV0UG9zaXRpb24oYS5jYXJldCksdGhpcy5lZGl0b3IuYm9keS5maW5kKCIuc2VsZWN0ZWQiKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSx0aGlzLmVkaXRvci5zeW5jKCksdGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIixbInJlZG8iXSl9LGMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhO3JldHVybihhPXRoaXMuY3VycmVudFN0YXRlKCkpPyhhLmh0bWw9dGhpcy5lZGl0b3IuYm9keS5odG1sKCksYS5jYXJldD10aGlzLmNhcmV0UG9zaXRpb24oKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5fZ2V0Tm9kZU9mZnNldD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZjtyZXR1cm4gZD1hLmlzTnVtZXJpYyhjKT9hKGIpOmEoYikucGFyZW50KCksZj0wLGU9ITEsZC5jb250ZW50cygpLmVhY2goZnVuY3Rpb24oYSxkKXtyZXR1cm4gYj09PWR8fGM9PT1hJiYwPT09YT8hMTooZC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFPyFlJiZkLm5vZGVWYWx1ZS5sZW5ndGg+MCYmKGYrPTEsZT0hMCk6KGYrPTEsZT0hMSksYy0xPT09YT8hMTpudWxsKX0pLGZ9LGMucHJvdG90eXBlLl9nZXRQb3NpdGlvbj1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaTtpZihudWxsPT1iJiYoYj0ic3RhcnQiKSxpPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZSgpLGY9aVtiKyJPZmZzZXQiXSxjPXRoaXMuZWRpdG9yLnNlbGVjdGlvbltiKyJOb2RlcyJdKCksZD1jLmZpcnN0KClbMF0sZC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXtmb3IoaD1kLnByZXZpb3VzU2libGluZztoJiZoLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU7KWQ9aCxmKz10aGlzLmVkaXRvci51dGlsLmdldE5vZGVMZW5ndGgoaCksaD1oLnByZXZpb3VzU2libGluZztlPWMuZ2V0KCksZVswXT1kLGM9YShlKX1lbHNlIGY9dGhpcy5fZ2V0Tm9kZU9mZnNldChkLGYpO3JldHVybiBnPVtmXSxjLmVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGcudW5zaGlmdChhLl9nZXROb2RlT2Zmc2V0KGMpKX19KHRoaXMpKSxnfSxjLnByb3RvdHlwZS5fZ2V0Tm9kZUJ5UG9zaXRpb249ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGksajtmb3IoaD10aGlzLmVkaXRvci5ib2R5WzBdLGo9Yi5zbGljZSgwLGIubGVuZ3RoLTEpLGU9Zj0wLGc9ai5sZW5ndGg7Zz5mO2U9KytmKXtpZihpPWpbZV0sZD1oLmNoaWxkTm9kZXMsaT5kLmxlbmd0aC0xKXtpZihlIT09Yi5sZW5ndGgtMnx8IWEoaCkuaXMoInByZTplbXB0eSIpKXtoPW51bGw7YnJlYWt9Yz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksaC5hcHBlbmRDaGlsZChjKSxkPWguY2hpbGROb2Rlc31oPWRbaV19cmV0dXJuIGh9LGMucHJvdG90eXBlLmNhcmV0UG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZjtpZihhKXtpZighYS5zdGFydClyZXR1cm47cmV0dXJuIGU9dGhpcy5fZ2V0Tm9kZUJ5UG9zaXRpb24oYS5zdGFydCksZj1hLnN0YXJ0W2Euc3RhcnQubGVuZ3RoLTFdLGEuY29sbGFwc2VkPyhiPWUsYz1mKTooYj10aGlzLl9nZXROb2RlQnlQb3NpdGlvbihhLmVuZCksYz1hLnN0YXJ0W2Euc3RhcnQubGVuZ3RoLTFdKSxlJiZiPyhkPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksZC5zZXRTdGFydChlLGYpLGQuc2V0RW5kKGIsYyksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlKGQpKTp2b2lkKCJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmbnVsbCE9PWNvbnNvbGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybigic2ltZGl0b3I6IGludmFsaWQgY2FyZXQgc3RhdGUiKSl9cmV0dXJuIGQ9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlKCksYT10aGlzLmVkaXRvci5pbnB1dE1hbmFnZXIuZm9jdXNlZCYmbnVsbCE9ZD97c3RhcnQ6dGhpcy5zdGFydFBvc2l0aW9uKCksZW5kOnRoaXMuZW5kUG9zaXRpb24oKSxjb2xsYXBzZWQ6ZC5jb2xsYXBzZWR9Ont9fSxjfShiKSxMPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wbHVnaW5OYW1lPSJVdGlsIixjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvcj10aGlzLl9tb2R1bGUsdGhpcy5icm93c2VyLm1zaWUmJnRoaXMuYnJvd3Nlci52ZXJzaW9uPDExP3RoaXMucGhCcj0iIjp2b2lkIDB9LGMucHJvdG90eXBlLnBoQnI9Ijxici8+IixjLnByb3RvdHlwZS5vcz1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPXt9LC9NYWMvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pP2EubWFjPSEwOi9MaW51eC8udGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbik/YS5saW51eD0hMDovV2luLy50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKT9hLndpbj0hMDovWDExLy50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSYmKGEudW5peD0hMCksL01vYmkvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pJiYoYS5tb2JpbGU9ITApLGF9KCksYy5wcm90b3R5cGUuYnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGs7cmV0dXJuIGs9bmF2aWdhdG9yLnVzZXJBZ2VudCxkPS8obXNpZXx0cmlkZW50KS9pLnRlc3QoayksYT0vY2hyb21lfGNyaW9zL2kudGVzdChrKSxqPS9zYWZhcmkvaS50ZXN0KGspJiYhYSxjPS9maXJlZm94L2kudGVzdChrKSxiPS9lZGdlL2kudGVzdChrKSxkP3ttc2llOiEwLHZlcnNpb246MSoobnVsbCE9KGU9ay5tYXRjaCgvKG1zaWUgfHJ2OikoXGQrKFwuXGQrKT8pL2kpKT9lWzJdOnZvaWQgMCl9OmI/e2VkZ2U6ITAsd2Via2l0OiEwLHZlcnNpb246MSoobnVsbCE9KGY9ay5tYXRjaCgvZWRnZVwvKFxkKyhcLlxkKyk/KS9pKSk/ZlsxXTp2b2lkIDApfTphP3t3ZWJraXQ6ITAsY2hyb21lOiEwLHZlcnNpb246MSoobnVsbCE9KGc9ay5tYXRjaCgvKD86Y2hyb21lfGNyaW9zKVwvKFxkKyhcLlxkKyk/KS9pKSk/Z1sxXTp2b2lkIDApfTpqP3t3ZWJraXQ6ITAsc2FmYXJpOiEwLHZlcnNpb246MSoobnVsbCE9KGg9ay5tYXRjaCgvdmVyc2lvblwvKFxkKyhcLlxkKyk/KS9pKSk/aFsxXTp2b2lkIDApfTpjP3ttb3ppbGxhOiEwLGZpcmVmb3g6ITAsdmVyc2lvbjoxKihudWxsIT0oaT1rLm1hdGNoKC9maXJlZm94XC8oXGQrKFwuXGQrKT8pL2kpKT9pWzFdOnZvaWQgMCl9Ont9fSgpLGMucHJvdG90eXBlLnN1cHBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm57b25zZWxlY3Rpb25jaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgYSxiO2lmKGI9ZG9jdW1lbnQub25zZWxlY3Rpb25jaGFuZ2Usdm9pZCAwIT09Yil0cnl7cmV0dXJuIGRvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlPTAsbnVsbD09PWRvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlfWNhdGNoKGMpe2E9Y31maW5hbGx5e2RvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlPWJ9cmV0dXJuITF9KCksb25pbnB1dDpmdW5jdGlvbigpe3JldHVybiEvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSgpfX0oKSxjLnByb3RvdHlwZS5yZWZsb3c9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWImJihiPWRvY3VtZW50KSxhKGIpWzBdLm9mZnNldEhlaWdodH0sYy5wcm90b3R5cGUubWV0YUtleT1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj0vTWFjLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGI/YS5tZXRhS2V5OmEuY3RybEtleX0sYy5wcm90b3R5cGUuaXNFbXB0eU5vZGU9ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuIGM9YShiKSxjLmlzKCI6ZW1wdHkiKXx8IWMudGV4dCgpJiYhYy5maW5kKCI6bm90KGJyLCBzcGFuLCBkaXYpIikubGVuZ3RofSxjLnByb3RvdHlwZS5pc0RlY29yYXRlZE5vZGU9ZnVuY3Rpb24oYil7cmV0dXJuIGEoYikuaXMoJ1tjbGFzc149InNpbWRpdG9yLSJdJyl9LGMucHJvdG90eXBlLmJsb2NrTm9kZXM9WyJkaXYiLCJwIiwidWwiLCJvbCIsImxpIiwiYmxvY2txdW90ZSIsImhyIiwicHJlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsInRhYmxlIl0sYy5wcm90b3R5cGUuaXNCbG9ja05vZGU9ZnVuY3Rpb24oYil7cmV0dXJuIGI9YShiKVswXSxiJiYzIT09Yi5ub2RlVHlwZT9uZXcgUmVnRXhwKCJeKCIrdGhpcy5ibG9ja05vZGVzLmpvaW4oInwiKSsiKSQiKS50ZXN0KGIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk6ITF9LGMucHJvdG90eXBlLmdldE5vZGVMZW5ndGg9ZnVuY3Rpb24oYil7c3dpdGNoKGI9YShiKVswXSxiLm5vZGVUeXBlKXtjYXNlIDc6Y2FzZSAxMDpyZXR1cm4gMDtjYXNlIDM6Y2FzZSA4OnJldHVybiBiLmxlbmd0aDtkZWZhdWx0OnJldHVybiBiLmNoaWxkTm9kZXMubGVuZ3RofX0sYy5wcm90b3R5cGUuZGF0YVVSTHRvQmxvYj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbjtpZihoPXdpbmRvdy5CbG9iJiZmdW5jdGlvbigpe3ZhciBhO3RyeXtyZXR1cm4gQm9vbGVhbihuZXcgQmxvYil9Y2F0Y2goYil7cmV0dXJuIGE9YiwhMX19KCksZz1oJiZ3aW5kb3cuVWludDhBcnJheSYmZnVuY3Rpb24oKXt2YXIgYTt0cnl7cmV0dXJuIDEwMD09PW5ldyBCbG9iKFtuZXcgVWludDhBcnJheSgxMDApXSkuc2l6ZX1jYXRjaChiKXtyZXR1cm4gYT1iLCExfX0oKSxiPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyLG49aHx8YiwhKG4mJndpbmRvdy5hdG9iJiZ3aW5kb3cuQXJyYXlCdWZmZXImJndpbmRvdy5VaW50OEFycmF5KSlyZXR1cm4hMTtmb3IoZj1hLnNwbGl0KCIsIilbMF0uaW5kZXhPZigiYmFzZTY0Iik+PTA/YXRvYihhLnNwbGl0KCIsIilbMV0pOmRlY29kZVVSSUNvbXBvbmVudChhLnNwbGl0KCIsIilbMV0pLGM9bmV3IEFycmF5QnVmZmVyKGYubGVuZ3RoKSxqPW5ldyBVaW50OEFycmF5KGMpLGk9az0wLG09Zi5sZW5ndGg7bT49MD9tPj1rOms+PW07aT1tPj0wPysrazotLWspaltpXT1mLmNoYXJDb2RlQXQoaSk7cmV0dXJuIGw9YS5zcGxpdCgiLCIpWzBdLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKVswXSxoPyhlPWc/ajpjLG5ldyBCbG9iKFtlXSx7dHlwZTpsfSkpOihkPW5ldyBiLGQuYXBwZW5kKGMpLGQuZ2V0QmxvYihsKSl9LGMucHJvdG90eXBlLnRocm90dGxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk7cmV0dXJuIGY9MCxpPTAsZT1jPWc9bnVsbCxkPWZ1bmN0aW9uKCl7cmV0dXJuIGk9MCxmPStuZXcgRGF0ZSxnPWEuYXBwbHkoZSxjKSxlPW51bGwsYz1udWxsfSxoPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGU9dGhpcyxjPWFyZ3VtZW50cyxhPW5ldyBEYXRlLWYsaXx8KGE+PWI/ZCgpOmk9c2V0VGltZW91dChkLGItYSkpLGd9LGguY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gaT8oY2xlYXJUaW1lb3V0KGkpLGQoKSk6dm9pZCAwfSxofSxjLnByb3RvdHlwZS5mb3JtYXRIVE1MPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosaztmb3IoaD0vPChcLz8pKC4rPykoXC8/KT4vZyxqPSIiLGY9MCxlPW51bGwsZD0iICAiLGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEFycmF5KGIrMSkuam9pbihhKX07bnVsbCE9PShnPWguZXhlYyhiKSk7KWcuaXNCbG9ja05vZGU9YS5pbkFycmF5KGdbMl0sdGhpcy5ibG9ja05vZGVzKT4tMSxnLmlzU3RhcnRUYWc9Ii8iIT09Z1sxXSYmIi8iIT09Z1szXSxnLmlzRW5kVGFnPSIvIj09PWdbMV18fCIvIj09PWdbM10sYz1lP2UuaW5kZXgrZVswXS5sZW5ndGg6MCwoaz1iLnN1YnN0cmluZyhjLGcuaW5kZXgpKS5sZW5ndGg+MCYmYS50cmltKGspJiYoais9ayksZy5pc0Jsb2NrTm9kZSYmZy5pc0VuZFRhZyYmIWcuaXNTdGFydFRhZyYmKGYtPTEpLGcuaXNCbG9ja05vZGUmJmcuaXNTdGFydFRhZyYmKGUmJmUuaXNCbG9ja05vZGUmJmUuaXNFbmRUYWd8fChqKz0iXG4iKSxqKz1pKGQsZikpLGorPWdbMF0sZy5pc0Jsb2NrTm9kZSYmZy5pc0VuZFRhZyYmKGorPSJcbiIpLGcuaXNCbG9ja05vZGUmJmcuaXNTdGFydFRhZyYmKGYrPTEpLGU9ZztyZXR1cm4gYS50cmltKGopfSxjfShiKSxIPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wbHVnaW5OYW1lPSJUb29sYmFyIixjLnByb3RvdHlwZS5vcHRzPXt0b29sYmFyOiEwLHRvb2xiYXJGbG9hdDohMCwKdG9vbGJhckhpZGRlbjohMSx0b29sYmFyRmxvYXRPZmZzZXQ6MH0sYy5wcm90b3R5cGUuX3RwbD17d3JhcHBlcjonPGRpdiBjbGFzcz0ic2ltZGl0b3ItdG9vbGJhciI+PHVsPjwvdWw+PC9kaXY+JyxzZXBhcmF0b3I6JzxsaT48c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+PC9saT4nfSxjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3ZhciBiLGMsZDtyZXR1cm4gdGhpcy5lZGl0b3I9dGhpcy5fbW9kdWxlLHRoaXMub3B0cy50b29sYmFyPyhhLmlzQXJyYXkodGhpcy5vcHRzLnRvb2xiYXIpfHwodGhpcy5vcHRzLnRvb2xiYXI9WyJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwic3RyaWtldGhyb3VnaCIsInwiLCJvbCIsInVsIiwiYmxvY2txdW90ZSIsImNvZGUiLCJ8IiwibGluayIsImltYWdlIiwifCIsImluZGVudCIsIm91dGRlbnQiXSksdGhpcy5fcmVuZGVyKCksdGhpcy5saXN0Lm9uKCJjbGljayIsZnVuY3Rpb24oYSl7cmV0dXJuITF9KSx0aGlzLndyYXBwZXIub24oIm1vdXNlZG93biIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmxpc3QuZmluZCgiLm1lbnUtb24iKS5yZW1vdmVDbGFzcygiLm1lbnUtb24iKX19KHRoaXMpKSxhKGRvY3VtZW50KS5vbigibW91c2Vkb3duLnNpbWRpdG9yIit0aGlzLmVkaXRvci5pZCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEubGlzdC5maW5kKCIubWVudS1vbiIpLnJlbW92ZUNsYXNzKCIubWVudS1vbiIpfX0odGhpcykpLCF0aGlzLm9wdHMudG9vbGJhckhpZGRlbiYmdGhpcy5vcHRzLnRvb2xiYXJGbG9hdCYmKHRoaXMud3JhcHBlci5jc3MoInRvcCIsdGhpcy5vcHRzLnRvb2xiYXJGbG9hdE9mZnNldCksZD0wLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEud3JhcHBlci5jc3MoInBvc2l0aW9uIiwic3RhdGljIiksYS53cmFwcGVyLndpZHRoKCJhdXRvIiksYS5lZGl0b3IudXRpbC5yZWZsb3coYS53cmFwcGVyKSxhLndyYXBwZXIud2lkdGgoYS53cmFwcGVyLm91dGVyV2lkdGgoKSksYS53cmFwcGVyLmNzcygibGVmdCIsYS5lZGl0b3IudXRpbC5vcy5tb2JpbGU/YS53cmFwcGVyLnBvc2l0aW9uKCkubGVmdDphLndyYXBwZXIub2Zmc2V0KCkubGVmdCksYS53cmFwcGVyLmNzcygicG9zaXRpb24iLCIiKSxkPWEud3JhcHBlci5vdXRlckhlaWdodCgpLGEuZWRpdG9yLnBsYWNlaG9sZGVyRWwuY3NzKCJ0b3AiLGQpLCEwfX0odGhpcyksYj1udWxsLGEod2luZG93KS5vbigicmVzaXplLnNpbWRpdG9yLSIrdGhpcy5lZGl0b3IuaWQsZnVuY3Rpb24oYSl7cmV0dXJuIGI9YygpfSksYSh3aW5kb3cpLm9uKCJzY3JvbGwuc2ltZGl0b3ItIit0aGlzLmVkaXRvci5pZCxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZil7dmFyIGcsaCxpO2lmKGUud3JhcHBlci5pcygiOnZpc2libGUiKSlpZihpPWUuZWRpdG9yLndyYXBwZXIub2Zmc2V0KCkudG9wLGc9aStlLmVkaXRvci53cmFwcGVyLm91dGVySGVpZ2h0KCktODAsaD1hKGRvY3VtZW50KS5zY3JvbGxUb3AoKStlLm9wdHMudG9vbGJhckZsb2F0T2Zmc2V0LGk+PWh8fGg+PWcpe2lmKGUuZWRpdG9yLndyYXBwZXIucmVtb3ZlQ2xhc3MoInRvb2xiYXItZmxvYXRpbmciKS5jc3MoInBhZGRpbmctdG9wIiwiIiksZS5lZGl0b3IudXRpbC5vcy5tb2JpbGUpcmV0dXJuIGUud3JhcHBlci5jc3MoInRvcCIsZS5vcHRzLnRvb2xiYXJGbG9hdE9mZnNldCl9ZWxzZSBpZihifHwoYj1jKCkpLGUuZWRpdG9yLndyYXBwZXIuYWRkQ2xhc3MoInRvb2xiYXItZmxvYXRpbmciKS5jc3MoInBhZGRpbmctdG9wIixkKSxlLmVkaXRvci51dGlsLm9zLm1vYmlsZSlyZXR1cm4gZS53cmFwcGVyLmNzcygidG9wIixoLWkrZS5vcHRzLnRvb2xiYXJGbG9hdE9mZnNldCl9fSh0aGlzKSkpLHRoaXMuZWRpdG9yLm9uKCJkZXN0cm95IixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5idXR0b25zLmxlbmd0aD0wfX0odGhpcykpLGEoZG9jdW1lbnQpLm9uKCJtb3VzZWRvd24uc2ltZGl0b3ItIit0aGlzLmVkaXRvci5pZCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEubGlzdC5maW5kKCJsaS5tZW51LW9uIikucmVtb3ZlQ2xhc3MoIm1lbnUtb24iKX19KHRoaXMpKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7Zm9yKHRoaXMuYnV0dG9ucz1bXSx0aGlzLndyYXBwZXI9YSh0aGlzLl90cGwud3JhcHBlcikucHJlcGVuZFRvKHRoaXMuZWRpdG9yLndyYXBwZXIpLHRoaXMubGlzdD10aGlzLndyYXBwZXIuZmluZCgidWwiKSxlPXRoaXMub3B0cy50b29sYmFyLGI9MCxjPWUubGVuZ3RoO2M+YjtiKyspaWYoZD1lW2JdLCJ8IiE9PWQpe2lmKCF0aGlzLmNvbnN0cnVjdG9yLmJ1dHRvbnNbZF0pdGhyb3cgbmV3IEVycm9yKCJzaW1kaXRvcjogaW52YWxpZCB0b29sYmFyIGJ1dHRvbiAiK2QpO3RoaXMuYnV0dG9ucy5wdXNoKG5ldyB0aGlzLmNvbnN0cnVjdG9yLmJ1dHRvbnNbZF0oe2VkaXRvcjp0aGlzLmVkaXRvcn0pKX1lbHNlIGEodGhpcy5fdHBsLnNlcGFyYXRvcikuYXBwZW5kVG8odGhpcy5saXN0KTtyZXR1cm4gdGhpcy5vcHRzLnRvb2xiYXJIaWRkZW4/dGhpcy53cmFwcGVyLmhpZGUoKTp2b2lkIDB9LGMucHJvdG90eXBlLmZpbmRCdXR0b249ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9dGhpcy5saXN0LmZpbmQoIi50b29sYmFyLWl0ZW0tIithKS5kYXRhKCJidXR0b24iKSxudWxsIT1iP2I6bnVsbH0sYy5hZGRCdXR0b249ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYnV0dG9uc1thLnByb3RvdHlwZS5uYW1lXT1hfSxjLmJ1dHRvbnM9e30sY30oYikscz1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucGx1Z2luTmFtZT0iSW5kZW50YXRpb24iLGMucHJvdG90eXBlLm9wdHM9e3RhYkluZGVudDohMH0sYy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3I9dGhpcy5fbW9kdWxlLHRoaXMuZWRpdG9yLmtleXN0cm9rZS5hZGQoInRhYiIsIioiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztyZXR1cm4gYz1hLmVkaXRvci50b29sYmFyLmZpbmRCdXR0b24oImNvZGUiKSxhLm9wdHMudGFiSW5kZW50fHxjJiZjLmFjdGl2ZT9hLmluZGVudChiLnNoaWZ0S2V5KTp2b2lkIDB9fSh0aGlzKSl9LGMucHJvdG90eXBlLmluZGVudD1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnO3JldHVybiBlPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zdGFydE5vZGVzKCksZD10aGlzLmVkaXRvci5zZWxlY3Rpb24uZW5kTm9kZXMoKSxjPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5ibG9ja05vZGVzKCksZj1bXSxjPWMuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBkLGUsZyxoLGk7Zm9yKGQ9ITAsZT1nPTAsaD1mLmxlbmd0aDtoPmc7ZT0rK2cpe2lmKGk9ZltlXSxhLmNvbnRhaW5zKGMsaSkpe2Q9ITE7YnJlYWt9aWYoYS5jb250YWlucyhpLGMpKXtmLnNwbGljZShlLDEsYyksZD0hMTticmVha319cmV0dXJuIGQ/Zi5wdXNoKGMpOnZvaWQgMH0pLGM9YShmKSxnPSExLGMuZWFjaChmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZTtyZXR1cm4gZT1iP2Eub3V0ZGVudEJsb2NrKGQpOmEuaW5kZW50QmxvY2soZCksZT9nPWU6dm9pZCAwfX0odGhpcykpLGd9LGMucHJvdG90eXBlLmluZGVudEJsb2NrPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsO2lmKGM9YShiKSxjLmxlbmd0aCl7aWYoYy5pcygicHJlIikpe2lmKGg9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmNvbnRhaW5lck5vZGUoKSwhaC5pcyhjKSYmIWguY2xvc2VzdCgicHJlIikuaXMoYykpcmV0dXJuO3RoaXMuaW5kZW50VGV4dCh0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSl9ZWxzZSBpZihjLmlzKCJsaSIpKXtpZihnPWMucHJldigibGkiKSxnLmxlbmd0aDwxKXJldHVybjt0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2F2ZSgpLGw9Yy5wYXJlbnQoKVswXS50YWdOYW1lLGQ9Zy5jaGlsZHJlbigidWwsIG9sIiksZC5sZW5ndGg+MD9kLmFwcGVuZChjKTphKCI8IitsKyIvPiIpLmFwcGVuZChjKS5hcHBlbmRUbyhnKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZSgpfWVsc2UgaWYoYy5pcygicCwgaDEsIGgyLCBoMywgaDQiKSlrPXBhcnNlSW50KGMuY3NzKCJtYXJnaW4tbGVmdCIpKXx8MCxrPShNYXRoLnJvdW5kKGsvdGhpcy5vcHRzLmluZGVudFdpZHRoKSsxKSp0aGlzLm9wdHMuaW5kZW50V2lkdGgsYy5jc3MoIm1hcmdpbi1sZWZ0IixrKTtlbHNle2lmKCFjLmlzKCJ0YWJsZSIpJiYhYy5pcygiLnNpbWRpdG9yLXRhYmxlIikpcmV0dXJuITE7aWYoaT10aGlzLmVkaXRvci5zZWxlY3Rpb24uY29udGFpbmVyTm9kZSgpLmNsb3Nlc3QoInRkLCB0aCIpLGU9aS5uZXh0KCJ0ZCwgdGgiKSxlLmxlbmd0aD4wfHwoaj1pLnBhcmVudCgidHIiKSxmPWoubmV4dCgidHIiKSxmLmxlbmd0aDwxJiZqLnBhcmVudCgpLmlzKCJ0aGVhZCIpJiYoZj1qLnBhcmVudCgidGhlYWQiKS5uZXh0KCJ0Ym9keSIpLmZpbmQoInRyOmZpcnN0IikpLGU9Zi5maW5kKCJ0ZDpmaXJzdCwgdGg6Zmlyc3QiKSksIShpLmxlbmd0aD4wJiZlLmxlbmd0aD4wKSlyZXR1cm47dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRFbmRPZihlKX1yZXR1cm4hMH19LGMucHJvdG90eXBlLmluZGVudFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1hLnRvU3RyaW5nKCkucmVwbGFjZSgvXig/PS4rKS9nbSwiwqDCoCIpLGM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYnx8IsKgwqAiKSxhLmRlbGV0ZUNvbnRlbnRzKCksYS5pbnNlcnROb2RlKGMpLGI/KGEuc2VsZWN0Tm9kZShjKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoYSkpOnRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUFmdGVyKGMpfSxjLnByb3RvdHlwZS5vdXRkZW50QmxvY2s9ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLGw7aWYoYz1hKGIpLGMmJmMubGVuZ3RoPjApe2lmKGMuaXMoInByZSIpKXtpZihmPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5jb250YWluZXJOb2RlKCksIWYuaXMoYykmJiFmLmNsb3Nlc3QoInByZSIpLmlzKGMpKXJldHVybjt0aGlzLm91dGRlbnRUZXh0KGwpfWVsc2UgaWYoYy5pcygibGkiKSlkPWMucGFyZW50KCksZT1kLnBhcmVudCgibGkiKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2F2ZSgpLGUubGVuZ3RoPDE/KGw9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxsLnNldFN0YXJ0QmVmb3JlKGRbMF0pLGwuc2V0RW5kQmVmb3JlKGNbMF0pLGQuYmVmb3JlKGwuZXh0cmFjdENvbnRlbnRzKCkpLGEoIjxwLz4iKS5pbnNlcnRCZWZvcmUoZCkuYWZ0ZXIoYy5jaGlsZHJlbigidWwsIG9sIikpLmFwcGVuZChjLmNvbnRlbnRzKCkpLGMucmVtb3ZlKCkpOihjLm5leHQoImxpIikubGVuZ3RoPjAmJmEoIjwiK2RbMF0udGFnTmFtZSsiLz4iKS5hcHBlbmQoYy5uZXh0QWxsKCJsaSIpKS5hcHBlbmRUbyhjKSxjLmluc2VydEFmdGVyKGUpLGQuY2hpbGRyZW4oImxpIikubGVuZ3RoPDEmJmQucmVtb3ZlKCkpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlKCk7ZWxzZSBpZihjLmlzKCJwLCBoMSwgaDIsIGgzLCBoNCIpKWs9cGFyc2VJbnQoYy5jc3MoIm1hcmdpbi1sZWZ0IikpfHwwLGs9TWF0aC5tYXgoTWF0aC5yb3VuZChrL3RoaXMub3B0cy5pbmRlbnRXaWR0aCktMSwwKSp0aGlzLm9wdHMuaW5kZW50V2lkdGgsYy5jc3MoIm1hcmdpbi1sZWZ0IiwwPT09az8iIjprKTtlbHNle2lmKCFjLmlzKCJ0YWJsZSIpJiYhYy5pcygiLnNpbWRpdG9yLXRhYmxlIikpcmV0dXJuITE7aWYoaT10aGlzLmVkaXRvci5zZWxlY3Rpb24uY29udGFpbmVyTm9kZSgpLmNsb3Nlc3QoInRkLCB0aCIpLGc9aS5wcmV2KCJ0ZCwgdGgiKSxnLmxlbmd0aD4wfHwoaj1pLnBhcmVudCgidHIiKSxoPWoucHJldigidHIiKSxoLmxlbmd0aDwxJiZqLnBhcmVudCgpLmlzKCJ0Ym9keSIpJiYoaD1qLnBhcmVudCgidGJvZHkiKS5wcmV2KCJ0aGVhZCIpLmZpbmQoInRyOmZpcnN0IikpLGc9aC5maW5kKCJ0ZDpsYXN0LCB0aDpsYXN0IikpLCEoaS5sZW5ndGg+MCYmZy5sZW5ndGg+MCkpcmV0dXJuO3RoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoZyl9cmV0dXJuITB9fSxjLnByb3RvdHlwZS5vdXRkZW50VGV4dD1mdW5jdGlvbihhKXt9LGN9KGIpLGk9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYyxiKSxjLnBsdWdpbk5hbWU9IkNsaXBib2FyZCIsYy5wcm90b3R5cGUub3B0cz17cGFzdGVJbWFnZTohMSxjbGVhblBhc3RlOiExfSxjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvcj10aGlzLl9tb2R1bGUsdGhpcy5vcHRzLnBhc3RlSW1hZ2UmJiJzdHJpbmciIT10eXBlb2YgdGhpcy5vcHRzLnBhc3RlSW1hZ2UmJih0aGlzLm9wdHMucGFzdGVJbWFnZT0iaW5saW5lIiksdGhpcy5lZGl0b3IuYm9keS5vbigicGFzdGUiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztpZighYS5wYXN0aW5nJiYhYS5fcGFzdGVCaW4pcmV0dXJuIGEuZWRpdG9yLnRyaWdnZXJIYW5kbGVyKGIpPT09ITE/ITE6KGM9YS5lZGl0b3Iuc2VsZWN0aW9uLmRlbGV0ZVJhbmdlQ29udGVudHMoKSxhLmVkaXRvci5ib2R5Lmh0bWwoKT9jLmNvbGxhcHNlZHx8Yy5jb2xsYXBzZSghMCk6KGEuZWRpdG9yLmZvcm1hdHRlci5mb3JtYXQoKSxhLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoYS5lZGl0b3IuYm9keS5maW5kKCJwOmZpcnN0IikpKSxhLl9wcm9jZXNzUGFzdGVCeUNsaXBib2FyZEFwaShiKT8hMTooYS5lZGl0b3IuaW5wdXRNYW5hZ2VyLnRocm90dGxlZFZhbHVlQ2hhbmdlZC5jbGVhcigpLGEuZWRpdG9yLmlucHV0TWFuYWdlci50aHJvdHRsZWRTZWxlY3Rpb25DaGFuZ2VkLmNsZWFyKCksYS5lZGl0b3IudW5kb01hbmFnZXIudGhyb3R0bGVkUHVzaFN0YXRlLmNsZWFyKCksYS5lZGl0b3Iuc2VsZWN0aW9uLnJlc2V0KCksYS5lZGl0b3IudW5kb01hbmFnZXIucmVzZXRDYXJldFBvc2l0aW9uKCksYS5wYXN0aW5nPSEwLGEuX2dldFBhc3RlQ29udGVudChmdW5jdGlvbihiKXtyZXR1cm4gYS5fcHJvY2Vzc1Bhc3RlQ29udGVudChiKSxhLl9wYXN0ZUluQmxvY2tFbD1udWxsLGEuX3Bhc3RlUGxhaW5UZXh0PW51bGwsYS5wYXN0aW5nPSExfSkpKX19KHRoaXMpKX0sYy5wcm90b3R5cGUuX3Byb2Nlc3NQYXN0ZUJ5Q2xpcGJvYXJkQXBpPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlO2lmKCF0aGlzLmVkaXRvci51dGlsLmJyb3dzZXIuZWRnZSYmYS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEmJmEub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhLml0ZW1zJiZhLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGg+MCYmKGM9YS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEuaXRlbXNbMF0sL15pbWFnZVwvLy50ZXN0KGMudHlwZSkpKXtpZihiPWMuZ2V0QXNGaWxlKCksbnVsbD09Ynx8IXRoaXMub3B0cy5wYXN0ZUltYWdlKXJldHVybjtpZihiLm5hbWV8fChiLm5hbWU9IkNsaXBib2FyZCBJbWFnZS5wbmciKSx0aGlzLmVkaXRvci50cmlnZ2VySGFuZGxlcigicGFzdGluZyIsW2JdKT09PSExKXJldHVybjtyZXR1cm4gZT17fSxlW3RoaXMub3B0cy5wYXN0ZUltYWdlXT0hMCxudWxsIT0oZD10aGlzLmVkaXRvci51cGxvYWRlcikmJmQudXBsb2FkKGIsZSksITB9fSxjLnByb3RvdHlwZS5fZ2V0UGFzdGVDb250ZW50PWZ1bmN0aW9uKGIpe3ZhciBjO3JldHVybiB0aGlzLl9wYXN0ZUJpbj1hKCc8ZGl2IGNvbnRlbnRlZGl0YWJsZT0idHJ1ZSIgLz4nKS5hZGRDbGFzcygic2ltZGl0b3ItcGFzdGUtYmluIikuYXR0cigidGFiSW5kZXgiLCItMSIpLmFwcGVuZFRvKHRoaXMuZWRpdG9yLmVsKSxjPXtodG1sOnRoaXMuZWRpdG9yLmJvZHkuaHRtbCgpLGNhcmV0OnRoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLmNhcmV0UG9zaXRpb24oKX0sdGhpcy5fcGFzdGVCaW4uZm9jdXMoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKGQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlO3JldHVybiBkLmVkaXRvci5oaWRlUG9wb3ZlcigpLGQuZWRpdG9yLmJvZHkuZ2V0KDApLmlubmVySFRNTD1jLmh0bWwsZC5lZGl0b3IudW5kb01hbmFnZXIuY2FyZXRQb3NpdGlvbihjLmNhcmV0KSxkLmVkaXRvci5ib2R5LmZvY3VzKCksZC5lZGl0b3Iuc2VsZWN0aW9uLnJlc2V0KCksZC5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlKCksZC5fcGFzdGVJbkJsb2NrRWw9ZC5lZGl0b3Iuc2VsZWN0aW9uLmJsb2NrTm9kZXMoKS5sYXN0KCksZC5fcGFzdGVQbGFpblRleHQ9ZC5vcHRzLmNsZWFuUGFzdGV8fGQuX3Bhc3RlSW5CbG9ja0VsLmlzKCJwcmUsIHRhYmxlIiksZC5fcGFzdGVQbGFpblRleHQ/ZT1kLmVkaXRvci5mb3JtYXR0ZXIuY2xlYXJIdG1sKGQuX3Bhc3RlQmluLmh0bWwoKSwhMCk6KGU9YSgiPGRpdi8+IikuYXBwZW5kKGQuX3Bhc3RlQmluLmNvbnRlbnRzKCkpLGUuZmluZCgidGFibGUgY29sZ3JvdXAiKS5yZW1vdmUoKSxkLmVkaXRvci5mb3JtYXR0ZXIuZm9ybWF0KGUpLGQuZWRpdG9yLmZvcm1hdHRlci5kZWNvcmF0ZShlKSxkLmVkaXRvci5mb3JtYXR0ZXIuYmVhdXRpZnkoZS5jaGlsZHJlbigpKSxlPWUuY29udGVudHMoKSksZC5fcGFzdGVCaW4ucmVtb3ZlKCksZC5fcGFzdGVCaW49bnVsbCxiKGUpfX0odGhpcyksMCl9LGMucHJvdG90eXBlLl9wcm9jZXNzUGFzdGVDb250ZW50PWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHk7aWYodGhpcy5lZGl0b3IudHJpZ2dlckhhbmRsZXIoInBhc3RpbmciLFtiXSkhPT0hMSYmKGM9dGhpcy5fcGFzdGVJbkJsb2NrRWwsYikpe2lmKHRoaXMuX3Bhc3RlUGxhaW5UZXh0KWlmKGMuaXMoInRhYmxlIikpe2ZvcihxPWIuc3BsaXQoIlxuIiksaj1xLnBvcCgpLGg9MCxrPXEubGVuZ3RoO2s+aDtoKyspcD1xW2hdLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5pbnNlcnROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHApKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uaW5zZXJ0Tm9kZShhKCI8YnIvPiIpKTt0aGlzLmVkaXRvci5zZWxlY3Rpb24uaW5zZXJ0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShqKSl9ZWxzZSBmb3IoYj1hKCI8ZGl2Lz4iKS50ZXh0KGIpLHY9Yi5jb250ZW50cygpLGk9MCxsPXYubGVuZ3RoO2w+aTtpKyspcz12W2ldLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5pbnNlcnROb2RlKGEocylbMF0pO2Vsc2UgaWYoYy5pcyh0aGlzLmVkaXRvci5ib2R5KSlmb3Iocj0wLG09Yi5sZW5ndGg7bT5yO3IrKylzPWJbcl0sdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmluc2VydE5vZGUocyk7ZWxzZXtpZihiLmxlbmd0aDwxKXJldHVybjtpZigxPT09Yi5sZW5ndGgpaWYoYi5pcygicCIpKXtpZihmPWIuY29udGVudHMoKSwxPT09Zi5sZW5ndGgmJmYuaXMoImltZyIpKXtpZihkPWYsL15kYXRhOmltYWdlLy50ZXN0KGQuYXR0cigic3JjIikpKXtpZighdGhpcy5vcHRzLnBhc3RlSW1hZ2UpcmV0dXJuO3JldHVybiBlPXRoaXMuZWRpdG9yLnV0aWwuZGF0YVVSTHRvQmxvYihkLmF0dHIoInNyYyIpKSxlLm5hbWU9IkNsaXBib2FyZCBJbWFnZS5wbmciLHk9e30seVt0aGlzLm9wdHMucGFzdGVJbWFnZV09ITAsdm9pZChudWxsIT0odz10aGlzLmVkaXRvci51cGxvYWRlcikmJncudXBsb2FkKGUseSkpfWlmKGQuaXMoJ2ltZ1tzcmNePSJ3ZWJraXQtZmFrZS11cmw6Ly8iXScpKXJldHVybn1mb3IodD0wLG49Zi5sZW5ndGg7bj50O3QrKylzPWZbdF0sdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmluc2VydE5vZGUocyl9ZWxzZSBpZihjLmlzKCJwIikmJnRoaXMuZWRpdG9yLnV0aWwuaXNFbXB0eU5vZGUoYykpYy5yZXBsYWNlV2l0aChiKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGIpO2Vsc2UgaWYoYi5pcygidWwsIG9sIikpaWYoMT09PWIuZmluZCgibGkiKS5sZW5ndGgpZm9yKGI9YSgiPGRpdi8+IikudGV4dChiLnRleHQoKSkseD1iLmNvbnRlbnRzKCksdT0wLG89eC5sZW5ndGg7bz51O3UrKylzPXhbdV0sdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmluc2VydE5vZGUoYShzKVswXSk7ZWxzZSBjLmlzKCJsaSIpPyhjLnBhcmVudCgpLmFmdGVyKGIpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoYikpOihjLmFmdGVyKGIpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoYikpO2Vsc2UgYy5hZnRlcihiKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGIpO2Vsc2UgYy5pcygibGkiKSYmKGM9Yy5wYXJlbnQoKSksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRTdGFydE9mKGMpP2c9ImJlZm9yZSI6dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRFbmRPZihjKT9nPSJhZnRlciI6KHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5icmVha0Jsb2NrRWwoYyksZz0iYmVmb3JlIiksY1tnXShiKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGIubGFzdCgpKX1yZXR1cm4gdGhpcy5lZGl0b3IuaW5wdXRNYW5hZ2VyLnRocm90dGxlZFZhbHVlQ2hhbmdlZCgpfX0sY30oYiksRD1mdW5jdGlvbihiKXtmdW5jdGlvbiBlKCl7cmV0dXJuIGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShlLGIpLGUuY29ubmVjdChMKSxlLmNvbm5lY3QodCksZS5jb25uZWN0KEMpLGUuY29ubmVjdChKKSxlLmNvbm5lY3QodiksZS5jb25uZWN0KG4pLGUuY29ubmVjdChIKSxlLmNvbm5lY3QocyksZS5jb25uZWN0KGkpLGUuY291bnQ9MCxlLnByb3RvdHlwZS5vcHRzPXt0ZXh0YXJlYTpudWxsLHBsYWNlaG9sZGVyOiIiLGRlZmF1bHRJbWFnZToiaW1hZ2VzL2ltYWdlLnBuZyIscGFyYW1zOnt9LHVwbG9hZDohMSxpbmRlbnRXaWR0aDo0MH0sZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt2YXIgYixmLGcsaDtpZih0aGlzLnRleHRhcmVhPWEodGhpcy5vcHRzLnRleHRhcmVhKSx0aGlzLm9wdHMucGxhY2Vob2xkZXI9dGhpcy5vcHRzLnBsYWNlaG9sZGVyfHx0aGlzLnRleHRhcmVhLmF0dHIoInBsYWNlaG9sZGVyIiksIXRoaXMudGV4dGFyZWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic2ltZGl0b3I6IHBhcmFtIHRleHRhcmVhIGlzIHJlcXVpcmVkLiIpO2lmKGY9dGhpcy50ZXh0YXJlYS5kYXRhKCJzaW1kaXRvciIpLG51bGwhPWYmJmYuZGVzdHJveSgpLHRoaXMuaWQ9KytlLmNvdW50LHRoaXMuX3JlbmRlcigpLCFjKXRocm93IG5ldyBFcnJvcigic2ltZGl0b3I6IHNpbXBsZS1ob3RrZXlzIGlzIHJlcXVpcmVkLiIpO2lmKHRoaXMuaG90a2V5cz1jKHtlbDp0aGlzLmJvZHl9KSx0aGlzLm9wdHMudXBsb2FkJiZkJiYoaD0ib2JqZWN0Ij09dHlwZW9mIHRoaXMub3B0cy51cGxvYWQ/dGhpcy5vcHRzLnVwbG9hZDp7fSx0aGlzLnVwbG9hZGVyPWQoaCkpLGc9dGhpcy50ZXh0YXJlYS5jbG9zZXN0KCJmb3JtIiksZy5sZW5ndGgmJihnLm9uKCJzdWJtaXQuc2ltZGl0b3ItIit0aGlzLmlkLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLnN5bmMoKX19KHRoaXMpKSxnLm9uKCJyZXNldC5zaW1kaXRvci0iK3RoaXMuaWQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuc2V0VmFsdWUoIiIpfX0odGhpcykpKSx0aGlzLm9uKCJpbml0aWFsaXplZCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEub3B0cy5wbGFjZWhvbGRlciYmYS5vbigidmFsdWVjaGFuZ2VkIixmdW5jdGlvbigpe3JldHVybiBhLl9wbGFjZWhvbGRlcigpfSksYS5zZXRWYWx1ZShhLnRleHRhcmVhLnZhbCgpLnRyaW0oKXx8IiIpLGEudGV4dGFyZWEuYXR0cigiYXV0b2ZvY3VzIik/YS5mb2N1cygpOnZvaWQgMH19KHRoaXMpKSx0aGlzLnV0aWwuYnJvd3Nlci5tb3ppbGxhKXt0aGlzLnV0aWwucmVmbG93KCk7dHJ5e3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExLCExKSxkb2N1bWVudC5leGVjQ29tbWFuZCgiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSwhMSl9Y2F0Y2goaSl7Yj1pfX19LGUucHJvdG90eXBlLl90cGw9JzxkaXYgY2xhc3M9InNpbWRpdG9yIj5cbiAgPGRpdiBjbGFzcz0ic2ltZGl0b3Itd3JhcHBlciI+XG4gICAgPGRpdiBjbGFzcz0ic2ltZGl0b3ItcGxhY2Vob2xkZXIiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9InNpbWRpdG9yLWJvZHkiIGNvbnRlbnRlZGl0YWJsZT0idHJ1ZSI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+JyxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7aWYodGhpcy5lbD1hKHRoaXMuX3RwbCkuaW5zZXJ0QmVmb3JlKHRoaXMudGV4dGFyZWEpLHRoaXMud3JhcHBlcj10aGlzLmVsLmZpbmQoIi5zaW1kaXRvci13cmFwcGVyIiksdGhpcy5ib2R5PXRoaXMud3JhcHBlci5maW5kKCIuc2ltZGl0b3ItYm9keSIpLHRoaXMucGxhY2Vob2xkZXJFbD10aGlzLndyYXBwZXIuZmluZCgiLnNpbWRpdG9yLXBsYWNlaG9sZGVyIikuYXBwZW5kKHRoaXMub3B0cy5wbGFjZWhvbGRlciksdGhpcy5lbC5kYXRhKCJzaW1kaXRvciIsdGhpcyksdGhpcy53cmFwcGVyLmFwcGVuZCh0aGlzLnRleHRhcmVhKSx0aGlzLnRleHRhcmVhLmRhdGEoInNpbWRpdG9yIix0aGlzKS5ibHVyKCksdGhpcy5ib2R5LmF0dHIoInRhYmluZGV4Iix0aGlzLnRleHRhcmVhLmF0dHIoInRhYmluZGV4IikpLHRoaXMudXRpbC5vcy5tYWM/dGhpcy5lbC5hZGRDbGFzcygic2ltZGl0b3ItbWFjIik6dGhpcy51dGlsLm9zLmxpbnV4JiZ0aGlzLmVsLmFkZENsYXNzKCJzaW1kaXRvci1saW51eCIpLHRoaXMudXRpbC5vcy5tb2JpbGUmJnRoaXMuZWwuYWRkQ2xhc3MoInNpbWRpdG9yLW1vYmlsZSIpLHRoaXMub3B0cy5wYXJhbXMpe2M9dGhpcy5vcHRzLnBhcmFtcyxkPVtdO2ZvcihiIGluIGMpZT1jW2JdLGQucHVzaChhKCI8aW5wdXQvPiIse3R5cGU6ImhpZGRlbiIsbmFtZTpiLHZhbHVlOmV9KS5pbnNlcnRBZnRlcih0aGlzLnRleHRhcmVhKSk7cmV0dXJuIGR9fSxlLnByb3RvdHlwZS5fcGxhY2Vob2xkZXI9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gYT10aGlzLmJvZHkuY2hpbGRyZW4oKSwwPT09YS5sZW5ndGh8fDE9PT1hLmxlbmd0aCYmdGhpcy51dGlsLmlzRW1wdHlOb2RlKGEpJiZwYXJzZUludChhLmNzcygibWFyZ2luLWxlZnQiKXx8MCk8dGhpcy5vcHRzLmluZGVudFdpZHRoP3RoaXMucGxhY2Vob2xkZXJFbC5zaG93KCk6dGhpcy5wbGFjZWhvbGRlckVsLmhpZGUoKX0sZS5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGlkZVBvcG92ZXIoKSx0aGlzLnRleHRhcmVhLnZhbChhKSx0aGlzLmJvZHkuZ2V0KDApLmlubmVySFRNTD1hLHRoaXMuZm9ybWF0dGVyLmZvcm1hdCgpLHRoaXMuZm9ybWF0dGVyLmRlY29yYXRlKCksdGhpcy51dGlsLnJlZmxvdyh0aGlzLmJvZHkpLHRoaXMuaW5wdXRNYW5hZ2VyLmxhc3RDYXJldFBvc2l0aW9uPW51bGwsdGhpcy50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKX0sZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW5jKCl9LGUucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmLGc7Zm9yKGM9dGhpcy5ib2R5LmNsb25lKCksdGhpcy5mb3JtYXR0ZXIudW5kZWNvcmF0ZShjKSx0aGlzLmZvcm1hdHRlci5mb3JtYXQoYyksdGhpcy5mb3JtYXR0ZXIuYXV0b2xpbmsoYyksYj1jLmNoaWxkcmVuKCksZj1iLmxhc3QoInAiKSxlPWIuZmlyc3QoInAiKTtmLmlzKCJwIikmJnRoaXMudXRpbC5pc0VtcHR5Tm9kZShmKTspZD1mLGY9Zi5wcmV2KCJwIiksZC5yZW1vdmUoKTtmb3IoO2UuaXMoInAiKSYmdGhpcy51dGlsLmlzRW1wdHlOb2RlKGUpOylkPWUsZT1mLm5leHQoInAiKSxkLnJlbW92ZSgpO3JldHVybiBjLmZpbmQoImltZy51cGxvYWRpbmciKS5yZW1vdmUoKSxnPWEudHJpbShjLmh0bWwoKSksdGhpcy50ZXh0YXJlYS52YWwoZyksZ30sZS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt2YXIgYixjO3JldHVybiB0aGlzLmJvZHkuaXMoIjp2aXNpYmxlIikmJnRoaXMuYm9keS5pcygiW2NvbnRlbnRlZGl0YWJsZV0iKT90aGlzLmlucHV0TWFuYWdlci5sYXN0Q2FyZXRQb3NpdGlvbj8odGhpcy51bmRvTWFuYWdlci5jYXJldFBvc2l0aW9uKHRoaXMuaW5wdXRNYW5hZ2VyLmxhc3RDYXJldFBvc2l0aW9uKSx0aGlzLmlucHV0TWFuYWdlci5sYXN0Q2FyZXRQb3NpdGlvbj1udWxsKTooYj10aGlzLmJvZHkuY2hpbGRyZW4oKS5sYXN0KCksYi5pcygicCIpfHwoYj1hKCI8cC8+IikuYXBwZW5kKHRoaXMudXRpbC5waEJyKS5hcHBlbmRUbyh0aGlzLmJvZHkpKSxjPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksdGhpcy5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGIsYykpOnZvaWQgdGhpcy5lbC5maW5kKCJ0ZXh0YXJlYTp2aXNpYmxlIikuZm9jdXMoKX0sZS5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuaXMoIjp2aXNpYmxlIikmJnRoaXMuYm9keS5pcygiW2NvbnRlbnRlZGl0YWJsZV0iKT90aGlzLmJvZHkuYmx1cigpOnRoaXMuYm9keS5maW5kKCJ0ZXh0YXJlYTp2aXNpYmxlIikuYmx1cigpfSxlLnByb3RvdHlwZS5oaWRlUG9wb3Zlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsLmZpbmQoIi5zaW1kaXRvci1wb3BvdmVyIikuZWFjaChmdW5jdGlvbihiLGMpe3JldHVybiBjPWEoYykuZGF0YSgicG9wb3ZlciIpLGMuYWN0aXZlP2MuaGlkZSgpOnZvaWQgMH0pfSxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJpZ2dlckhhbmRsZXIoImRlc3Ryb3kiKSx0aGlzLnRleHRhcmVhLmNsb3Nlc3QoImZvcm0iKS5vZmYoIi5zaW1kaXRvciAuc2ltZGl0b3ItIit0aGlzLmlkKSx0aGlzLnNlbGVjdGlvbi5jbGVhcigpLHRoaXMuaW5wdXRNYW5hZ2VyLmZvY3VzZWQ9ITEsdGhpcy50ZXh0YXJlYS5pbnNlcnRCZWZvcmUodGhpcy5lbCkuaGlkZSgpLnZhbCgiIikucmVtb3ZlRGF0YSgic2ltZGl0b3IiKSx0aGlzLmVsLnJlbW92ZSgpLGEoZG9jdW1lbnQpLm9mZigiLnNpbWRpdG9yLSIrdGhpcy5pZCksYSh3aW5kb3cpLm9mZigiLnNpbWRpdG9yLSIrdGhpcy5pZCksdGhpcy5vZmYoKX0sZX0oYiksRC5pMThuPXsiemgtQ04iOntibG9ja3F1b3RlOiLlvJXnlKgiLGJvbGQ6IuWKoOeyl+aWh+WtlyIsY29kZToi5o+S5YWl5Luj56CBIixjb2xvcjoi5paH5a2X6aKc6ImyIixjb2xvcmVkVGV4dDoi5b2p6Imy5paH5a2XIixocjoi5YiG6ZqU57q/IixpbWFnZToi5o+S5YWl5Zu+54mHIixleHRlcm5hbEltYWdlOiLlpJbpk77lm77niYciLHVwbG9hZEltYWdlOiLkuIrkvKDlm77niYciLHVwbG9hZEZhaWxlZDoi5LiK5Lyg5aSx6LSl5LqGIix1cGxvYWRFcnJvcjoi5LiK5Lyg5Ye66ZSZ5LqGIixpbWFnZVVybDoi5Zu+54mH5Zyw5Z2AIixpbWFnZVNpemU6IuWbvueJh+WwuuWvuCIsaW1hZ2VBbHQ6IuWbvueJh+aPj+i/sCIscmVzdG9yZUltYWdlU2l6ZToi6L+Y5Y6f5Zu+54mH5bC65a+4Iix1cGxvYWRpbmc6Iuato+WcqOS4iuS8oCIsaW5kZW50OiLlkJHlj7PnvKnov5siLG91dGRlbnQ6IuWQkeW3pue8qei/myIsaXRhbGljOiLmlpzkvZPmloflrZciLGxpbms6IuaPkuWFpemTvuaOpSIsbGlua1RleHQ6IumTvuaOpeaWh+WtlyIsbGlua1VybDoi6ZO+5o6l5Zyw5Z2AIixsaW5rVGFyZ2V0OiLmiZPlvIDmlrnlvI8iLG9wZW5MaW5rSW5DdXJyZW50V2luZG93OiLlnKjmlrDnqpflj6PkuK3miZPlvIAiLG9wZW5MaW5rSW5OZXdXaW5kb3c6IuWcqOW9k+WJjeeql+WPo+S4reaJk+W8gCIscmVtb3ZlTGluazoi56e76Zmk6ZO+5o6lIixvbDoi5pyJ5bqP5YiX6KGoIix1bDoi5peg5bqP5YiX6KGoIixzdHJpa2V0aHJvdWdoOiLliKDpmaTnur/mloflrZciLHRhYmxlOiLooajmoLwiLGRlbGV0ZVJvdzoi5Yig6Zmk6KGMIixpbnNlcnRSb3dBYm92ZToi5Zyo5LiK6Z2i5o+S5YWl6KGMIixpbnNlcnRSb3dCZWxvdzoi5Zyo5LiL6Z2i5o+S5YWl6KGMIixkZWxldGVDb2x1bW46IuWIoOmZpOWIlyIsaW5zZXJ0Q29sdW1uTGVmdDoi5Zyo5bem6L655o+S5YWl5YiXIixpbnNlcnRDb2x1bW5SaWdodDoi5Zyo5Y+z6L655o+S5YWl5YiXIixkZWxldGVUYWJsZToi5Yig6Zmk6KGo5qC8Iix0aXRsZToi5qCH6aKYIixub3JtYWxUZXh0OiLmma7pgJrmlofmnKwiLHVuZGVybGluZToi5LiL5YiS57q/5paH5a2XIixhbGlnbm1lbnQ6IuawtOW5s+Wvuem9kCIsYWxpZ25DZW50ZXI6IuWxheS4rSIsYWxpZ25MZWZ0OiLlsYXlt6YiLGFsaWduUmlnaHQ6IuWxheWPsyIsc2VsZWN0TGFuZ3VhZ2U6IumAieaLqeeoi+W6j+ivreiogCIsZm9udFNjYWxlOiLlrZfkvZPlpKflsI8iLGZvbnRTY2FsZVhMYXJnZToi6LaF5aSn5a2X5L2TIixmb250U2NhbGVMYXJnZToi5aSn5Y+35a2X5L2TIixmb250U2NhbGVOb3JtYWw6Iuato+W4uOWkp+WwjyIsZm9udFNjYWxlU21hbGw6IuWwj+WPt+Wtl+S9kyIsZm9udFNjYWxlWFNtYWxsOiLotoXlsI/lrZfkvZMifSwiZW4tVVMiOntibG9ja3F1b3RlOiJCbG9jayBRdW90ZSIsYm9sZDoiQm9sZCIsY29kZToiQ29kZSIsY29sb3I6IlRleHQgQ29sb3IiLGNvbG9yZWRUZXh0OiJDb2xvcmVkIFRleHQiLGhyOiJIb3Jpem9udGFsIExpbmUiLGltYWdlOiJJbnNlcnQgSW1hZ2UiLGV4dGVybmFsSW1hZ2U6IkV4dGVybmFsIEltYWdlIix1cGxvYWRJbWFnZToiVXBsb2FkIEltYWdlIix1cGxvYWRGYWlsZWQ6IlVwbG9hZCBmYWlsZWQiLHVwbG9hZEVycm9yOiJFcnJvciBvY2N1cnMgZHVyaW5nIHVwbG9hZCIsaW1hZ2VVcmw6IlVybCIsaW1hZ2VTaXplOiJTaXplIixpbWFnZUFsdDoiQWx0IixyZXN0b3JlSW1hZ2VTaXplOiJSZXN0b3JlIE9yaWdpbiBTaXplIix1cGxvYWRpbmc6IlVwbG9hZGluZyIsaW5kZW50OiJJbmRlbnQiLG91dGRlbnQ6Ik91dGRlbnQiLGl0YWxpYzoiSXRhbGljIixsaW5rOiJJbnNlcnQgTGluayIsbGlua1RleHQ6IlRleHQiLGxpbmtVcmw6IlVybCIsbGlua1RhcmdldDoiVGFyZ2V0IixvcGVuTGlua0luQ3VycmVudFdpbmRvdzoiT3BlbiBsaW5rIGluIGN1cnJlbnQgd2luZG93IixvcGVuTGlua0luTmV3V2luZG93OiJPcGVuIGxpbmsgaW4gbmV3IHdpbmRvdyIscmVtb3ZlTGluazoiUmVtb3ZlIExpbmsiLG9sOiJPcmRlcmVkIExpc3QiLHVsOiJVbm9yZGVyZWQgTGlzdCIsc3RyaWtldGhyb3VnaDoiU3RyaWtldGhyb3VnaCIsdGFibGU6IlRhYmxlIixkZWxldGVSb3c6IkRlbGV0ZSBSb3ciLGluc2VydFJvd0Fib3ZlOiJJbnNlcnQgUm93IEFib3ZlIixpbnNlcnRSb3dCZWxvdzoiSW5zZXJ0IFJvdyBCZWxvdyIsZGVsZXRlQ29sdW1uOiJEZWxldGUgQ29sdW1uIixpbnNlcnRDb2x1bW5MZWZ0OiJJbnNlcnQgQ29sdW1uIExlZnQiLGluc2VydENvbHVtblJpZ2h0OiJJbnNlcnQgQ29sdW1uIFJpZ2h0IixkZWxldGVUYWJsZToiRGVsZXRlIFRhYmxlIix0aXRsZToiVGl0bGUiLG5vcm1hbFRleHQ6IlRleHQiLHVuZGVybGluZToiVW5kZXJsaW5lIixhbGlnbm1lbnQ6IkFsaWdubWVudCIsYWxpZ25DZW50ZXI6IkFsaWduIENlbnRlciIsYWxpZ25MZWZ0OiJBbGlnbiBMZWZ0IixhbGlnblJpZ2h0OiJBbGlnbiBSaWdodCIsc2VsZWN0TGFuZ3VhZ2U6IlNlbGVjdCBMYW5ndWFnZSIsZm9udFNjYWxlOiJGb250IFNpemUiLGZvbnRTY2FsZVhMYXJnZToiWCBMYXJnZSBTaXplIixmb250U2NhbGVMYXJnZToiTGFyZ2UgU2l6ZSIsZm9udFNjYWxlTm9ybWFsOiJOb3JtYWwgU2l6ZSIsZm9udFNjYWxlU21hbGw6IlNtYWxsIFNpemUiLGZvbnRTY2FsZVhTbWFsbDoiWCBTbWFsbCBTaXplIn19LGg9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXt0aGlzLmVkaXRvcj1hLmVkaXRvcix0aGlzLnRpdGxlPXRoaXMuX3QodGhpcy5uYW1lKSxjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSl9cmV0dXJuIE0oYyxiKSxjLnByb3RvdHlwZS5fdHBsPXtpdGVtOic8bGk+PGEgdGFiaW5kZXg9Ii0xIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0idG9vbGJhci1pdGVtIiBocmVmPSJqYXZhc2NyaXB0OjsiPjxzcGFuPjwvc3Bhbj48L2E+PC9saT4nLG1lbnVXcmFwcGVyOic8ZGl2IGNsYXNzPSJ0b29sYmFyLW1lbnUiPjwvZGl2PicsbWVudUl0ZW06JzxsaT48YSB0YWJpbmRleD0iLTEiIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJtZW51LWl0ZW0iIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4+PC9zcGFuPjwvYT48L2xpPicsc2VwYXJhdG9yOic8bGk+PHNwYW4gY2xhc3M9InNlcGFyYXRvciI+PC9zcGFuPjwvbGk+J30sYy5wcm90b3R5cGUubmFtZT0iIixjLnByb3RvdHlwZS5pY29uPSIiLGMucHJvdG90eXBlLnRpdGxlPSIiLGMucHJvdG90eXBlLnRleHQ9IiIsYy5wcm90b3R5cGUuaHRtbFRhZz0iIixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSIiLGMucHJvdG90eXBlLm1lbnU9ITEsYy5wcm90b3R5cGUuYWN0aXZlPSExLGMucHJvdG90eXBlLmRpc2FibGVkPSExLGMucHJvdG90eXBlLm5lZWRGb2N1cz0hMCxjLnByb3RvdHlwZS5zaG9ydGN1dD1udWxsLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7Zm9yKHRoaXMucmVuZGVyKCksdGhpcy5lbC5vbigibW91c2Vkb3duIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGMsZCxlO3JldHVybiBiLnByZXZlbnREZWZhdWx0KCksZD1hLm5lZWRGb2N1cyYmIWEuZWRpdG9yLmlucHV0TWFuYWdlci5mb2N1c2VkLGEuZWwuaGFzQ2xhc3MoImRpc2FibGVkIil8fGQ/ITE6YS5tZW51PyhhLndyYXBwZXIudG9nZ2xlQ2xhc3MoIm1lbnUtb24iKS5zaWJsaW5ncygibGkiKS5yZW1vdmVDbGFzcygibWVudS1vbiIpLGEud3JhcHBlci5pcygiLm1lbnUtb24iKSYmKGM9YS5tZW51V3JhcHBlci5vZmZzZXQoKS5sZWZ0K2EubWVudVdyYXBwZXIub3V0ZXJXaWR0aCgpKzUtYS5lZGl0b3Iud3JhcHBlci5vZmZzZXQoKS5sZWZ0LWEuZWRpdG9yLndyYXBwZXIub3V0ZXJXaWR0aCgpLGM+MCYmYS5tZW51V3JhcHBlci5jc3Moe2xlZnQ6ImF1dG8iLHJpZ2h0OjB9KSxhLnRyaWdnZXIoIm1lbnVleHBhbmQiKSksITEpOihlPWEuZWwuZGF0YSgicGFyYW0iKSxhLmNvbW1hbmQoZSksITEpfX0odGhpcykpLHRoaXMud3JhcHBlci5vbigiY2xpY2siLCJhLm1lbnUtaXRlbSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGUsZjtyZXR1cm4gYy5wcmV2ZW50RGVmYXVsdCgpLGQ9YShjLmN1cnJlbnRUYXJnZXQpLGIud3JhcHBlci5yZW1vdmVDbGFzcygibWVudS1vbiIpLGU9Yi5uZWVkRm9jdXMmJiFiLmVkaXRvci5pbnB1dE1hbmFnZXIuZm9jdXNlZCxkLmhhc0NsYXNzKCJkaXNhYmxlZCIpfHxlPyExOihiLmVkaXRvci50b29sYmFyLndyYXBwZXIucmVtb3ZlQ2xhc3MoIm1lbnUtb24iKSxmPWQuZGF0YSgicGFyYW0iKSxiLmNvbW1hbmQoZiksITEpfX0odGhpcykpLHRoaXMud3JhcHBlci5vbigibW91c2Vkb3duIiwiYS5tZW51LWl0ZW0iLGZ1bmN0aW9uKGEpe3JldHVybiExfSksdGhpcy5lZGl0b3Iub24oImJsdXIiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPWEuZWRpdG9yLmJvZHkuaXMoIjp2aXNpYmxlIikmJmEuZWRpdG9yLmJvZHkuaXMoIltjb250ZW50ZWRpdGFibGVdIiksYiYmIWEuZWRpdG9yLmNsaXBib2FyZC5wYXN0aW5nPyhhLnNldEFjdGl2ZSghMSksYS5zZXREaXNhYmxlZCghMSkpOnZvaWQgMH19KHRoaXMpKSxudWxsIT10aGlzLnNob3J0Y3V0JiZ0aGlzLmVkaXRvci5ob3RrZXlzLmFkZCh0aGlzLnNob3J0Y3V0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lbC5tb3VzZWRvd24oKSwhMX19KHRoaXMpKSxkPXRoaXMuaHRtbFRhZy5zcGxpdCgiLCIpLGI9MCxjPWQubGVuZ3RoO2M+YjtiKyspZT1kW2JdLGU9YS50cmltKGUpLGUmJmEuaW5BcnJheShlLHRoaXMuZWRpdG9yLmZvcm1hdHRlci5fYWxsb3dlZFRhZ3MpPDAmJnRoaXMuZWRpdG9yLmZvcm1hdHRlci5fYWxsb3dlZFRhZ3MucHVzaChlKTtyZXR1cm4gdGhpcy5lZGl0b3Iub24oInNlbGVjdGlvbmNoYW5nZWQiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lZGl0b3IuaW5wdXRNYW5hZ2VyLmZvY3VzZWQ/YS5fc3RhdHVzKCk6dm9pZCAwfX0odGhpcykpfSxjLnByb3RvdHlwZS5pY29uQ2xhc3NPZj1mdW5jdGlvbihhKXtyZXR1cm4gYT8ic2ltZGl0b3ItaWNvbiBzaW1kaXRvci1pY29uLSIrYToiIn0sYy5wcm90b3R5cGUuc2V0SWNvbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbC5maW5kKCJzcGFuIikucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcyh0aGlzLmljb25DbGFzc09mKGEpKS50ZXh0KHRoaXMudGV4dCl9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXI9YSh0aGlzLl90cGwuaXRlbSkuYXBwZW5kVG8odGhpcy5lZGl0b3IudG9vbGJhci5saXN0KSx0aGlzLmVsPXRoaXMud3JhcHBlci5maW5kKCJhLnRvb2xiYXItaXRlbSIpLHRoaXMuZWwuYXR0cigidGl0bGUiLHRoaXMudGl0bGUpLmFkZENsYXNzKCJ0b29sYmFyLWl0ZW0tIit0aGlzLm5hbWUpLmRhdGEoImJ1dHRvbiIsdGhpcyksdGhpcy5zZXRJY29uKHRoaXMuaWNvbiksdGhpcy5tZW51Pyh0aGlzLm1lbnVXcmFwcGVyPWEodGhpcy5fdHBsLm1lbnVXcmFwcGVyKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpLHRoaXMubWVudVdyYXBwZXIuYWRkQ2xhc3MoInRvb2xiYXItbWVudS0iK3RoaXMubmFtZSksdGhpcy5yZW5kZXJNZW51KCkpOnZvaWQgMH0sYy5wcm90b3R5cGUucmVuZGVyTWVudT1mdW5jdGlvbigpe3ZhciBiLGMsZCxlLGYsZyxoLGk7aWYoYS5pc0FycmF5KHRoaXMubWVudSkpe2Zvcih0aGlzLm1lbnVFbD1hKCI8dWwvPiIpLmFwcGVuZFRvKHRoaXMubWVudVdyYXBwZXIpLGc9dGhpcy5tZW51LGk9W10sZD0wLGU9Zy5sZW5ndGg7ZT5kO2QrKylmPWdbZF0sInwiIT09Zj8oYz1hKHRoaXMuX3RwbC5tZW51SXRlbSkuYXBwZW5kVG8odGhpcy5tZW51RWwpLGI9Yy5maW5kKCJhLm1lbnUtaXRlbSIpLmF0dHIoe3RpdGxlOm51bGwhPShoPWYudGl0bGUpP2g6Zi50ZXh0LCJkYXRhLXBhcmFtIjpmLnBhcmFtfSkuYWRkQ2xhc3MoIm1lbnUtaXRlbS0iK2YubmFtZSksZi5pY29uP2kucHVzaChiLmZpbmQoInNwYW4iKS5hZGRDbGFzcyh0aGlzLmljb25DbGFzc09mKGYuaWNvbikpKTppLnB1c2goYi5maW5kKCJzcGFuIikudGV4dChmLnRleHQpKSk6YSh0aGlzLl90cGwuc2VwYXJhdG9yKS5hcHBlbmRUbyh0aGlzLm1lbnVFbCk7cmV0dXJuIGl9fSxjLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT10aGlzLmFjdGl2ZT8odGhpcy5hY3RpdmU9YSx0aGlzLmVsLnRvZ2dsZUNsYXNzKCJhY3RpdmUiLHRoaXMuYWN0aXZlKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5zZXREaXNhYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PXRoaXMuZGlzYWJsZWQ/KHRoaXMuZGlzYWJsZWQ9YSx0aGlzLmVsLnRvZ2dsZUNsYXNzKCJkaXNhYmxlZCIsdGhpcy5kaXNhYmxlZCkpOnZvaWQgMH0sYy5wcm90b3R5cGUuX2Rpc2FibGVTdGF0dXM9ZnVuY3Rpb24oKXt2YXIgYSxiLGM7cmV0dXJuIGM9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnN0YXJ0Tm9kZXMoKSxiPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5lbmROb2RlcygpLGE9Yy5maWx0ZXIodGhpcy5kaXNhYmxlVGFnKS5sZW5ndGg+MHx8Yi5maWx0ZXIodGhpcy5kaXNhYmxlVGFnKS5sZW5ndGg+MCx0aGlzLnNldERpc2FibGVkKGEpLHRoaXMuZGlzYWJsZWQmJnRoaXMuc2V0QWN0aXZlKCExKSx0aGlzLmRpc2FibGVkfSxjLnByb3RvdHlwZS5fYWN0aXZlU3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtyZXR1cm4gZT10aGlzLmVkaXRvci5zZWxlY3Rpb24uc3RhcnROb2RlcygpLGM9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmVuZE5vZGVzKCksZD1lLmZpbHRlcih0aGlzLmh0bWxUYWcpLGI9Yy5maWx0ZXIodGhpcy5odG1sVGFnKSxhPWQubGVuZ3RoPjAmJmIubGVuZ3RoPjAmJmQuaXMoYiksdGhpcy5ub2RlPWE/ZDpudWxsLHRoaXMuc2V0QWN0aXZlKGEpLHRoaXMuYWN0aXZlfSxjLnByb3RvdHlwZS5fc3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVTdGF0dXMoKSx0aGlzLmRpc2FibGVkP3ZvaWQgMDp0aGlzLl9hY3RpdmVTdGF0dXMoKX0sYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbihhKXt9LGMucHJvdG90eXBlLl90PWZ1bmN0aW9uKCl7dmFyIGEsYixkO3JldHVybiBhPTE8PWFyZ3VtZW50cy5sZW5ndGg/UC5jYWxsKGFyZ3VtZW50cywwKTpbXSxkPWMuX19zdXBlcl9fLl90LmFwcGx5KHRoaXMsYSksZHx8KGQ9KGI9dGhpcy5lZGl0b3IpLl90LmFwcGx5KGIsYSkpLGR9LGN9KGIpLEQuQnV0dG9uPWgsQj1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKGEpe3RoaXMuYnV0dG9uPWEuYnV0dG9uLHRoaXMuZWRpdG9yPWEuYnV0dG9uLmVkaXRvcixjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSl9cmV0dXJuIE0oYyxiKSxjLnByb3RvdHlwZS5vZmZzZXQ9e3RvcDo0LGxlZnQ6MH0sYy5wcm90b3R5cGUudGFyZ2V0PW51bGwsYy5wcm90b3R5cGUuYWN0aXZlPSExLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWw9YSgnPGRpdiBjbGFzcz0ic2ltZGl0b3ItcG9wb3ZlciI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lZGl0b3IuZWwpLmRhdGEoInBvcG92ZXIiLHRoaXMpLHRoaXMucmVuZGVyKCksdGhpcy5lbC5vbigibW91c2VlbnRlciIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmVsLmFkZENsYXNzKCJob3ZlciIpfX0odGhpcykpLHRoaXMuZWwub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lbC5yZW1vdmVDbGFzcygiaG92ZXIiKX19KHRoaXMpKX0sYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7fSxjLnByb3RvdHlwZS5faW5pdExhYmVsV2lkdGg9ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj10aGlzLmVsLmZpbmQoIi5zZXR0aW5ncy1maWVsZCIpLGIubGVuZ3RoPjA/KHRoaXMuX2xhYmVsV2lkdGg9MCxiLmVhY2goZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGUsZjtyZXR1cm4gZT1hKGQpLGY9ZS5maW5kKCJsYWJlbCIpLGYubGVuZ3RoPjA/Yi5fbGFiZWxXaWR0aD1NYXRoLm1heChiLl9sYWJlbFdpZHRoLGYud2lkdGgoKSk6dm9pZCAwfX0odGhpcykpLGIuZmluZCgibGFiZWwiKS53aWR0aCh0aGlzLl9sYWJlbFdpZHRoKSk6dm9pZCAwfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGw9PWMmJihjPSJib3R0b20iKSxudWxsIT1iPyh0aGlzLmVsLnNpYmxpbmdzKCIuc2ltZGl0b3ItcG9wb3ZlciIpLmVhY2goZnVuY3Rpb24oYixjKXtyZXR1cm4gYz1hKGMpLmRhdGEoInBvcG92ZXIiKSxjLmFjdGl2ZT9jLmhpZGUoKTp2b2lkIDB9KSx0aGlzLmFjdGl2ZSYmdGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLHRoaXMudGFyZ2V0PWIuYWRkQ2xhc3MoInNlbGVjdGVkIiksdGhpcy5hY3RpdmU/KHRoaXMucmVmcmVzaChjKSx0aGlzLnRyaWdnZXIoInBvcG92ZXJzaG93IikpOih0aGlzLmFjdGl2ZT0hMCx0aGlzLmVsLmNzcyh7bGVmdDotOTk5OX0pLnNob3coKSx0aGlzLl9sYWJlbFdpZHRofHx0aGlzLl9pbml0TGFiZWxXaWR0aCgpLHRoaXMuZWRpdG9yLnV0aWwucmVmbG93KCksdGhpcy5yZWZyZXNoKGMpLHRoaXMudHJpZ2dlcigicG9wb3ZlcnNob3ciKSkpOnZvaWQgMH0sYy5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZT8odGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLHRoaXMudGFyZ2V0PW51bGwsdGhpcy5hY3RpdmU9ITEsdGhpcy5lbC5oaWRlKCksdGhpcy50cmlnZ2VyKCJwb3BvdmVyaGlkZSIpKTp2b2lkIDB9LGMucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnO3JldHVybiBudWxsPT1hJiYoYT0iYm90dG9tIiksdGhpcy5hY3RpdmU/KGI9dGhpcy5lZGl0b3IuZWwub2Zmc2V0KCksZj10aGlzLnRhcmdldC5vZmZzZXQoKSxlPXRoaXMudGFyZ2V0Lm91dGVySGVpZ2h0KCksImJvdHRvbSI9PT1hP2c9Zi50b3AtYi50b3ArZToidG9wIj09PWEmJihnPWYudG9wLWIudG9wLXRoaXMuZWwuaGVpZ2h0KCkpLGQ9dGhpcy5lZGl0b3Iud3JhcHBlci53aWR0aCgpLXRoaXMuZWwub3V0ZXJXaWR0aCgpLTEwLGM9TWF0aC5taW4oZi5sZWZ0LWIubGVmdCxkKSx0aGlzLmVsLmNzcyh7dG9wOmcrdGhpcy5vZmZzZXQudG9wLGxlZnQ6Yyt0aGlzLm9mZnNldC5sZWZ0fSkpOnZvaWQgMH0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldD1udWxsLHRoaXMuYWN0aXZlPSExLHRoaXMuZWRpdG9yLm9mZigiLmxpbmtwb3BvdmVyIiksdGhpcy5lbC5yZW1vdmUoKX0sYy5wcm90b3R5cGUuX3Q9ZnVuY3Rpb24oKXt2YXIgYSxiLGQ7cmV0dXJuIGE9MTw9YXJndW1lbnRzLmxlbmd0aD9QLmNhbGwoYXJndW1lbnRzLDApOltdLGQ9Yy5fX3N1cGVyX18uX3QuYXBwbHkodGhpcyxhKSxkfHwoZD0oYj10aGlzLmJ1dHRvbikuX3QuYXBwbHkoYixhKSksZH0sY30oYiksRC5Qb3BvdmVyPUIsRz1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9InRpdGxlIixjLnByb3RvdHlwZS5odG1sVGFnPSJoMSwgaDIsIGgzLCBoNCwgaDUiLGMucHJvdG90eXBlLmRpc2FibGVUYWc9InByZSwgdGFibGUiLGMucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudT1be25hbWU6Im5vcm1hbCIsdGV4dDp0aGlzLl90KCJub3JtYWxUZXh0IikscGFyYW06InAifSwifCIse25hbWU6ImgxIix0ZXh0OnRoaXMuX3QoInRpdGxlIikrIiAxIixwYXJhbToiaDEifSx7bmFtZToiaDIiLHRleHQ6dGhpcy5fdCgidGl0bGUiKSsiIDIiLHBhcmFtOiJoMiJ9LHtuYW1lOiJoMyIsdGV4dDp0aGlzLl90KCJ0aXRsZSIpKyIgMyIscGFyYW06ImgzIn0se25hbWU6Img0Iix0ZXh0OnRoaXMuX3QoInRpdGxlIikrIiA0IixwYXJhbToiaDQifSx7bmFtZToiaDUiLHRleHQ6dGhpcy5fdCgidGl0bGUiKSsiIDUiLHBhcmFtOiJoNSJ9XSxjLl9fc3VwZXJfXy5faW5pdC5jYWxsKHRoaXMpfSxjLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy5fX3N1cGVyX18uc2V0QWN0aXZlLmNhbGwodGhpcyxhKSxhJiYoYnx8KGI9dGhpcy5ub2RlWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpLHRoaXMuZWwucmVtb3ZlQ2xhc3MoImFjdGl2ZS1wIGFjdGl2ZS1oMSBhY3RpdmUtaDIgYWN0aXZlLWgzIGFjdGl2ZS1oNCBhY3RpdmUtaDUiKSxhP3RoaXMuZWwuYWRkQ2xhc3MoImFjdGl2ZSBhY3RpdmUtIitiKTp2b2lkIDB9LGMucHJvdG90eXBlLmNvbW1hbmQ9ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuIGM9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJvb3ROb2RlcygpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zYXZlKCksYy5lYWNoKGZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBmO3JldHVybiBmPWEoZSksZi5pcygiYmxvY2txdW90ZSIpfHxmLmlzKGIpfHxmLmlzKGMuZGlzYWJsZVRhZyl8fGMuZWRpdG9yLnV0aWwuaXNEZWNvcmF0ZWROb2RlKGYpP3ZvaWQgMDphKCI8IitiKyIvPiIpLmFwcGVuZChmLmNvbnRlbnRzKCkpLnJlcGxhY2VBbGwoZil9fSh0aGlzKSksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJlc3RvcmUoKSx0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKX0sY30oaCksRC5Ub29sYmFyLmFkZEJ1dHRvbihHKSxtPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wcm90b3R5cGUubmFtZT0iZm9udFNjYWxlIixjLnByb3RvdHlwZS5pY29uPSJmb250IixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSJwcmUiLGMucHJvdG90eXBlLmh0bWxUYWc9InNwYW4iLGMucHJvdG90eXBlLnNpemVNYXA9eyJ4LWxhcmdlIjoiMS41ZW0iLGxhcmdlOiIxLjI1ZW0iLHNtYWxsOiIuNzVlbSIsIngtc21hbGwiOiIuNWVtIn0sYy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51PVt7bmFtZToiMTUwJSIsdGV4dDp0aGlzLl90KCJmb250U2NhbGVYTGFyZ2UiKSxwYXJhbToiNSJ9LHtuYW1lOiIxMjUlIix0ZXh0OnRoaXMuX3QoImZvbnRTY2FsZUxhcmdlIikscGFyYW06IjQifSx7bmFtZToiMTAwJSIsdGV4dDp0aGlzLl90KCJmb250U2NhbGVOb3JtYWwiKSxwYXJhbToiMyJ9LHtuYW1lOiI3NSUiLHRleHQ6dGhpcy5fdCgiZm9udFNjYWxlU21hbGwiKSxwYXJhbToiMiJ9LHtuYW1lOiI1MCUiLHRleHQ6dGhpcy5fdCgiZm9udFNjYWxlWFNtYWxsIikscGFyYW06IjEifV0sYy5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKX0sYy5wcm90b3R5cGUuX2FjdGl2ZVN0YXR1cz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZjtyZXR1cm4gZD10aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSxmPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zdGFydE5vZGVzKCksYz10aGlzLmVkaXRvci5zZWxlY3Rpb24uZW5kTm9kZXMoKSxlPWYuZmlsdGVyKCdzcGFuW3N0eWxlKj0iZm9udC1zaXplIl0nKSxiPWMuZmlsdGVyKCdzcGFuW3N0eWxlKj0iZm9udC1zaXplIl0nKSxhPWYubGVuZ3RoPjAmJmMubGVuZ3RoPjAmJmUuaXMoYiksdGhpcy5zZXRBY3RpdmUoYSksdGhpcy5hY3RpdmV9LGMucHJvdG90eXBlLmNvbW1hbmQ9ZnVuY3Rpb24oYil7dmFyIGMsZCxlO3JldHVybiBlPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZSgpLGUuY29sbGFwc2VkP3ZvaWQgMDooZG9jdW1lbnQuZXhlY0NvbW1hbmQoInN0eWxlV2l0aENTUyIsITEsITApLGRvY3VtZW50LmV4ZWNDb21tYW5kKCJmb250U2l6ZSIsITEsYiksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInN0eWxlV2l0aENTUyIsITEsITEpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yZXNldCgpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZSgpLGQ9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmNvbnRhaW5lck5vZGUoKSxjPWRbMF0ubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT9kLmNsb3Nlc3QoJ3NwYW5bc3R5bGUqPSJmb250LXNpemUiXScpOmQuZmluZCgnc3BhbltzdHlsZSo9ImZvbnQtc2l6ZSJdJyksYy5lYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlLGY7cmV0dXJuIGU9YShkKSxmPWQuc3R5bGUuZm9udFNpemUsL2xhcmdlfHgtbGFyZ2V8c21hbGx8eC1zbWFsbC8udGVzdChmKT9lLmNzcygiZm9udFNpemUiLGIuc2l6ZU1hcFtmXSk6Im1lZGl1bSI9PT1mP2UucmVwbGFjZVdpdGgoZS5jb250ZW50cygpKTp2b2lkIDB9fSh0aGlzKSksdGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIikpfSxjfShoKSxELlRvb2xiYXIuYWRkQnV0dG9uKG0pLGc9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYyxiKSxjLnByb3RvdHlwZS5uYW1lPSJib2xkIixjLnByb3RvdHlwZS5pY29uPSJib2xkIixjLnByb3RvdHlwZS5odG1sVGFnPSJiLCBzdHJvbmciLGMucHJvdG90eXBlLmRpc2FibGVUYWc9InByZSIsYy5wcm90b3R5cGUuc2hvcnRjdXQ9ImNtZCtiIixjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51dGlsLm9zLm1hYz90aGlzLnRpdGxlPXRoaXMudGl0bGUrIiAoIENtZCArIGIgKSI6KHRoaXMudGl0bGU9dGhpcy50aXRsZSsiICggQ3RybCArIGIgKSIsdGhpcy5zaG9ydGN1dD0iY3RybCtiIiksYy5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKX0sYy5wcm90b3R5cGUuX2FjdGl2ZVN0YXR1cz1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKCJib2xkIik9PT0hMCx0aGlzLnNldEFjdGl2ZShhKSx0aGlzLmFjdGl2ZX0sYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCgiYm9sZCIpLHRoaXMuZWRpdG9yLnV0aWwuc3VwcG9ydC5vbmlucHV0fHx0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKSxhKGRvY3VtZW50KS50cmlnZ2VyKCJzZWxlY3Rpb25jaGFuZ2UiKX0sY30oaCksRC5Ub29sYmFyLmFkZEJ1dHRvbihnKSx1PWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wcm90b3R5cGUubmFtZT0iaXRhbGljIixjLnByb3RvdHlwZS5pY29uPSJpdGFsaWMiLGMucHJvdG90eXBlLmh0bWxUYWc9ImkiLGMucHJvdG90eXBlLmRpc2FibGVUYWc9InByZSIsYy5wcm90b3R5cGUuc2hvcnRjdXQ9ImNtZCtpIixjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51dGlsLm9zLm1hYz90aGlzLnRpdGxlPXRoaXMudGl0bGUrIiAoIENtZCArIGkgKSI6KHRoaXMudGl0bGU9dGhpcy50aXRsZSsiICggQ3RybCArIGkgKSIsdGhpcy5zaG9ydGN1dD0iY3RybCtpIiksYy5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKX0sYy5wcm90b3R5cGUuX2FjdGl2ZVN0YXR1cz1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKCJpdGFsaWMiKT09PSEwLHRoaXMuc2V0QWN0aXZlKGEpLHRoaXMuYWN0aXZlfSxjLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJpdGFsaWMiKSx0aGlzLmVkaXRvci51dGlsLnN1cHBvcnQub25pbnB1dHx8dGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIiksYShkb2N1bWVudCkudHJpZ2dlcigic2VsZWN0aW9uY2hhbmdlIil9LGN9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24odSksST1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9InVuZGVybGluZSIsYy5wcm90b3R5cGUuaWNvbj0idW5kZXJsaW5lIixjLnByb3RvdHlwZS5odG1sVGFnPSJ1IixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSJwcmUiLGMucHJvdG90eXBlLnNob3J0Y3V0PSJjbWQrdSIsYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnV0aWwub3MubWFjP3RoaXMudGl0bGU9dGhpcy50aXRsZSsiICggQ21kICsgdSApIjoodGhpcy50aXRsZT10aGlzLnRpdGxlKyIgKCBDdHJsICsgdSApIix0aGlzLnNob3J0Y3V0PSJjdHJsK3UiKSxjLl9fc3VwZXJfXy5yZW5kZXIuY2FsbCh0aGlzKX0sYy5wcm90b3R5cGUuX2FjdGl2ZVN0YXR1cz1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKCJ1bmRlcmxpbmUiKT09PSEwLHRoaXMuc2V0QWN0aXZlKGEpLHRoaXMuYWN0aXZlfSxjLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmRlcmxpbmUiKSx0aGlzLmVkaXRvci51dGlsLnN1cHBvcnQub25pbnB1dHx8dGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIiksYShkb2N1bWVudCkudHJpZ2dlcigic2VsZWN0aW9uY2hhbmdlIil9LGN9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24oSSksbD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9ImNvbG9yIixjLnByb3RvdHlwZS5pY29uPSJ0aW50IixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSJwcmUiLGMucHJvdG90eXBlLm1lbnU9ITAsYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGE9MTw9YXJndW1lbnRzLmxlbmd0aD9QLmNhbGwoYXJndW1lbnRzLDApOltdLGMuX19zdXBlcl9fLnJlbmRlci5hcHBseSh0aGlzLGEpfSxjLnByb3RvdHlwZS5yZW5kZXJNZW51PWZ1bmN0aW9uKCl7cmV0dXJuIGEoJzx1bCBjbGFzcz0iY29sb3ItbGlzdCI+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItMSI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItMiI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItMyI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItNCI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItNSI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItNiI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItNyI+PC9hPjwvbGk+XG4gIDxsaT48YSBocmVmPSJqYXZhc2NyaXB0OjsiIGNsYXNzPSJmb250LWNvbG9yIGZvbnQtY29sb3ItZGVmYXVsdCI+PC9hPjwvbGk+XG48L3VsPicpLmFwcGVuZFRvKHRoaXMubWVudVdyYXBwZXIpLHRoaXMubWVudVdyYXBwZXIub24oIm1vdXNlZG93biIsIi5jb2xvci1saXN0IixmdW5jdGlvbihhKXtyZXR1cm4hMX0pLHRoaXMubWVudVdyYXBwZXIub24oImNsaWNrIiwiLmZvbnQtY29sb3IiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGk7aWYoYi53cmFwcGVyLnJlbW92ZUNsYXNzKCJtZW51LW9uIiksZD1hKGMuY3VycmVudFRhcmdldCksZC5oYXNDbGFzcygiZm9udC1jb2xvci1kZWZhdWx0Iikpe2lmKGU9Yi5lZGl0b3IuYm9keS5maW5kKCJwLCBsaSIpLCEoZS5sZW5ndGg+MCkpcmV0dXJuO2g9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZVswXSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCJjb2xvciIpLGY9Yi5fY29udmVydFJnYlRvSGV4KGgpfWVsc2UgaD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkWzBdLG51bGwpLmdldFByb3BlcnR5VmFsdWUoImJhY2tncm91bmQtY29sb3IiKSxmPWIuX2NvbnZlcnRSZ2JUb0hleChoKTtyZXR1cm4gZj8oZz1iLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSwhZC5oYXNDbGFzcygiZm9udC1jb2xvci1kZWZhdWx0IikmJmcuY29sbGFwc2VkJiYoaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiLl90KCJjb2xvcmVkVGV4dCIpKSxnLmluc2VydE5vZGUoaSksZy5zZWxlY3ROb2RlQ29udGVudHMoaSksYi5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlKGcpKSxkb2N1bWVudC5leGVjQ29tbWFuZCgic3R5bGVXaXRoQ1NTIiwhMSwhMCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvcmVDb2xvciIsITEsZiksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInN0eWxlV2l0aENTUyIsITEsITEpLGIuZWRpdG9yLnV0aWwuc3VwcG9ydC5vbmlucHV0P3ZvaWQgMDpiLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKSk6dm9pZCAwfX0odGhpcykpfSxjLnByb3RvdHlwZS5fY29udmVydFJnYlRvSGV4PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtyZXR1cm4gYz0vcmdiXCgoXGQrKSxccz8oXGQrKSxccz8oXGQrKVwpL2csKGI9Yy5leGVjKGEpKT8oZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGQ9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9YS50b1N0cmluZygxNiksMT09PWIubGVuZ3RoPyIwIitiOmJ9LCIjIitkKGEpK2QoYikrZChjKX0pKDEqYlsxXSwxKmJbMl0sMSpiWzNdKToiIn0sY30oaCksRC5Ub29sYmFyLmFkZEJ1dHRvbihsKSx5PWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wcm90b3R5cGUudHlwZT0iIixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSJwcmUsIHRhYmxlIixjLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtyZXR1cm4gZD10aGlzLmVkaXRvci5zZWxlY3Rpb24uYmxvY2tOb2RlcygpLGU9InVsIj09PXRoaXMudHlwZT8ib2wiOiJ1bCIsdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNhdmUoKSxjPW51bGwsZC5lYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihkLGYpewp2YXIgZztyZXR1cm4gZz1hKGYpLGcuaXMoImJsb2NrcXVvdGUsIGxpIil8fGcuaXMoYi5kaXNhYmxlVGFnKXx8Yi5lZGl0b3IudXRpbC5pc0RlY29yYXRlZE5vZGUoZyl8fCFhLmNvbnRhaW5zKGRvY3VtZW50LGYpP3ZvaWQgMDpnLmlzKGIudHlwZSk/KGcuY2hpbGRyZW4oImxpIikuZWFjaChmdW5jdGlvbihjLGQpe3ZhciBlLGY7cmV0dXJuIGY9YShkKSxlPWYuY2hpbGRyZW4oInVsLCBvbCIpLmluc2VydEFmdGVyKGcpLGEoIjxwLz4iKS5hcHBlbmQoYShkKS5odG1sKCl8fGIuZWRpdG9yLnV0aWwucGhCcikuaW5zZXJ0QmVmb3JlKGcpfSksZy5yZW1vdmUoKSk6Zy5pcyhlKT9hKCI8IitiLnR5cGUrIi8+IikuYXBwZW5kKGcuY29udGVudHMoKSkucmVwbGFjZUFsbChnKTpjJiZnLnByZXYoKS5pcyhjKT8oYSgiPGxpLz4iKS5hcHBlbmQoZy5odG1sKCl8fGIuZWRpdG9yLnV0aWwucGhCcikuYXBwZW5kVG8oYyksZy5yZW1vdmUoKSk6KGM9YSgiPCIrYi50eXBlKyI+PGxpPjwvbGk+PC8iK2IudHlwZSsiPiIpLGMuZmluZCgibGkiKS5hcHBlbmQoZy5odG1sKCl8fGIuZWRpdG9yLnV0aWwucGhCciksYy5yZXBsYWNlQWxsKGcpKX19KHRoaXMpKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZSgpLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpfSxjfShoKSx6PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gYi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGIsYSksYi5wcm90b3R5cGUudHlwZT0ib2wiLGIucHJvdG90eXBlLm5hbWU9Im9sIixiLnByb3RvdHlwZS5pY29uPSJsaXN0LW9sIixiLnByb3RvdHlwZS5odG1sVGFnPSJvbCIsYi5wcm90b3R5cGUuc2hvcnRjdXQ9ImNtZCsvIixiLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci51dGlsLm9zLm1hYz90aGlzLnRpdGxlPXRoaXMudGl0bGUrIiAoIENtZCArIC8gKSI6KHRoaXMudGl0bGU9dGhpcy50aXRsZSsiICggY3RybCArIC8gKSIsdGhpcy5zaG9ydGN1dD0iY3RybCsvIiksYi5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKX0sYn0oeSksSz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuIGIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShiLGEpLGIucHJvdG90eXBlLnR5cGU9InVsIixiLnByb3RvdHlwZS5uYW1lPSJ1bCIsYi5wcm90b3R5cGUuaWNvbj0ibGlzdC11bCIsYi5wcm90b3R5cGUuaHRtbFRhZz0idWwiLGIucHJvdG90eXBlLnNob3J0Y3V0PSJjbWQrLiIsYi5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IudXRpbC5vcy5tYWM/dGhpcy50aXRsZT10aGlzLnRpdGxlKyIgKCBDbWQgKyAuICkiOih0aGlzLnRpdGxlPXRoaXMudGl0bGUrIiAoIEN0cmwgKyAuICkiLHRoaXMuc2hvcnRjdXQ9ImN0cmwrLiIpLGIuX19zdXBlcl9fLl9pbml0LmNhbGwodGhpcyl9LGJ9KHkpLEQuVG9vbGJhci5hZGRCdXR0b24oeiksRC5Ub29sYmFyLmFkZEJ1dHRvbihLKSxmPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wcm90b3R5cGUubmFtZT0iYmxvY2txdW90ZSIsYy5wcm90b3R5cGUuaWNvbj0icXVvdGUtbGVmdCIsYy5wcm90b3R5cGUuaHRtbFRhZz0iYmxvY2txdW90ZSIsYy5wcm90b3R5cGUuZGlzYWJsZVRhZz0icHJlLCB0YWJsZSIsYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbigpe3ZhciBiLGMsZDtyZXR1cm4gYj10aGlzLmVkaXRvci5zZWxlY3Rpb24ucm9vdE5vZGVzKCksYj1iLmZpbHRlcihmdW5jdGlvbihiLGMpe3JldHVybiFhKGMpLnBhcmVudCgpLmlzKCJibG9ja3F1b3RlIil9KSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2F2ZSgpLGQ9W10sYz1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGg+MD8oYSgiPCIrYi5odG1sVGFnKyIvPiIpLmluc2VydEJlZm9yZShkWzBdKS5hcHBlbmQoZCksZC5sZW5ndGg9MCk6dm9pZCAwfX0odGhpcyksYi5lYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihlLGYpe3ZhciBnO3JldHVybiBnPWEoZiksZy5wYXJlbnQoKS5pcyhiLmVkaXRvci5ib2R5KT9nLmlzKGIuaHRtbFRhZyk/KGMoKSxnLmNoaWxkcmVuKCkudW53cmFwKCkpOmcuaXMoYi5kaXNhYmxlVGFnKXx8Yi5lZGl0b3IudXRpbC5pc0RlY29yYXRlZE5vZGUoZyk/YygpOmQucHVzaChmKTp2b2lkIDB9fSh0aGlzKSksYygpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlKCksdGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIil9LGN9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24oZiksaj1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9ImNvZGUiLGMucHJvdG90eXBlLmljb249ImNvZGUiLGMucHJvdG90eXBlLmh0bWxUYWc9InByZSIsYy5wcm90b3R5cGUuZGlzYWJsZVRhZz0idWwsIG9sLCB0YWJsZSIsYy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKSx0aGlzLmVkaXRvci5vbigiZGVjb3JhdGUiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVybiBkLmZpbmQoInByZSIpLmVhY2goZnVuY3Rpb24oYyxkKXtyZXR1cm4gYi5kZWNvcmF0ZShhKGQpKX0pfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJ1bmRlY29yYXRlIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4gZC5maW5kKCJwcmUiKS5lYWNoKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIudW5kZWNvcmF0ZShhKGQpKX0pfX0odGhpcykpfSxjLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gYT0xPD1hcmd1bWVudHMubGVuZ3RoP1AuY2FsbChhcmd1bWVudHMsMCk6W10sYy5fX3N1cGVyX18ucmVuZGVyLmFwcGx5KHRoaXMsYSksdGhpcy5wb3BvdmVyPW5ldyBrKHtidXR0b246dGhpc30pfSxjLnByb3RvdHlwZS5fY2hlY2tNb2RlPWZ1bmN0aW9uKCl7dmFyIGIsYztyZXR1cm4gYz10aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSwoYj1hKGMuY2xvbmVDb250ZW50cygpKS5maW5kKHRoaXMuZWRpdG9yLnV0aWwuYmxvY2tOb2Rlcy5qb2luKCIsIikpKT4wfHxjLmNvbGxhcHNlZCYmMD09PXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zdGFydE5vZGVzKCkuZmlsdGVyKCJjb2RlIikubGVuZ3RoPyh0aGlzLmlubGluZU1vZGU9ITEsdGhpcy5odG1sVGFnPSJwcmUiKToodGhpcy5pbmxpbmVNb2RlPSEwLHRoaXMuaHRtbFRhZz0iY29kZSIpfSxjLnByb3RvdHlwZS5fc3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrTW9kZSgpLGMuX19zdXBlcl9fLl9zdGF0dXMuY2FsbCh0aGlzKSx0aGlzLmlubGluZU1vZGU/dm9pZCAwOnRoaXMuYWN0aXZlP3RoaXMucG9wb3Zlci5zaG93KHRoaXMubm9kZSk6dGhpcy5wb3BvdmVyLmhpZGUoKX0sYy5wcm90b3R5cGUuZGVjb3JhdGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7cmV0dXJuIGI9YS5maW5kKCI+IGNvZGUiKSxiLmxlbmd0aD4wJiYoYz1udWxsIT0oZD1iLmF0dHIoImNsYXNzIikpJiZudWxsIT0oZT1kLm1hdGNoKC9sYW5nLShcUyspLykpP2VbMV06dm9pZCAwLGIuY29udGVudHMoKS51bndyYXAoKSxjKT9hLmF0dHIoImRhdGEtbGFuZyIsYyk6dm9pZCAwfSxjLnByb3RvdHlwZS51bmRlY29yYXRlPWZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGQ9Yi5hdHRyKCJkYXRhLWxhbmciKSxjPWEoIjxjb2RlLz4iKSxkJiYtMSE9PWQmJmMuYWRkQ2xhc3MoImxhbmctIitkKSxiLndyYXBJbm5lcihjKS5yZW1vdmVBdHRyKCJkYXRhLWxhbmciKX0sYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlubGluZU1vZGU/dGhpcy5faW5saW5lQ29tbWFuZCgpOnRoaXMuX2Jsb2NrQ29tbWFuZCgpfSxjLnByb3RvdHlwZS5fYmxvY2tDb21tYW5kPWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGU7cmV0dXJuIGI9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJvb3ROb2RlcygpLGQ9W10sZT1bXSxjPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjO2lmKGQubGVuZ3RoPjApcmV0dXJuIGM9YSgiPCIrYi5odG1sVGFnKyIvPiIpLmluc2VydEJlZm9yZShkWzBdKS50ZXh0KGIuZWRpdG9yLmZvcm1hdHRlci5jbGVhckh0bWwoZCkpLGUucHVzaChjWzBdKSxkLmxlbmd0aD0wfX0odGhpcyksYi5lYWNoKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihmLGcpe3ZhciBoLGk7cmV0dXJuIGg9YShnKSxoLmlzKGIuaHRtbFRhZyk/KGMoKSxpPWEoIjxwLz4iKS5hcHBlbmQoaC5odG1sKCkucmVwbGFjZSgiXG4iLCI8YnIvPiIpKS5yZXBsYWNlQWxsKGgpLGUucHVzaChpWzBdKSk6aC5pcyhiLmRpc2FibGVUYWcpfHxiLmVkaXRvci51dGlsLmlzRGVjb3JhdGVkTm9kZShoKXx8aC5pcygiYmxvY2txdW90ZSIpP2MoKTpkLnB1c2goZyl9fSh0aGlzKSksYygpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0RW5kT2YoYShlKS5sYXN0KCkpLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpfSxjLnByb3RvdHlwZS5faW5saW5lQ29tbWFuZD1mdW5jdGlvbigpe3ZhciBiLGMsZDtyZXR1cm4gZD10aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSx0aGlzLmFjdGl2ZT8oZC5zZWxlY3ROb2RlQ29udGVudHModGhpcy5ub2RlWzBdKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2F2ZShkKSx0aGlzLm5vZGUuY29udGVudHMoKS51bndyYXAoKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmVzdG9yZSgpKTooYz1hKGQuZXh0cmFjdENvbnRlbnRzKCkpLGI9YSgiPCIrdGhpcy5odG1sVGFnKyIvPiIpLmFwcGVuZChjLmNvbnRlbnRzKCkpLGQuaW5zZXJ0Tm9kZShiWzBdKSxkLnNlbGVjdE5vZGVDb250ZW50cyhiWzBdKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoZCkpLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpfSxjfShoKSxrPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gYy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGMsYiksYy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZjtmb3IodGhpcy5fdHBsPSc8ZGl2IGNsYXNzPSJjb2RlLXNldHRpbmdzIj5cbiAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZmllbGQiPlxuICAgIDxzZWxlY3QgY2xhc3M9InNlbGVjdC1sYW5nIj5cbiAgICAgIDxvcHRpb24gdmFsdWU9Ii0xIj4nK3RoaXMuX3QoInNlbGVjdExhbmd1YWdlIikrIjwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICA8L2Rpdj5cbjwvZGl2PiIsdGhpcy5sYW5ncz10aGlzLmVkaXRvci5vcHRzLmNvZGVMYW5ndWFnZXN8fFt7bmFtZToiQmFzaCIsdmFsdWU6ImJhc2gifSx7bmFtZToiQysrIix2YWx1ZToiYysrIn0se25hbWU6IkMjIix2YWx1ZToiY3MifSx7bmFtZToiQ1NTIix2YWx1ZToiY3NzIn0se25hbWU6IkVybGFuZyIsdmFsdWU6ImVybGFuZyJ9LHtuYW1lOiJMZXNzIix2YWx1ZToibGVzcyJ9LHtuYW1lOiJTYXNzIix2YWx1ZToic2FzcyJ9LHtuYW1lOiJEaWZmIix2YWx1ZToiZGlmZiJ9LHtuYW1lOiJDb2ZmZWVTY3JpcHQiLHZhbHVlOiJjb2ZmZWVzY3JpcHQifSx7bmFtZToiSFRNTCxYTUwiLHZhbHVlOiJodG1sIn0se25hbWU6IkpTT04iLHZhbHVlOiJqc29uIn0se25hbWU6IkphdmEiLHZhbHVlOiJqYXZhIn0se25hbWU6IkphdmFTY3JpcHQiLHZhbHVlOiJqcyJ9LHtuYW1lOiJNYXJrZG93biIsdmFsdWU6Im1hcmtkb3duIn0se25hbWU6Ik9iamVjdGl2ZSBDIix2YWx1ZToib2MifSx7bmFtZToiUEhQIix2YWx1ZToicGhwIn0se25hbWU6IlBlcmwiLHZhbHVlOiJwYXJsIn0se25hbWU6IlB5dGhvbiIsdmFsdWU6InB5dGhvbiJ9LHtuYW1lOiJSdWJ5Iix2YWx1ZToicnVieSJ9LHtuYW1lOiJTUUwiLHZhbHVlOiJzcWwifV0sdGhpcy5lbC5hZGRDbGFzcygiY29kZS1wb3BvdmVyIikuYXBwZW5kKHRoaXMuX3RwbCksdGhpcy5zZWxlY3RFbD10aGlzLmVsLmZpbmQoIi5zZWxlY3QtbGFuZyIpLGY9dGhpcy5sYW5ncyxjPTAsZT1mLmxlbmd0aDtlPmM7YysrKWQ9ZltjXSxiPWEoIjxvcHRpb24vPiIse3RleHQ6ZC5uYW1lLHZhbHVlOmQudmFsdWV9KS5hcHBlbmRUbyh0aGlzLnNlbGVjdEVsKTtyZXR1cm4gdGhpcy5zZWxlY3RFbC5vbigiY2hhbmdlIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuIGEubGFuZz1hLnNlbGVjdEVsLnZhbCgpLGM9YS50YXJnZXQuaGFzQ2xhc3MoInNlbGVjdGVkIiksYS50YXJnZXQucmVtb3ZlQ2xhc3MoKS5yZW1vdmVBdHRyKCJkYXRhLWxhbmciKSwtMSE9PWEubGFuZyYmYS50YXJnZXQuYXR0cigiZGF0YS1sYW5nIixhLmxhbmcpLGMmJmEudGFyZ2V0LmFkZENsYXNzKCJzZWxlY3RlZCIpLGEuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJ2YWx1ZWNoYW5nZWQiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hY3RpdmU/YS5yZWZyZXNoKCk6dm9pZCAwfX0odGhpcykpfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGE9MTw9YXJndW1lbnRzLmxlbmd0aD9QLmNhbGwoYXJndW1lbnRzLDApOltdLGMuX19zdXBlcl9fLnNob3cuYXBwbHkodGhpcyxhKSx0aGlzLmxhbmc9dGhpcy50YXJnZXQuYXR0cigiZGF0YS1sYW5nIiksbnVsbCE9dGhpcy5sYW5nP3RoaXMuc2VsZWN0RWwudmFsKHRoaXMubGFuZyk6dGhpcy5zZWxlY3RFbC52YWwoLTEpfSxjfShCKSxELlRvb2xiYXIuYWRkQnV0dG9uKGopLHc9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYyxiKSxjLnByb3RvdHlwZS5uYW1lPSJsaW5rIixjLnByb3RvdHlwZS5pY29uPSJsaW5rIixjLnByb3RvdHlwZS5odG1sVGFnPSJhIixjLnByb3RvdHlwZS5kaXNhYmxlVGFnPSJwcmUiLGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPTE8PWFyZ3VtZW50cy5sZW5ndGg/UC5jYWxsKGFyZ3VtZW50cywwKTpbXSxjLl9fc3VwZXJfXy5yZW5kZXIuYXBwbHkodGhpcyxhKSx0aGlzLnBvcG92ZXI9bmV3IHgoe2J1dHRvbjp0aGlzfSl9LGMucHJvdG90eXBlLl9zdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5fX3N1cGVyX18uX3N0YXR1cy5jYWxsKHRoaXMpLHRoaXMuYWN0aXZlJiYhdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnJhbmdlQXRFbmRPZih0aGlzLm5vZGUpP3RoaXMucG9wb3Zlci5zaG93KHRoaXMubm9kZSk6dGhpcy5wb3BvdmVyLmhpZGUoKX0sYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbigpe3ZhciBiLGMsZCxlLGYsZztyZXR1cm4gZj10aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSx0aGlzLmFjdGl2ZT8oZz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm5vZGUudGV4dCgpKSx0aGlzLm5vZGUucmVwbGFjZVdpdGgoZyksZi5zZWxlY3ROb2RlKGcpKTooYj1hKGYuZXh0cmFjdENvbnRlbnRzKCkpLGU9dGhpcy5lZGl0b3IuZm9ybWF0dGVyLmNsZWFySHRtbChiLmNvbnRlbnRzKCksITEpLGM9YSgiPGEvPiIse2hyZWY6Imh0dHA6Ly93d3cuZXhhbXBsZS5jb20iLHRhcmdldDoiX2JsYW5rIix0ZXh0OmV8fHRoaXMuX3QoImxpbmtUZXh0Iil9KSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uYmxvY2tOb2RlcygpLmxlbmd0aD4wP2YuaW5zZXJ0Tm9kZShjWzBdKTooZD1hKCI8cC8+IikuYXBwZW5kKGMpLGYuaW5zZXJ0Tm9kZShkWzBdKSksZi5zZWxlY3ROb2RlQ29udGVudHMoY1swXSksdGhpcy5wb3BvdmVyLm9uZSgicG9wb3ZlcnNob3ciLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlPyhhLnBvcG92ZXIudXJsRWwuZm9jdXMoKSxhLnBvcG92ZXIudXJsRWxbMF0uc2VsZWN0KCkpOihhLnBvcG92ZXIudGV4dEVsLmZvY3VzKCksYS5wb3BvdmVyLnRleHRFbFswXS5zZWxlY3QoKSl9fSh0aGlzKSkpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZShmKSx0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKX0sY30oaCkseD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPSc8ZGl2IGNsYXNzPSJsaW5rLXNldHRpbmdzIj5cbiAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZmllbGQiPlxuICAgIDxsYWJlbD4nK3RoaXMuX3QoImxpbmtUZXh0IikrJzwvbGFiZWw+XG4gICAgPGlucHV0IGNsYXNzPSJsaW5rLXRleHQiIHR5cGU9InRleHQiLz5cbiAgICA8YSBjbGFzcz0iYnRuLXVubGluayIgaHJlZj0iamF2YXNjcmlwdDo7IiB0aXRsZT0iJyt0aGlzLl90KCJyZW1vdmVMaW5rIikrJyJcbiAgICAgIHRhYmluZGV4PSItMSI+XG4gICAgICA8c3BhbiBjbGFzcz0ic2ltZGl0b3ItaWNvbiBzaW1kaXRvci1pY29uLXVubGluayI+PC9zcGFuPlxuICAgIDwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9InNldHRpbmdzLWZpZWxkIj5cbiAgICA8bGFiZWw+Jyt0aGlzLl90KCJsaW5rVXJsIikrJzwvbGFiZWw+XG4gICAgPGlucHV0IGNsYXNzPSJsaW5rLXVybCIgdHlwZT0idGV4dCIvPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZmllbGQiPlxuICAgIDxsYWJlbD4nK3RoaXMuX3QoImxpbmtUYXJnZXQiKSsnPC9sYWJlbD5cbiAgICA8c2VsZWN0IGNsYXNzPSJsaW5rLXRhcmdldCI+XG4gICAgICA8b3B0aW9uIHZhbHVlPSJfYmxhbmsiPicrdGhpcy5fdCgib3BlbkxpbmtJbk5ld1dpbmRvdyIpKycgKF9ibGFuayk8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gdmFsdWU9Il9zZWxmIj4nK3RoaXMuX3QoIm9wZW5MaW5rSW5DdXJyZW50V2luZG93IikrIiAoX3NlbGYpPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gIDwvZGl2PlxuPC9kaXY+Iix0aGlzLmVsLmFkZENsYXNzKCJsaW5rLXBvcG92ZXIiKS5hcHBlbmQoYiksdGhpcy50ZXh0RWw9dGhpcy5lbC5maW5kKCIubGluay10ZXh0IiksdGhpcy51cmxFbD10aGlzLmVsLmZpbmQoIi5saW5rLXVybCIpLHRoaXMudW5saW5rRWw9dGhpcy5lbC5maW5kKCIuYnRuLXVubGluayIpLHRoaXMuc2VsZWN0VGFyZ2V0PXRoaXMuZWwuZmluZCgiLmxpbmstdGFyZ2V0IiksdGhpcy50ZXh0RWwub24oImtleXVwIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIDEzIT09Yi53aGljaD8oYS50YXJnZXQudGV4dChhLnRleHRFbC52YWwoKSksYS5lZGl0b3IuaW5wdXRNYW5hZ2VyLnRocm90dGxlZFZhbHVlQ2hhbmdlZCgpKTp2b2lkIDB9fSh0aGlzKSksdGhpcy51cmxFbC5vbigia2V5dXAiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztpZigxMyE9PWIud2hpY2gpcmV0dXJuIGM9YS51cmxFbC52YWwoKSwhL2h0dHBzPzpcL1wvfF5cLy9naS50ZXN0KGMpJiZjJiYoYz0iaHR0cDovLyIrYyksYS50YXJnZXQuYXR0cigiaHJlZiIsYyksYS5lZGl0b3IuaW5wdXRNYW5hZ2VyLnRocm90dGxlZFZhbHVlQ2hhbmdlZCgpfX0odGhpcykpLGEoW3RoaXMudXJsRWxbMF0sdGhpcy50ZXh0RWxbMF1dKS5vbigia2V5ZG93biIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkO3JldHVybiAxMz09PWMud2hpY2h8fDI3PT09Yy53aGljaHx8IWMuc2hpZnRLZXkmJjk9PT1jLndoaWNoJiZhKGMudGFyZ2V0KS5oYXNDbGFzcygibGluay11cmwiKT8oYy5wcmV2ZW50RGVmYXVsdCgpLGQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxiLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBZnRlcihiLnRhcmdldCxkKSxiLmhpZGUoKSxiLmVkaXRvci5pbnB1dE1hbmFnZXIudGhyb3R0bGVkVmFsdWVDaGFuZ2VkKCkpOnZvaWQgMH19KHRoaXMpKSx0aGlzLnVubGlua0VsLm9uKCJjbGljayIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYS50YXJnZXQudGV4dCgpKSxhLnRhcmdldC5yZXBsYWNlV2l0aChkKSxhLmhpZGUoKSxjPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCksYS5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQWZ0ZXIoZCxjKSxhLmVkaXRvci5pbnB1dE1hbmFnZXIudGhyb3R0bGVkVmFsdWVDaGFuZ2VkKCl9fSh0aGlzKSksdGhpcy5zZWxlY3RUYXJnZXQub24oImNoYW5nZSIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLnRhcmdldC5hdHRyKCJ0YXJnZXQiLGEuc2VsZWN0VGFyZ2V0LnZhbCgpKSxhLmVkaXRvci5pbnB1dE1hbmFnZXIudGhyb3R0bGVkVmFsdWVDaGFuZ2VkKCl9fSh0aGlzKSl9LGMucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gYT0xPD1hcmd1bWVudHMubGVuZ3RoP1AuY2FsbChhcmd1bWVudHMsMCk6W10sYy5fX3N1cGVyX18uc2hvdy5hcHBseSh0aGlzLGEpLHRoaXMudGV4dEVsLnZhbCh0aGlzLnRhcmdldC50ZXh0KCkpLHRoaXMudXJsRWwudmFsKHRoaXMudGFyZ2V0LmF0dHIoImhyZWYiKSl9LGN9KEIpLEQuVG9vbGJhci5hZGRCdXR0b24odykscD1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9ImltYWdlIixjLnByb3RvdHlwZS5pY29uPSJwaWN0dXJlLW8iLGMucHJvdG90eXBlLmh0bWxUYWc9ImltZyIsYy5wcm90b3R5cGUuZGlzYWJsZVRhZz0icHJlLCB0YWJsZSIsYy5wcm90b3R5cGUuZGVmYXVsdEltYWdlPSIiLGMucHJvdG90eXBlLm5lZWRGb2N1cz0hMSxjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3ZhciBiLGQsZSxmO2lmKHRoaXMuZWRpdG9yLm9wdHMuaW1hZ2VCdXR0b24paWYoQXJyYXkuaXNBcnJheSh0aGlzLmVkaXRvci5vcHRzLmltYWdlQnV0dG9uKSlmb3IodGhpcy5tZW51PVtdLGY9dGhpcy5lZGl0b3Iub3B0cy5pbWFnZUJ1dHRvbixkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKWI9ZltkXSx0aGlzLm1lbnUucHVzaCh7bmFtZTpiKyItaW1hZ2UiLHRleHQ6dGhpcy5fdChiKyJJbWFnZSIpfSk7ZWxzZSB0aGlzLm1lbnU9ITE7ZWxzZSBudWxsIT10aGlzLmVkaXRvci51cGxvYWRlcj90aGlzLm1lbnU9W3tuYW1lOiJ1cGxvYWQtaW1hZ2UiLHRleHQ6dGhpcy5fdCgidXBsb2FkSW1hZ2UiKX0se25hbWU6ImV4dGVybmFsLWltYWdlIix0ZXh0OnRoaXMuX3QoImV4dGVybmFsSW1hZ2UiKX1dOnRoaXMubWVudT0hMTtyZXR1cm4gdGhpcy5kZWZhdWx0SW1hZ2U9dGhpcy5lZGl0b3Iub3B0cy5kZWZhdWx0SW1hZ2UsdGhpcy5lZGl0b3IuYm9keS5vbigiY2xpY2siLCJpbWc6bm90KFtkYXRhLW5vbi1pbWFnZV0pIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQsZTtyZXR1cm4gZD1hKGMuY3VycmVudFRhcmdldCksZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGUuc2VsZWN0Tm9kZShkWzBdKSxiLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoZSksYi5lZGl0b3IudXRpbC5zdXBwb3J0Lm9uc2VsZWN0aW9uY2hhbmdlfHxiLmVkaXRvci50cmlnZ2VyKCJzZWxlY3Rpb25jaGFuZ2VkIiksITF9fSh0aGlzKSksdGhpcy5lZGl0b3IuYm9keS5vbigibW91c2V1cCIsImltZzpub3QoW2RhdGEtbm9uLWltYWdlXSkiLGZ1bmN0aW9uKGEpe3JldHVybiExfSksdGhpcy5lZGl0b3Iub24oInNlbGVjdGlvbmNoYW5nZWQuaW1hZ2UiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjLGQsZTtyZXR1cm4gZT1iLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSxudWxsIT1lPyhjPWEoZS5jbG9uZUNvbnRlbnRzKCkpLmNvbnRlbnRzKCksMT09PWMubGVuZ3RoJiZjLmlzKCJpbWc6bm90KFtkYXRhLW5vbi1pbWFnZV0pIik/KGQ9YShlLnN0YXJ0Q29udGFpbmVyKS5jb250ZW50cygpLmVxKGUuc3RhcnRPZmZzZXQpLGIucG9wb3Zlci5zaG93KGQpKTpiLnBvcG92ZXIuaGlkZSgpKTp2b2lkIDB9fSh0aGlzKSksdGhpcy5lZGl0b3Iub24oInZhbHVlY2hhbmdlZC5pbWFnZSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM7cmV0dXJuIGM9Yi5lZGl0b3Iud3JhcHBlci5maW5kKCIuc2ltZGl0b3ItaW1hZ2UtbG9hZGluZyIpLGMubGVuZ3RoPjA/Yy5lYWNoKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnO3JldHVybiBmPWEoZCksZT1mLmRhdGEoImltZyIpLCEoZSYmZS5wYXJlbnQoKS5sZW5ndGg+MCkmJihmLnJlbW92ZSgpLGUmJihnPWUuZGF0YSgiZmlsZSIpLGcmJihiLmVkaXRvci51cGxvYWRlci5jYW5jZWwoZyksYi5lZGl0b3IuYm9keS5maW5kKCJpbWcudXBsb2FkaW5nIikubGVuZ3RoPDEpKSk/Yi5lZGl0b3IudXBsb2FkZXIudHJpZ2dlcigidXBsb2FkcmVhZHkiLFtnXSk6dm9pZCAwfSk6dm9pZCAwfX0odGhpcykpLGMuX19zdXBlcl9fLl9pbml0LmNhbGwodGhpcyl9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBhPTE8PWFyZ3VtZW50cy5sZW5ndGg/UC5jYWxsKGFyZ3VtZW50cywwKTpbXSxjLl9fc3VwZXJfXy5yZW5kZXIuYXBwbHkodGhpcyxhKSx0aGlzLnBvcG92ZXI9bmV3IHEoe2J1dHRvbjp0aGlzfSksInVwbG9hZCI9PT10aGlzLmVkaXRvci5vcHRzLmltYWdlQnV0dG9uP3RoaXMuX2luaXRVcGxvYWRlcih0aGlzLmVsKTp2b2lkIDB9LGMucHJvdG90eXBlLnJlbmRlck1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4gYy5fX3N1cGVyX18ucmVuZGVyTWVudS5jYWxsKHRoaXMpLHRoaXMuX2luaXRVcGxvYWRlcigpfSxjLnByb3RvdHlwZS5faW5pdFVwbG9hZGVyPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtyZXR1cm4gbnVsbD09YiYmKGI9dGhpcy5tZW51RWwuZmluZCgiLm1lbnUtaXRlbS11cGxvYWQtaW1hZ2UiKSksbnVsbD09dGhpcy5lZGl0b3IudXBsb2FkZXI/dm9pZCB0aGlzLmVsLmZpbmQoIi5idG4tdXBsb2FkIikucmVtb3ZlKCk6KGM9bnVsbCxkPWZ1bmN0aW9uKGQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjJiZjLnJlbW92ZSgpLGM9YSgiPGlucHV0Lz4iLHt0eXBlOiJmaWxlIix0aXRsZTpkLl90KCJ1cGxvYWRJbWFnZSIpLG11bHRpcGxlOiEwLGFjY2VwdDoiaW1hZ2UvKiJ9KS5hcHBlbmRUbyhiKX19KHRoaXMpLGQoKSxiLm9uKCJjbGljayBtb3VzZWRvd24iLCJpbnB1dFt0eXBlPWZpbGVdIixmdW5jdGlvbihhKXtyZXR1cm4gYS5zdG9wUHJvcGFnYXRpb24oKX0pLGIub24oImNoYW5nZSIsImlucHV0W3R5cGU9ZmlsZV0iLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lZGl0b3IuaW5wdXRNYW5hZ2VyLmZvY3VzZWQ/KGEuZWRpdG9yLnVwbG9hZGVyLnVwbG9hZChjLHtpbmxpbmU6ITB9KSxkKCkpOihhLmVkaXRvci5vbmUoImZvY3VzIixmdW5jdGlvbihiKXtyZXR1cm4gYS5lZGl0b3IudXBsb2FkZXIudXBsb2FkKGMse2lubGluZTohMH0pLGQoKX0pLGEuZWRpdG9yLmZvY3VzKCkpLGEud3JhcHBlci5yZW1vdmVDbGFzcygibWVudS1vbiIpfX0odGhpcykpLHRoaXMuZWRpdG9yLnVwbG9hZGVyLm9uKCJiZWZvcmV1cGxvYWQiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlO2lmKGQuaW5saW5lKXJldHVybiBkLmltZz9lPWEoZC5pbWcpOihlPWIuY3JlYXRlSW1hZ2UoZC5uYW1lKSxkLmltZz1lKSxlLmFkZENsYXNzKCJ1cGxvYWRpbmciKSxlLmRhdGEoImZpbGUiLGQpLGIuZWRpdG9yLnVwbG9hZGVyLnJlYWRJbWFnZUZpbGUoZC5vYmosZnVuY3Rpb24oYSl7dmFyIGM7aWYoZS5oYXNDbGFzcygidXBsb2FkaW5nIikpcmV0dXJuIGM9YT9hLnNyYzpiLmRlZmF1bHRJbWFnZSxiLmxvYWRJbWFnZShlLGMsZnVuY3Rpb24oKXtyZXR1cm4gYi5wb3BvdmVyLmFjdGl2ZT8oYi5wb3BvdmVyLnJlZnJlc2goKSxiLnBvcG92ZXIuc3JjRWwudmFsKGIuX3QoInVwbG9hZGluZyIpKS5wcm9wKCJkaXNhYmxlZCIsITApKTp2b2lkIDB9KX0pfX0odGhpcykpLGU9YS5wcm94eSh0aGlzLmVkaXRvci51dGlsLnRocm90dGxlKGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZztpZihiLmlubGluZSYmKGY9Yi5pbWcuZGF0YSgibWFzayIpKSlyZXR1cm4gZT1mLmRhdGEoImltZyIpLGUuaGFzQ2xhc3MoInVwbG9hZGluZyIpJiZlLnBhcmVudCgpLmxlbmd0aD4wPyhnPWMvZCxnPSgxMDAqZykudG9GaXhlZCgwKSxnPjk5JiYoZz05OSksZi5maW5kKCIucHJvZ3Jlc3MiKS5oZWlnaHQoMTAwLWcrIiUiKSk6dm9pZCBmLnJlbW92ZSgpfSw1MDApLHRoaXMpLHRoaXMuZWRpdG9yLnVwbG9hZGVyLm9uKCJ1cGxvYWRwcm9ncmVzcyIsZSksdGhpcy5lZGl0b3IudXBsb2FkZXIub24oInVwbG9hZHN1Y2Nlc3MiLGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQsZSl7dmFyIGYsZyxoO2lmKGQuaW5saW5lJiYoZj1kLmltZyxmLmhhc0NsYXNzKCJ1cGxvYWRpbmciKSYmZi5wYXJlbnQoKS5sZW5ndGg+MCkpe2lmKCJvYmplY3QiIT10eXBlb2YgZSl0cnl7ZT1hLnBhcnNlSlNPTihlKX1jYXRjaChpKXtjPWksZT17c3VjY2VzczohMX19cmV0dXJuIGUuc3VjY2Vzcz09PSExPyhoPWUubXNnfHxiLl90KCJ1cGxvYWRGYWlsZWQiKSxhbGVydChoKSxnPWIuZGVmYXVsdEltYWdlKTpnPWUuZmlsZV9wYXRoLGIubG9hZEltYWdlKGYsZyxmdW5jdGlvbigpe3ZhciBhO3JldHVybiBmLnJlbW92ZURhdGEoImZpbGUiKSxmLnJlbW92ZUNsYXNzKCJ1cGxvYWRpbmciKS5yZW1vdmVDbGFzcygibG9hZGluZyIpLGE9Zi5kYXRhKCJtYXNrIiksYSYmYS5yZW1vdmUoKSxmLnJlbW92ZURhdGEoIm1hc2siKSxiLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKSxiLmVkaXRvci5ib2R5LmZpbmQoImltZy51cGxvYWRpbmciKS5sZW5ndGg8MT9iLmVkaXRvci51cGxvYWRlci50cmlnZ2VyKCJ1cGxvYWRyZWFkeSIsW2QsZV0pOnZvaWQgMH0pLGIucG9wb3Zlci5hY3RpdmU/KGIucG9wb3Zlci5zcmNFbC5wcm9wKCJkaXNhYmxlZCIsITEpLGIucG9wb3Zlci5zcmNFbC52YWwoZS5maWxlX3BhdGgpKTp2b2lkIDB9fX0odGhpcykpLHRoaXMuZWRpdG9yLnVwbG9hZGVyLm9uKCJ1cGxvYWRlcnJvciIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCxlKXt2YXIgZixnLGg7aWYoZC5pbmxpbmUmJiJhYm9ydCIhPT1lLnN0YXR1c1RleHQpe2lmKGUucmVzcG9uc2VUZXh0KXt0cnl7aD1hLnBhcnNlSlNPTihlLnJlc3BvbnNlVGV4dCksZz1oLm1zZ31jYXRjaChpKXtjPWksZz1iLl90KCJ1cGxvYWRFcnJvciIpfWFsZXJ0KGcpfWlmKGY9ZC5pbWcsZi5oYXNDbGFzcygidXBsb2FkaW5nIikmJmYucGFyZW50KCkubGVuZ3RoPjApcmV0dXJuIGIubG9hZEltYWdlKGYsYi5kZWZhdWx0SW1hZ2UsZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZi5yZW1vdmVEYXRhKCJmaWxlIiksZi5yZW1vdmVDbGFzcygidXBsb2FkaW5nIikucmVtb3ZlQ2xhc3MoImxvYWRpbmciKSxhPWYuZGF0YSgibWFzayIpLGEmJmEucmVtb3ZlKCksZi5yZW1vdmVEYXRhKCJtYXNrIil9KSxiLnBvcG92ZXIuYWN0aXZlJiYoYi5wb3BvdmVyLnNyY0VsLnByb3AoImRpc2FibGVkIiwhMSksYi5wb3BvdmVyLnNyY0VsLnZhbChiLmRlZmF1bHRJbWFnZSkpLGIuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpLGIuZWRpdG9yLmJvZHkuZmluZCgiaW1nLnVwbG9hZGluZyIpLmxlbmd0aDwxP2IuZWRpdG9yLnVwbG9hZGVyLnRyaWdnZXIoInVwbG9hZHJlYWR5IixbZCxoXSk6dm9pZCAwfX19KHRoaXMpKSl9LGMucHJvdG90eXBlLl9zdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzYWJsZVN0YXR1cygpfSxjLnByb3RvdHlwZS5sb2FkSW1hZ2U9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZztyZXR1cm4gZz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYyxkO3JldHVybiBjPWIub2Zmc2V0KCksZD1hLmVkaXRvci53cmFwcGVyLm9mZnNldCgpLGUuY3NzKHt0b3A6Yy50b3AtZC50b3AsbGVmdDpjLmxlZnQtZC5sZWZ0LHdpZHRoOmIud2lkdGgoKSxoZWlnaHQ6Yi5oZWlnaHQoKX0pLnNob3coKX19KHRoaXMpLGIuYWRkQ2xhc3MoImxvYWRpbmciKSxlPWIuZGF0YSgibWFzayIpLGV8fChlPWEoJzxkaXYgY2xhc3M9InNpbWRpdG9yLWltYWdlLWxvYWRpbmciPlxuICA8ZGl2IGNsYXNzPSJwcm9ncmVzcyI+PC9kaXY+XG48L2Rpdj4nKS5oaWRlKCkuYXBwZW5kVG8odGhpcy5lZGl0b3Iud3JhcHBlciksZygpLGIuZGF0YSgibWFzayIsZSksZS5kYXRhKCJpbWciLGIpKSxmPW5ldyBJbWFnZSxmLm9ubG9hZD1mdW5jdGlvbihoKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxqO2lmKGIuaGFzQ2xhc3MoImxvYWRpbmciKXx8Yi5oYXNDbGFzcygidXBsb2FkaW5nIikpcmV0dXJuIGo9Zi53aWR0aCxpPWYuaGVpZ2h0LGIuYXR0cih7c3JjOmMsd2lkdGg6aixoZWlnaHQ6aSwiZGF0YS1pbWFnZS1zaXplIjpqKyIsIitpfSkucmVtb3ZlQ2xhc3MoImxvYWRpbmciKSxiLmhhc0NsYXNzKCJ1cGxvYWRpbmciKT8oaC5lZGl0b3IudXRpbC5yZWZsb3coaC5lZGl0b3IuYm9keSksZygpKTooZS5yZW1vdmUoKSxiLnJlbW92ZURhdGEoIm1hc2siKSksYS5pc0Z1bmN0aW9uKGQpP2QoZik6dm9pZCAwfX0odGhpcyksZi5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKSYmZCghMSksZS5yZW1vdmUoKSxiLnJlbW92ZURhdGEoIm1hc2siKS5yZW1vdmVDbGFzcygibG9hZGluZyIpfSxmLnNyYz1jfSxjLnByb3RvdHlwZS5jcmVhdGVJbWFnZT1mdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiBudWxsPT1iJiYoYj0iSW1hZ2UiKSx0aGlzLmVkaXRvci5pbnB1dE1hbmFnZXIuZm9jdXNlZHx8dGhpcy5lZGl0b3IuZm9jdXMoKSxkPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZSgpLGQuZGVsZXRlQ29udGVudHMoKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoZCksYz1hKCI8aW1nLz4iKS5hdHRyKCJhbHQiLGIpLGQuaW5zZXJ0Tm9kZShjWzBdKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBZnRlcihjLGQpLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpLGN9LGMucHJvdG90eXBlLmNvbW1hbmQ9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9dGhpcy5jcmVhdGVJbWFnZSgpLHRoaXMubG9hZEltYWdlKGIsYXx8dGhpcy5kZWZhdWx0SW1hZ2UsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpLGEuZWRpdG9yLnV0aWwucmVmbG93KGIpLGIuY2xpY2soKSxhLnBvcG92ZXIub25lKCJwb3BvdmVyc2hvdyIsZnVuY3Rpb24oKXtyZXR1cm4gYS5wb3BvdmVyLnNyY0VsLmZvY3VzKCksYS5wb3BvdmVyLnNyY0VsWzBdLnNlbGVjdCgpfSl9fSh0aGlzKSl9LGN9KGgpLHE9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBjLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYyxiKSxjLnByb3RvdHlwZS5vZmZzZXQ9e3RvcDo2LGxlZnQ6LTR9LGMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPSc8ZGl2IGNsYXNzPSJsaW5rLXNldHRpbmdzIj5cbiAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZmllbGQiPlxuICAgIDxsYWJlbD4nK3RoaXMuX3QoImltYWdlVXJsIikrJzwvbGFiZWw+XG4gICAgPGlucHV0IGNsYXNzPSJpbWFnZS1zcmMiIHR5cGU9InRleHQiIHRhYmluZGV4PSIxIiAvPlxuICAgIDxhIGNsYXNzPSJidG4tdXBsb2FkIiBocmVmPSJqYXZhc2NyaXB0OjsiXG4gICAgICB0aXRsZT0iJyt0aGlzLl90KCJ1cGxvYWRJbWFnZSIpKyciIHRhYmluZGV4PSItMSI+XG4gICAgICA8c3BhbiBjbGFzcz0ic2ltZGl0b3ItaWNvbiBzaW1kaXRvci1pY29uLXVwbG9hZCI+PC9zcGFuPlxuICAgIDwvYT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCdzZXR0aW5ncy1maWVsZFwnPlxuICAgIDxsYWJlbD4nK3RoaXMuX3QoImltYWdlQWx0IikrJzwvbGFiZWw+XG4gICAgPGlucHV0IGNsYXNzPSJpbWFnZS1hbHQiIGlkPSJpbWFnZS1hbHQiIHR5cGU9InRleHQiIHRhYmluZGV4PSIxIiAvPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz0ic2V0dGluZ3MtZmllbGQiPlxuICAgIDxsYWJlbD4nK3RoaXMuX3QoImltYWdlU2l6ZSIpKyc8L2xhYmVsPlxuICAgIDxpbnB1dCBjbGFzcz0iaW1hZ2Utc2l6ZSIgaWQ9ImltYWdlLXdpZHRoIiB0eXBlPSJ0ZXh0IiB0YWJpbmRleD0iMiIgLz5cbiAgICA8c3BhbiBjbGFzcz0idGltZXMiPsOXPC9zcGFuPlxuICAgIDxpbnB1dCBjbGFzcz0iaW1hZ2Utc2l6ZSIgaWQ9ImltYWdlLWhlaWdodCIgdHlwZT0idGV4dCIgdGFiaW5kZXg9IjMiIC8+XG4gICAgPGEgY2xhc3M9ImJ0bi1yZXN0b3JlIiBocmVmPSJqYXZhc2NyaXB0OjsiXG4gICAgICB0aXRsZT0iJyt0aGlzLl90KCJyZXN0b3JlSW1hZ2VTaXplIikrJyIgdGFiaW5kZXg9Ii0xIj5cbiAgICAgIDxzcGFuIGNsYXNzPSJzaW1kaXRvci1pY29uIHNpbWRpdG9yLWljb24tdW5kbyI+PC9zcGFuPlxuICAgIDwvYT5cbiAgPC9kaXY+XG48L2Rpdj4nLHRoaXMuZWwuYWRkQ2xhc3MoImltYWdlLXBvcG92ZXIiKS5hcHBlbmQoYiksdGhpcy5zcmNFbD10aGlzLmVsLmZpbmQoIi5pbWFnZS1zcmMiKSx0aGlzLndpZHRoRWw9dGhpcy5lbC5maW5kKCIjaW1hZ2Utd2lkdGgiKSx0aGlzLmhlaWdodEVsPXRoaXMuZWwuZmluZCgiI2ltYWdlLWhlaWdodCIpLHRoaXMuYWx0RWw9dGhpcy5lbC5maW5kKCIjaW1hZ2UtYWx0IiksdGhpcy5zcmNFbC5vbigia2V5ZG93biIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjO2lmKDEzPT09Yi53aGljaCYmIWEudGFyZ2V0Lmhhc0NsYXNzKCJ1cGxvYWRpbmciKSlyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGM9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLmJ1dHRvbi5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQWZ0ZXIoYS50YXJnZXQsYyksYS5oaWRlKCl9fSh0aGlzKSksdGhpcy5zcmNFbC5vbigiYmx1ciIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLl9sb2FkSW1hZ2UoYS5zcmNFbC52YWwoKSl9fSh0aGlzKSksdGhpcy5lbC5maW5kKCIuaW1hZ2Utc2l6ZSIpLm9uKCJibHVyIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGIuX3Jlc2l6ZUltZyhhKGMuY3VycmVudFRhcmdldCkpLGIuZWwuZGF0YSgicG9wb3ZlciIpLnJlZnJlc2goKX19KHRoaXMpKSx0aGlzLmVsLmZpbmQoIi5pbWFnZS1zaXplIikub24oImtleXVwIixmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ7cmV0dXJuIGQ9YShjLmN1cnJlbnRUYXJnZXQpLDEzIT09Yy53aGljaCYmMjchPT1jLndoaWNoJiY5IT09Yy53aGljaD9iLl9yZXNpemVJbWcoZCwhMCk6dm9pZCAwfX0odGhpcykpLHRoaXMuZWwuZmluZCgiLmltYWdlLXNpemUiKS5vbigia2V5ZG93biIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGUsZjtyZXR1cm4gZT1hKGMuY3VycmVudFRhcmdldCksMTM9PT1jLndoaWNofHwyNz09PWMud2hpY2g/KGMucHJldmVudERlZmF1bHQoKSwxMz09PWMud2hpY2g/Yi5fcmVzaXplSW1nKGUpOmIuX3Jlc3RvcmVJbWcoKSxkPWIudGFyZ2V0LGIuaGlkZSgpLGY9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxiLmJ1dHRvbi5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQWZ0ZXIoZCxmKSk6OT09PWMud2hpY2g/Yi5lbC5kYXRhKCJwb3BvdmVyIikucmVmcmVzaCgpOnZvaWQgMH19KHRoaXMpKSx0aGlzLmFsdEVsLm9uKCJrZXlkb3duIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuIDEzPT09Yi53aGljaD8oYi5wcmV2ZW50RGVmYXVsdCgpLGM9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLmJ1dHRvbi5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQWZ0ZXIoYS50YXJnZXQsYyksYS5oaWRlKCkpOnZvaWQgMH19KHRoaXMpKSx0aGlzLmFsdEVsLm9uKCJrZXl1cCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiAxMyE9PWIud2hpY2gmJjI3IT09Yi53aGljaCYmOSE9PWIud2hpY2g/KGEuYWx0PWEuYWx0RWwudmFsKCksYS50YXJnZXQuYXR0cigiYWx0IixhLmFsdCkpOnZvaWQgMH19KHRoaXMpKSx0aGlzLmVsLmZpbmQoIi5idG4tcmVzdG9yZSIpLm9uKCJjbGljayIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLl9yZXN0b3JlSW1nKCksYS5lbC5kYXRhKCJwb3BvdmVyIikucmVmcmVzaCgpfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJ2YWx1ZWNoYW5nZWQiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hY3RpdmU/YS5yZWZyZXNoKCk6dm9pZCAwfX0odGhpcykpLHRoaXMuX2luaXRVcGxvYWRlcigpfSxjLnByb3RvdHlwZS5faW5pdFVwbG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGIsYztyZXR1cm4gYj10aGlzLmVsLmZpbmQoIi5idG4tdXBsb2FkIiksbnVsbD09dGhpcy5lZGl0b3IudXBsb2FkZXI/dm9pZCBiLnJlbW92ZSgpOihjPWZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmlucHV0JiZjLmlucHV0LnJlbW92ZSgpLGMuaW5wdXQ9YSgiPGlucHV0Lz4iLHt0eXBlOiJmaWxlIix0aXRsZTpjLl90KCJ1cGxvYWRJbWFnZSIpLG11bHRpcGxlOiEwLGFjY2VwdDoiaW1hZ2UvKiJ9KS5hcHBlbmRUbyhiKX19KHRoaXMpLGMoKSx0aGlzLmVsLm9uKCJjbGljayBtb3VzZWRvd24iLCJpbnB1dFt0eXBlPWZpbGVdIixmdW5jdGlvbihhKXtyZXR1cm4gYS5zdG9wUHJvcGFnYXRpb24oKX0pLHRoaXMuZWwub24oImNoYW5nZSIsImlucHV0W3R5cGU9ZmlsZV0iLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lZGl0b3IudXBsb2FkZXIudXBsb2FkKGEuaW5wdXQse2lubGluZTohMCxpbWc6YS50YXJnZXR9KSxjKCl9fSh0aGlzKSkpfSxjLnByb3RvdHlwZS5fcmVzaXplSW1nPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmO3JldHVybiBudWxsPT1jJiYoYz0hMSksZT0xKmIudmFsKCksdGhpcy50YXJnZXQmJihhLmlzTnVtZXJpYyhlKXx8MD5lKT8oYi5pcyh0aGlzLndpZHRoRWwpPyhmPWUsZD10aGlzLmhlaWdodCplL3RoaXMud2lkdGgsdGhpcy5oZWlnaHRFbC52YWwoZCkpOihkPWUsZj10aGlzLndpZHRoKmUvdGhpcy5oZWlnaHQsdGhpcy53aWR0aEVsLnZhbChmKSksYz92b2lkIDA6KHRoaXMudGFyZ2V0LmF0dHIoe3dpZHRoOmYsaGVpZ2h0OmR9KSx0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKSkpOnZvaWQgMH0sYy5wcm90b3R5cGUuX3Jlc3RvcmVJbWc9ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBiPShudWxsIT0oYT10aGlzLnRhcmdldC5kYXRhKCJpbWFnZS1zaXplIikpP2Euc3BsaXQoIiwiKTp2b2lkIDApfHxbdGhpcy53aWR0aCx0aGlzLmhlaWdodF0sdGhpcy50YXJnZXQuYXR0cih7d2lkdGg6MSpiWzBdLGhlaWdodDoxKmJbMV19KSx0aGlzLndpZHRoRWwudmFsKGJbMF0pLHRoaXMuaGVpZ2h0RWwudmFsKGJbMV0pLHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpfSxjLnByb3RvdHlwZS5fbG9hZEltYWdlPWZ1bmN0aW9uKGEsYil7aWYoL15kYXRhOmltYWdlLy50ZXN0KGEpJiYhdGhpcy5lZGl0b3IudXBsb2FkZXIpcmV0dXJuIHZvaWQoYiYmYighMSkpO2lmKHRoaXMudGFyZ2V0LmF0dHIoInNyYyIpIT09YSlyZXR1cm4gdGhpcy5idXR0b24ubG9hZEltYWdlKHRoaXMudGFyZ2V0LGEsZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlO2lmKGQpcmV0dXJuIGMuYWN0aXZlJiYoYy53aWR0aD1kLndpZHRoLGMuaGVpZ2h0PWQuaGVpZ2h0LGMud2lkdGhFbC52YWwoYy53aWR0aCksYy5oZWlnaHRFbC52YWwoYy5oZWlnaHQpKSwvXmRhdGE6aW1hZ2UvLnRlc3QoYSk/KGU9Yy5lZGl0b3IudXRpbC5kYXRhVVJMdG9CbG9iKGEpLGUubmFtZT0iQmFzZTY0IEltYWdlLnBuZyIsYy5lZGl0b3IudXBsb2FkZXIudXBsb2FkKGUse2lubGluZTohMCxpbWc6Yy50YXJnZXR9KSk6Yy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIiksYj9iKGQpOnZvaWQgMH19KHRoaXMpKX0sYy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBhLGI7cmV0dXJuIGI9MTw9YXJndW1lbnRzLmxlbmd0aD9QLmNhbGwoYXJndW1lbnRzLDApOltdLGMuX19zdXBlcl9fLnNob3cuYXBwbHkodGhpcyxiKSxhPXRoaXMudGFyZ2V0LHRoaXMud2lkdGg9YS53aWR0aCgpLHRoaXMuaGVpZ2h0PWEuaGVpZ2h0KCksdGhpcy5hbHQ9YS5hdHRyKCJhbHQiKSxhLmhhc0NsYXNzKCJ1cGxvYWRpbmciKT90aGlzLnNyY0VsLnZhbCh0aGlzLl90KCJ1cGxvYWRpbmciKSkucHJvcCgiZGlzYWJsZWQiLCEwKToodGhpcy5zcmNFbC52YWwoYS5hdHRyKCJzcmMiKSkucHJvcCgiZGlzYWJsZWQiLCExKSx0aGlzLndpZHRoRWwudmFsKHRoaXMud2lkdGgpLHRoaXMuaGVpZ2h0RWwudmFsKHRoaXMuaGVpZ2h0KSx0aGlzLmFsdEVsLnZhbCh0aGlzLmFsdCkpfSxjfShCKSxELlRvb2xiYXIuYWRkQnV0dG9uKHApLHI9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBiLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYixhKSxiLnByb3RvdHlwZS5uYW1lPSJpbmRlbnQiLGIucHJvdG90eXBlLmljb249ImluZGVudCIsYi5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXRsZT10aGlzLl90KHRoaXMubmFtZSkrIiAoVGFiKSIsYi5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKX0sYi5wcm90b3R5cGUuX3N0YXR1cz1mdW5jdGlvbigpe30sYi5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5pbmRlbnRhdGlvbi5pbmRlbnQoKX0sYn0oaCksRC5Ub29sYmFyLmFkZEJ1dHRvbihyKSxBPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gYi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBNKGIsYSksYi5wcm90b3R5cGUubmFtZT0ib3V0ZGVudCIsYi5wcm90b3R5cGUuaWNvbj0ib3V0ZGVudCIsYi5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXRsZT10aGlzLl90KHRoaXMubmFtZSkrIiAoU2hpZnQgKyBUYWIpIixiLl9fc3VwZXJfXy5faW5pdC5jYWxsKHRoaXMpfSxiLnByb3RvdHlwZS5fc3RhdHVzPWZ1bmN0aW9uKCl7fSxiLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmluZGVudGF0aW9uLmluZGVudCghMCl9LGJ9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24oQSksbz1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9ImhyIixjLnByb3RvdHlwZS5pY29uPSJtaW51cyIsYy5wcm90b3R5cGUuaHRtbFRhZz0iaHIiLGMucHJvdG90eXBlLl9zdGF0dXM9ZnVuY3Rpb24oKXt9LGMucHJvdG90eXBlLmNvbW1hbmQ9ZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtyZXR1cm4gZT10aGlzLmVkaXRvci5zZWxlY3Rpb24ucm9vdE5vZGVzKCkuZmlyc3QoKSxkPWUubmV4dCgpLGQubGVuZ3RoPjA/dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNhdmUoKTpjPWEoIjxwLz4iKS5hcHBlbmQodGhpcy5lZGl0b3IudXRpbC5waEJyKSxiPWEoIjxoci8+IikuaW5zZXJ0QWZ0ZXIoZSksYz8oYy5pbnNlcnRBZnRlcihiKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdFN0YXJ0T2YoYykpOnRoaXMuZWRpdG9yLnNlbGVjdGlvbi5yZXN0b3JlKCksdGhpcy5lZGl0b3IudHJpZ2dlcigidmFsdWVjaGFuZ2VkIil9LGN9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24obyksRj1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9InRhYmxlIixjLnByb3RvdHlwZS5pY29uPSJ0YWJsZSIsYy5wcm90b3R5cGUuaHRtbFRhZz0idGFibGUiLGMucHJvdG90eXBlLmRpc2FibGVUYWc9InByZSwgbGksIGJsb2NrcXVvdGUiLGMucHJvdG90eXBlLm1lbnU9ITAsYy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5fX3N1cGVyX18uX2luaXQuY2FsbCh0aGlzKSxhLm1lcmdlKHRoaXMuZWRpdG9yLmZvcm1hdHRlci5fYWxsb3dlZFRhZ3MsWyJ0aGVhZCIsInRoIiwidGJvZHkiLCJ0ciIsInRkIiwiY29sZ3JvdXAiLCJjb2wiXSksYS5leHRlbmQodGhpcy5lZGl0b3IuZm9ybWF0dGVyLl9hbGxvd2VkQXR0cmlidXRlcyx7dGQ6WyJyb3dzcGFuIiwiY29sc3BhbiJdLGNvbDpbIndpZHRoIl19KSxhLmV4dGVuZCh0aGlzLmVkaXRvci5mb3JtYXR0ZXIuX2FsbG93ZWRTdHlsZXMse3RkOlsidGV4dC1hbGlnbiJdLHRoOlsidGV4dC1hbGlnbiJdfSksdGhpcy5faW5pdFNob3J0Y3V0cygpLHRoaXMuZWRpdG9yLm9uKCJkZWNvcmF0ZSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQuZmluZCgidGFibGUiKS5lYWNoKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIuZGVjb3JhdGUoYShkKSl9KX19KHRoaXMpKSx0aGlzLmVkaXRvci5vbigidW5kZWNvcmF0ZSIsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQuZmluZCgidGFibGUiKS5lYWNoKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGIudW5kZWNvcmF0ZShhKGQpKX0pfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJzZWxlY3Rpb25jaGFuZ2VkLnRhYmxlIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gYS5lZGl0b3IuYm9keS5maW5kKCIuc2ltZGl0b3ItdGFibGUgdGQsIC5zaW1kaXRvci10YWJsZSB0aCIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwoZD1hLmVkaXRvci5zZWxlY3Rpb24ucmFuZ2UoKSk/KGM9YS5lZGl0b3Iuc2VsZWN0aW9uLmNvbnRhaW5lck5vZGUoKSxkLmNvbGxhcHNlZCYmYy5pcygiLnNpbWRpdG9yLXRhYmxlIikmJihjPWEuZWRpdG9yLnNlbGVjdGlvbi5yYW5nZUF0U3RhcnRPZihjKT9jLmZpbmQoInRoOmZpcnN0Iik6Yy5maW5kKCJ0ZDpsYXN0IiksYS5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRFbmRPZihjKSksYy5jbG9zZXN0KCJ0ZCwgdGgiLGEuZWRpdG9yLmJvZHkpLmFkZENsYXNzKCJhY3RpdmUiKSk6dm9pZCAwfX0odGhpcykpLHRoaXMuZWRpdG9yLm9uKCJibHVyLnRhYmxlIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZWRpdG9yLmJvZHkuZmluZCgiLnNpbWRpdG9yLXRhYmxlIHRkLCAuc2ltZGl0b3ItdGFibGUgdGgiKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9fSh0aGlzKSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlLmFkZCgidXAiLCJ0ZCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuX3RkTmF2KGMsInVwIiksITB9fSh0aGlzKSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlLmFkZCgidXAiLCJ0aCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuX3RkTmF2KGMsInVwIiksITB9fSh0aGlzKSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlLmFkZCgiZG93biIsInRkIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5fdGROYXYoYywiZG93biIpLCEwfX0odGhpcykpLHRoaXMuZWRpdG9yLmtleXN0cm9rZS5hZGQoImRvd24iLCJ0aCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuX3RkTmF2KGMsImRvd24iKSwhMH19KHRoaXMpKX0sYy5wcm90b3R5cGUuX3RkTmF2PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk7cmV0dXJuIG51bGw9PWImJihiPSJ1cCIpLGU9InVwIj09PWI/InByZXYiOiJuZXh0IixpPSJ1cCI9PT1iP1sidGJvZHkiLCJ0aGVhZCJdOlsidGhlYWQiLCJ0Ym9keSJdLGg9aVswXSxmPWlbMV0sZD1hLnBhcmVudCgidHIiKSxjPXRoaXNbIl8iK2UrIlJvdyJdKGQpLGMubGVuZ3RoPjA/KGc9ZC5maW5kKCJ0ZCwgdGgiKS5pbmRleChhKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGMuZmluZCgidGQsIHRoIikuZXEoZykpKTohMH0sYy5wcm90b3R5cGUuX25leHRSb3c9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9YS5uZXh0KCJ0ciIpLGIubGVuZ3RoPDEmJmEucGFyZW50KCJ0aGVhZCIpLmxlbmd0aD4wJiYoYj1hLnBhcmVudCgidGhlYWQiKS5uZXh0KCJ0Ym9keSIpLmZpbmQoInRyOmZpcnN0IikpLGJ9LGMucHJvdG90eXBlLl9wcmV2Um93PWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBiPWEucHJldigidHIiKSxiLmxlbmd0aDwxJiZhLnBhcmVudCgidGJvZHkiKS5sZW5ndGg+MCYmKGI9YS5wYXJlbnQoInRib2R5IikucHJldigidGhlYWQiKS5maW5kKCJ0ciIpKSxifSxjLnByb3RvdHlwZS5pbml0UmVzaXplPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtyZXR1cm4gZT1iLnBhcmVudCgiLnNpbWRpdG9yLXRhYmxlIiksYz1iLmZpbmQoImNvbGdyb3VwIiksYy5sZW5ndGg8MSYmKGM9YSgiPGNvbGdyb3VwLz4iKS5wcmVwZW5kVG8oYiksYi5maW5kKCJ0aGVhZCB0ciB0aCIpLmVhY2goZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm4gZT1hKCI8Y29sLz4iKS5hcHBlbmRUbyhjKX0pLHRoaXMucmVmcmVzaFRhYmxlV2lkdGgoYikpLGQ9YSgiPGRpdiAvPiIseyJjbGFzcyI6InNpbWRpdG9yLXJlc2l6ZS1oYW5kbGUiLGNvbnRlbnRlZGl0YWJsZToiZmFsc2UifSkuYXBwZW5kVG8oZSksZS5vbigibW91c2Vtb3ZlIiwidGQsIHRoIixmdW5jdGlvbihiKXt2YXIgZixnLGgsaSxqLGs7aWYoIWUuaGFzQ2xhc3MoInJlc2l6aW5nIikpcmV0dXJuIGc9YShiLmN1cnJlbnRUYXJnZXQpLGs9Yi5wYWdlWC1hKGIuY3VycmVudFRhcmdldCkub2Zmc2V0KCkubGVmdCw1PmsmJmcucHJldigpLmxlbmd0aD4wJiYoZz1nLnByZXYoKSksZy5uZXh0KCJ0ZCwgdGgiKS5sZW5ndGg8MT92b2lkIGQuaGlkZSgpOihudWxsIT0oaT1kLmRhdGEoInRkIikpP2kuaXMoZyk6dm9pZCAwKT92b2lkIGQuc2hvdygpOihoPWcucGFyZW50KCkuZmluZCgidGQsIHRoIikuaW5kZXgoZyksZj1jLmZpbmQoImNvbCIpLmVxKGgpLChudWxsIT0oaj1kLmRhdGEoImNvbCIpKT9qLmlzKGYpOnZvaWQgMCk/dm9pZCBkLnNob3coKTpkLmNzcygibGVmdCIsZy5wb3NpdGlvbigpLmxlZnQrZy5vdXRlcldpZHRoKCktNSkuZGF0YSgidGQiLGcpLmRhdGEoImNvbCIsZikuc2hvdygpKX0pLGUub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKGEpe3JldHVybiBkLmhpZGUoKX0pLGUub24oIm1vdXNlZG93biIsIi5zaW1kaXRvci1yZXNpemUtaGFuZGxlIixmdW5jdGlvbihiKXt2YXIgYyxkLGYsZyxoLGksaixrLGwsbSxuO3JldHVybiBjPWEoYi5jdXJyZW50VGFyZ2V0KSxmPWMuZGF0YSgidGQiKSxkPWMuZGF0YSgiY29sIiksaD1mLm5leHQoInRkLCB0aCIpLGc9ZC5uZXh0KCJjb2wiKSxtPWIucGFnZVgsaz0xKmYub3V0ZXJXaWR0aCgpLGw9MSpoLm91dGVyV2lkdGgoKSxqPXBhcnNlRmxvYXQoYy5jc3MoImxlZnQiKSksbj1mLmNsb3Nlc3QoInRhYmxlIikud2lkdGgoKSxpPTUwLGEoZG9jdW1lbnQpLm9uKCJtb3VzZW1vdmUuc2ltZGl0b3ItcmVzaXplLXRhYmxlIixmdW5jdGlvbihhKXt2YXIgYixlLGY7cmV0dXJuIGI9YS5wYWdlWC1tLGU9aytiLGY9bC1iLGk+ZT8oZT1pLGI9aS1rLGY9bC1iKTppPmYmJihmPWksYj1sLWksZT1rK2IpLGQuYXR0cigid2lkdGgiLGUvbioxMDArIiUiKSxnLmF0dHIoIndpZHRoIixmL24qMTAwKyIlIiksYy5jc3MoImxlZnQiLGorYil9KSxhKGRvY3VtZW50KS5vbmUoIm1vdXNldXAuc2ltZGl0b3ItcmVzaXplLXRhYmxlIixmdW5jdGlvbihiKXtyZXR1cm4gYShkb2N1bWVudCkub2ZmKCIuc2ltZGl0b3ItcmVzaXplLXRhYmxlIiksZS5yZW1vdmVDbGFzcygicmVzaXppbmciKX0pLGUuYWRkQ2xhc3MoInJlc2l6aW5nIiksITF9KX0sYy5wcm90b3R5cGUuX2luaXRTaG9ydGN1dHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuaG90a2V5cy5hZGQoImN0cmwrYWx0K3VwIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZWRpdE1lbnUuZmluZCgiLm1lbnUtaXRlbVtkYXRhLXBhcmFtPWluc2VydFJvd0Fib3ZlXSIpLmNsaWNrKCksITF9fSh0aGlzKSksdGhpcy5lZGl0b3IuaG90a2V5cy5hZGQoImN0cmwrYWx0K2Rvd24iLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5lZGl0TWVudS5maW5kKCIubWVudS1pdGVtW2RhdGEtcGFyYW09aW5zZXJ0Um93QmVsb3ddIikuY2xpY2soKSwhMX19KHRoaXMpKSx0aGlzLmVkaXRvci5ob3RrZXlzLmFkZCgiY3RybCthbHQrbGVmdCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmVkaXRNZW51LmZpbmQoIi5tZW51LWl0ZW1bZGF0YS1wYXJhbT1pbnNlcnRDb2xMZWZ0XSIpLmNsaWNrKCksITF9fSh0aGlzKSksdGhpcy5lZGl0b3IuaG90a2V5cy5hZGQoImN0cmwrYWx0K3JpZ2h0IixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZWRpdE1lbnUuZmluZCgiLm1lbnUtaXRlbVtkYXRhLXBhcmFtPWluc2VydENvbFJpZ2h0XSIpLmNsaWNrKCksITF9fSh0aGlzKSl9LGMucHJvdG90eXBlLmRlY29yYXRlPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtyZXR1cm4gYi5wYXJlbnQoIi5zaW1kaXRvci10YWJsZSIpLmxlbmd0aD4wJiZ0aGlzLnVuZGVjb3JhdGUoYiksYi53cmFwKCc8ZGl2IGNsYXNzPSJzaW1kaXRvci10YWJsZSI+PC9kaXY+JyksYi5maW5kKCJ0aGVhZCIpLmxlbmd0aDwxJiYoZT1hKCI8dGhlYWQgLz4iKSxjPWIuZmluZCgidHIiKS5maXJzdCgpLGUuYXBwZW5kKGMpLHRoaXMuX2NoYW5nZUNlbGxUYWcoYywidGgiKSxkPWIuZmluZCgidGJvZHkiKSxkLmxlbmd0aD4wP2QuYmVmb3JlKGUpOmIucHJlcGVuZChlKSksdGhpcy5pbml0UmVzaXplKGIpLGIucGFyZW50KCl9LGMucHJvdG90eXBlLnVuZGVjb3JhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50KCIuc2ltZGl0b3ItdGFibGUiKS5sZW5ndGg+MD9hLnBhcmVudCgpLnJlcGxhY2VXaXRoKGEpOnZvaWQgMH0sYy5wcm90b3R5cGUucmVuZGVyTWVudT1mdW5jdGlvbigpe3ZhciBiO3JldHVybiBhKCc8ZGl2IGNsYXNzPSJtZW51LWNyZWF0ZS10YWJsZSI+XG48L2Rpdj5cbjxkaXYgY2xhc3M9Im1lbnUtZWRpdC10YWJsZSI+XG4gIDx1bD5cbiAgICA8bGk+XG4gICAgICA8YSB0YWJpbmRleD0iLTEiIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJtZW51LWl0ZW0iXG4gICAgICAgIGhyZWY9ImphdmFzY3JpcHQ6OyIgZGF0YS1wYXJhbT0iZGVsZXRlUm93Ij5cbiAgICAgICAgPHNwYW4+Jyt0aGlzLl90KCJkZWxldGVSb3ciKSsnPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICAgPGxpPlxuICAgICAgPGEgdGFiaW5kZXg9Ii0xIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0ibWVudS1pdGVtIlxuICAgICAgICBocmVmPSJqYXZhc2NyaXB0OjsiIGRhdGEtcGFyYW09Imluc2VydFJvd0Fib3ZlIj5cbiAgICAgICAgPHNwYW4+Jyt0aGlzLl90KCJpbnNlcnRSb3dBYm92ZSIpKycgKCBDdHJsICsgQWx0ICsg4oaRICk8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgICA8bGk+XG4gICAgICA8YSB0YWJpbmRleD0iLTEiIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJtZW51LWl0ZW0iXG4gICAgICAgIGhyZWY9ImphdmFzY3JpcHQ6OyIgZGF0YS1wYXJhbT0iaW5zZXJ0Um93QmVsb3ciPlxuICAgICAgICA8c3Bhbj4nK3RoaXMuX3QoImluc2VydFJvd0JlbG93IikrJyAoIEN0cmwgKyBBbHQgKyDihpMgKTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICAgIDxsaT48c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+PC9saT5cbiAgICA8bGk+XG4gICAgICA8YSB0YWJpbmRleD0iLTEiIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJtZW51LWl0ZW0iXG4gICAgICAgIGhyZWY9ImphdmFzY3JpcHQ6OyIgZGF0YS1wYXJhbT0iZGVsZXRlQ29sIj5cbiAgICAgICAgPHNwYW4+Jyt0aGlzLl90KCJkZWxldGVDb2x1bW4iKSsnPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICAgPGxpPlxuICAgICAgPGEgdGFiaW5kZXg9Ii0xIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0ibWVudS1pdGVtIlxuICAgICAgICBocmVmPSJqYXZhc2NyaXB0OjsiIGRhdGEtcGFyYW09Imluc2VydENvbExlZnQiPlxuICAgICAgICA8c3Bhbj4nK3RoaXMuX3QoImluc2VydENvbHVtbkxlZnQiKSsnICggQ3RybCArIEFsdCArIOKGkCApPC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICAgPGxpPlxuICAgICAgPGEgdGFiaW5kZXg9Ii0xIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0ibWVudS1pdGVtIlxuICAgICAgICBocmVmPSJqYXZhc2NyaXB0OjsiIGRhdGEtcGFyYW09Imluc2VydENvbFJpZ2h0Ij5cbiAgICAgICAgPHNwYW4+Jyt0aGlzLl90KCJpbnNlcnRDb2x1bW5SaWdodCIpKycgKCBDdHJsICsgQWx0ICsg4oaSICk8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgICA8bGk+PHNwYW4gY2xhc3M9InNlcGFyYXRvciI+PC9zcGFuPjwvbGk+XG4gICAgPGxpPlxuICAgICAgPGEgdGFiaW5kZXg9Ii0xIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0ibWVudS1pdGVtIlxuICAgICAgICBocmVmPSJqYXZhc2NyaXB0OjsiIGRhdGEtcGFyYW09ImRlbGV0ZVRhYmxlIj5cbiAgICAgICAgPHNwYW4+Jyt0aGlzLl90KCJkZWxldGVUYWJsZSIpKyI8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgPC91bD5cbjwvZGl2PiIpLmFwcGVuZFRvKHRoaXMubWVudVdyYXBwZXIpLHRoaXMuY3JlYXRlTWVudT10aGlzLm1lbnVXcmFwcGVyLmZpbmQoIi5tZW51LWNyZWF0ZS10YWJsZSIpLHRoaXMuZWRpdE1lbnU9dGhpcy5tZW51V3JhcHBlci5maW5kKCIubWVudS1lZGl0LXRhYmxlIiksYj10aGlzLmNyZWF0ZVRhYmxlKDYsNikuYXBwZW5kVG8odGhpcy5jcmVhdGVNZW51KSx0aGlzLmNyZWF0ZU1lbnUub24oIm1vdXNlZW50ZXIiLCJ0ZCwgdGgiLGZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZSxmLGcsaDtyZXR1cm4gYy5jcmVhdGVNZW51LmZpbmQoInRkLCB0aCIpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLGU9YShkLmN1cnJlbnRUYXJnZXQpLGY9ZS5wYXJlbnQoKSxoPWYuZmluZCgidGQsIHRoIikuaW5kZXgoZSkrMSxnPWYucHJldkFsbCgidHIiKS5hZGRCYWNrKCksZi5wYXJlbnQoKS5pcygidGJvZHkiKSYmKGc9Zy5hZGQoYi5maW5kKCJ0aGVhZCB0ciIpKSksZy5maW5kKCJ0ZDpsdCgiK2grIiksIHRoOmx0KCIraCsiKSIpLmFkZENsYXNzKCJzZWxlY3RlZCIpfX0odGhpcykpLHRoaXMuY3JlYXRlTWVudS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oYil7cmV0dXJuIGEoYi5jdXJyZW50VGFyZ2V0KS5maW5kKCJ0ZCwgdGgiKS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKX0pLHRoaXMuY3JlYXRlTWVudS5vbigibW91c2Vkb3duIiwidGQsIHRoIixmdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGUsZixnLGgsaTtyZXR1cm4gYy53cmFwcGVyLnJlbW92ZUNsYXNzKCJtZW51LW9uIiksYy5lZGl0b3IuaW5wdXRNYW5hZ2VyLmZvY3VzZWQ/KGY9YShkLmN1cnJlbnRUYXJnZXQpLGc9Zi5wYXJlbnQoKSxoPWcuZmluZCgidGQiKS5pbmRleChmKSsxLGk9Zy5wcmV2QWxsKCJ0ciIpLmxlbmd0aCsxLGcucGFyZW50KCkuaXMoInRib2R5IikmJihpKz0xKSxiPWMuY3JlYXRlVGFibGUoaSxoLCEwKSxlPWMuZWRpdG9yLnNlbGVjdGlvbi5ibG9ja05vZGVzKCkubGFzdCgpLGMuZWRpdG9yLnV0aWwuaXNFbXB0eU5vZGUoZSk/ZS5yZXBsYWNlV2l0aChiKTplLmFmdGVyKGIpLGMuZGVjb3JhdGUoYiksYy5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGIuZmluZCgidGg6Zmlyc3QiKSksCmMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpLCExKTp2b2lkIDB9fSh0aGlzKSl9LGMucHJvdG90eXBlLmNyZWF0ZVRhYmxlPWZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvO2ZvcihlPWEoIjx0YWJsZS8+IiksaD1hKCI8dGhlYWQvPiIpLmFwcGVuZFRvKGUpLGY9YSgiPHRib2R5Lz4iKS5hcHBlbmRUbyhlKSxtPWs9MCxuPWI7bj49MD9uPms6az5uO209bj49MD8rK2s6LS1rKWZvcihpPWEoIjx0ci8+IiksaS5hcHBlbmRUbygwPT09bT9oOmYpLGo9bD0wLG89YztvPj0wP28+bDpsPm87aj1vPj0wPysrbDotLWwpZz1hKDA9PT1tPyI8dGgvPiI6Ijx0ZC8+IikuYXBwZW5kVG8oaSksZCYmZy5hcHBlbmQodGhpcy5lZGl0b3IudXRpbC5waEJyKTtyZXR1cm4gZX0sYy5wcm90b3R5cGUucmVmcmVzaFRhYmxlV2lkdGg9ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gZD1iLndpZHRoKCksYz1iLmZpbmQoImNvbCIpLGIuZmluZCgidGhlYWQgdHIgdGgiKS5lYWNoKGZ1bmN0aW9uKGIsZSl7dmFyIGY7cmV0dXJuIGY9Yy5lcShiKSxmLmF0dHIoIndpZHRoIixhKGUpLm91dGVyV2lkdGgoKS9kKjEwMCsiJSIpfSl9LGMucHJvdG90eXBlLnNldEFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5fX3N1cGVyX18uc2V0QWN0aXZlLmNhbGwodGhpcyxhKSxhPyh0aGlzLmNyZWF0ZU1lbnUuaGlkZSgpLHRoaXMuZWRpdE1lbnUuc2hvdygpKToodGhpcy5jcmVhdGVNZW51LnNob3coKSx0aGlzLmVkaXRNZW51LmhpZGUoKSl9LGMucHJvdG90eXBlLl9jaGFuZ2VDZWxsVGFnPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGIuZmluZCgidGQsIHRoIikuZWFjaChmdW5jdGlvbihiLGQpe3ZhciBlO3JldHVybiBlPWEoZCksZS5yZXBsYWNlV2l0aCgiPCIrYysiPiIrZS5odG1sKCkrIjwvIitjKyI+Iil9KX0sYy5wcm90b3R5cGUuZGVsZXRlUm93PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtyZXR1cm4gYz1hLnBhcmVudCgidHIiKSxjLmNsb3Nlc3QoInRhYmxlIikuZmluZCgidHIiKS5sZW5ndGg8MT90aGlzLmRlbGV0ZVRhYmxlKGEpOihiPXRoaXMuX25leHRSb3coYyksYi5sZW5ndGg+MHx8KGI9dGhpcy5fcHJldlJvdyhjKSksZD1jLmZpbmQoInRkLCB0aCIpLmluZGV4KGEpLGMucGFyZW50KCkuaXMoInRoZWFkIikmJihiLmFwcGVuZFRvKGMucGFyZW50KCkpLHRoaXMuX2NoYW5nZUNlbGxUYWcoYiwidGgiKSksYy5yZW1vdmUoKSx0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2VBdEVuZE9mKGIuZmluZCgidGQsIHRoIikuZXEoZCkpKX0sYy5wcm90b3R5cGUuaW5zZXJ0Um93PWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsO2ZvcihudWxsPT1jJiYoYz0iYWZ0ZXIiKSxmPWIucGFyZW50KCJ0ciIpLGU9Zi5jbG9zZXN0KCJ0YWJsZSIpLGg9MCxlLmZpbmQoInRyIikuZWFjaChmdW5jdGlvbihiLGMpe3JldHVybiBoPU1hdGgubWF4KGgsYShjKS5maW5kKCJ0ZCIpLmxlbmd0aCl9KSxqPWYuZmluZCgidGQsIHRoIikuaW5kZXgoYiksZD1hKCI8dHIvPiIpLGc9InRkIiwiYWZ0ZXIiPT09YyYmZi5wYXJlbnQoKS5pcygidGhlYWQiKT9mLnBhcmVudCgpLm5leHQoInRib2R5IikucHJlcGVuZChkKToiYmVmb3JlIj09PWMmJmYucGFyZW50KCkuaXMoInRoZWFkIik/KGYuYmVmb3JlKGQpLGYucGFyZW50KCkubmV4dCgidGJvZHkiKS5wcmVwZW5kKGYpLHRoaXMuX2NoYW5nZUNlbGxUYWcoZiwidGQiKSxnPSJ0aCIpOmZbY10oZCksaT1rPTEsbD1oO2w+PTE/bD49azprPj1sO2k9bD49MT8rK2s6LS1rKWEoIjwiK2crIi8+IikuYXBwZW5kKHRoaXMuZWRpdG9yLnV0aWwucGhCcikuYXBwZW5kVG8oZCk7cmV0dXJuIHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZUF0U3RhcnRPZihkLmZpbmQoInRkLCB0aCIpLmVxKGopKX0sYy5wcm90b3R5cGUuZGVsZXRlQ29sPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaDtyZXR1cm4gZT1iLnBhcmVudCgidHIiKSxoPWUuY2xvc2VzdCgidGFibGUiKS5maW5kKCJ0ciIpLmxlbmd0aDwyLGc9Yi5zaWJsaW5ncygidGQsIHRoIikubGVuZ3RoPDEsaCYmZz90aGlzLmRlbGV0ZVRhYmxlKGIpOihmPWUuZmluZCgidGQsIHRoIikuaW5kZXgoYiksYz1iLm5leHQoInRkLCB0aCIpLGMubGVuZ3RoPjB8fChjPWUucHJldigidGQsIHRoIikpLGQ9ZS5jbG9zZXN0KCJ0YWJsZSIpLGQuZmluZCgiY29sIikuZXEoZikucmVtb3ZlKCksZC5maW5kKCJ0ciIpLmVhY2goZnVuY3Rpb24oYixjKXtyZXR1cm4gYShjKS5maW5kKCJ0ZCwgdGgiKS5lcShmKS5yZW1vdmUoKX0pLHRoaXMucmVmcmVzaFRhYmxlV2lkdGgoZCksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRFbmRPZihjKSl9LGMucHJvdG90eXBlLmluc2VydENvbD1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs7cmV0dXJuIG51bGw9PWMmJihjPSJhZnRlciIpLGg9Yi5wYXJlbnQoInRyIiksaT1oLmZpbmQoInRkLCB0aCIpLmluZGV4KGIpLGc9Yi5jbG9zZXN0KCJ0YWJsZSIpLGQ9Zy5maW5kKCJjb2wiKS5lcShpKSxnLmZpbmQoInRyIikuZWFjaChmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZixnO3JldHVybiBnPWEoZSkucGFyZW50KCkuaXMoInRoZWFkIik/InRoIjoidGQiLGY9YSgiPCIrZysiLz4iKS5hcHBlbmQoYi5lZGl0b3IudXRpbC5waEJyKSxhKGUpLmZpbmQoInRkLCB0aCIpLmVxKGkpW2NdKGYpfX0odGhpcykpLGU9YSgiPGNvbC8+IiksZFtjXShlKSxqPWcud2lkdGgoKSxrPU1hdGgubWF4KHBhcnNlRmxvYXQoZC5hdHRyKCJ3aWR0aCIpKS8yLDUwL2oqMTAwKSxkLmF0dHIoIndpZHRoIixrKyIlIiksZS5hdHRyKCJ3aWR0aCIsaysiJSIpLHRoaXMucmVmcmVzaFRhYmxlV2lkdGgoZyksZj0iYWZ0ZXIiPT09Yz9iLm5leHQoInRkLCB0aCIpOmIucHJldigidGQsIHRoIiksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGYpfSxjLnByb3RvdHlwZS5kZWxldGVUYWJsZT1mdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBjPWEuY2xvc2VzdCgiLnNpbWRpdG9yLXRhYmxlIiksYj1jLm5leHQoInAiKSxjLnJlbW92ZSgpLGIubGVuZ3RoPjA/dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLnNldFJhbmdlQXRTdGFydE9mKGIpOnZvaWQgMH0sYy5wcm90b3R5cGUuY29tbWFuZD1mdW5jdGlvbihhKXt2YXIgYjtpZihiPXRoaXMuZWRpdG9yLnNlbGVjdGlvbi5jb250YWluZXJOb2RlKCkuY2xvc2VzdCgidGQsIHRoIiksYi5sZW5ndGg+MCl7aWYoImRlbGV0ZVJvdyI9PT1hKXRoaXMuZGVsZXRlUm93KGIpO2Vsc2UgaWYoImluc2VydFJvd0Fib3ZlIj09PWEpdGhpcy5pbnNlcnRSb3coYiwiYmVmb3JlIik7ZWxzZSBpZigiaW5zZXJ0Um93QmVsb3ciPT09YSl0aGlzLmluc2VydFJvdyhiKTtlbHNlIGlmKCJkZWxldGVDb2wiPT09YSl0aGlzLmRlbGV0ZUNvbChiKTtlbHNlIGlmKCJpbnNlcnRDb2xMZWZ0Ij09PWEpdGhpcy5pbnNlcnRDb2woYiwiYmVmb3JlIik7ZWxzZSBpZigiaW5zZXJ0Q29sUmlnaHQiPT09YSl0aGlzLmluc2VydENvbChiKTtlbHNle2lmKCJkZWxldGVUYWJsZSIhPT1hKXJldHVybjt0aGlzLmRlbGV0ZVRhYmxlKGIpfXJldHVybiB0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKX19LGN9KGgpLEQuVG9vbGJhci5hZGRCdXR0b24oRiksRT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gTShjLGIpLGMucHJvdG90eXBlLm5hbWU9InN0cmlrZXRocm91Z2giLGMucHJvdG90eXBlLmljb249InN0cmlrZXRocm91Z2giLGMucHJvdG90eXBlLmh0bWxUYWc9InN0cmlrZSIsYy5wcm90b3R5cGUuZGlzYWJsZVRhZz0icHJlIixjLnByb3RvdHlwZS5fYWN0aXZlU3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGE9ZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoInN0cmlrZXRocm91Z2giKT09PSEwLHRoaXMuc2V0QWN0aXZlKGEpLHRoaXMuYWN0aXZlfSxjLnByb3RvdHlwZS5jb21tYW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJzdHJpa2V0aHJvdWdoIiksdGhpcy5lZGl0b3IudXRpbC5zdXBwb3J0Lm9uaW5wdXR8fHRoaXMuZWRpdG9yLnRyaWdnZXIoInZhbHVlY2hhbmdlZCIpLGEoZG9jdW1lbnQpLnRyaWdnZXIoInNlbGVjdGlvbmNoYW5nZSIpfSxjfShoKSxELlRvb2xiYXIuYWRkQnV0dG9uKEUpLGU9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBiLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIE0oYixhKSxiLnByb3RvdHlwZS5uYW1lPSJhbGlnbm1lbnQiLGIucHJvdG90eXBlLmljb249ImFsaWduLWxlZnQiLGIucHJvdG90eXBlLmh0bWxUYWc9InAsIGgxLCBoMiwgaDMsIGg0LCB0ZCwgdGgiLGIucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudT1be25hbWU6ImxlZnQiLHRleHQ6dGhpcy5fdCgiYWxpZ25MZWZ0IiksaWNvbjoiYWxpZ24tbGVmdCIscGFyYW06ImxlZnQifSx7bmFtZToiY2VudGVyIix0ZXh0OnRoaXMuX3QoImFsaWduQ2VudGVyIiksaWNvbjoiYWxpZ24tY2VudGVyIixwYXJhbToiY2VudGVyIn0se25hbWU6InJpZ2h0Iix0ZXh0OnRoaXMuX3QoImFsaWduUmlnaHQiKSxpY29uOiJhbGlnbi1yaWdodCIscGFyYW06InJpZ2h0In1dLGIuX19zdXBlcl9fLl9pbml0LmNhbGwodGhpcyl9LGIucHJvdG90eXBlLnNldEFjdGl2ZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsPT1jJiYoYz0ibGVmdCIpLCJsZWZ0IiE9PWMmJiJjZW50ZXIiIT09YyYmInJpZ2h0IiE9PWMmJihjPSJsZWZ0IiksImxlZnQiPT09Yz9iLl9fc3VwZXJfXy5zZXRBY3RpdmUuY2FsbCh0aGlzLCExKTpiLl9fc3VwZXJfXy5zZXRBY3RpdmUuY2FsbCh0aGlzLGEpLHRoaXMuZWwucmVtb3ZlQ2xhc3MoImFsaWduLWxlZnQgYWxpZ24tY2VudGVyIGFsaWduLXJpZ2h0IiksYSYmdGhpcy5lbC5hZGRDbGFzcygiYWxpZ24tIitjKSx0aGlzLnNldEljb24oImFsaWduLSIrYyksdGhpcy5tZW51RWwuZmluZCgiLm1lbnUtaXRlbSIpLnNob3coKS5lbmQoKS5maW5kKCIubWVudS1pdGVtLSIrYykuaGlkZSgpfSxiLnByb3RvdHlwZS5fc3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXM9dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLm5vZGVzKCkuZmlsdGVyKHRoaXMuaHRtbFRhZyksdGhpcy5ub2Rlcy5sZW5ndGg8MT8odGhpcy5zZXREaXNhYmxlZCghMCksdGhpcy5zZXRBY3RpdmUoITEpKToodGhpcy5zZXREaXNhYmxlZCghMSksdGhpcy5zZXRBY3RpdmUoITAsdGhpcy5ub2Rlcy5maXJzdCgpLmNzcygidGV4dC1hbGlnbiIpKSl9LGIucHJvdG90eXBlLmNvbW1hbmQ9ZnVuY3Rpb24oYSl7aWYoImxlZnQiIT09YSYmImNlbnRlciIhPT1hJiYicmlnaHQiIT09YSl0aHJvdyBuZXcgRXJyb3IoInNpbWRpdG9yIGFsaWdubWVudCBidXR0b246IGludmFsaWQgYWxpZ24gIithKTtyZXR1cm4gdGhpcy5ub2Rlcy5jc3MoeyJ0ZXh0LWFsaWduIjoibGVmdCI9PT1hPyIiOmF9KSx0aGlzLmVkaXRvci50cmlnZ2VyKCJ2YWx1ZWNoYW5nZWQiKSx0aGlzLmVkaXRvci5pbnB1dE1hbmFnZXIudGhyb3R0bGVkU2VsZWN0aW9uQ2hhbmdlZCgpfSxifShoKSxELlRvb2xiYXIuYWRkQnV0dG9uKGUpLER9KTs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>